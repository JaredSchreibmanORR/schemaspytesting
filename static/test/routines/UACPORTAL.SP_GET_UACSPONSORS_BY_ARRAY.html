<!DOCTYPE html>
<html>
    <head>
        <meta charset="utf-8">
        <meta http-equiv="X-UA-Compatible" content="IE=edge">
        <title>ORCL.UACPORTAL</title>
        <!-- Tell the browser to be responsive to screen width -->
        <meta content="width=device-width, initial-scale=1, maximum-scale=1, user-scalable=no" name="viewport">
        <link rel="icon" type="image/png" sizes="16x16" href="../favicon.png">
        <!-- Bootstrap 3.3.5 -->
        <link rel="stylesheet" href="../bower/admin-lte/bootstrap/css/bootstrap.min.css">
        <!-- Font Awesome -->
        <link rel="stylesheet" href="../bower/font-awesome/css/font-awesome.min.css">
        <!-- Ionicons -->
        <link rel="stylesheet" href="../bower/ionicons/css/ionicons.min.css">
        <!-- DataTables -->
        <link rel="stylesheet" href="../bower/datatables.net-bs/css/dataTables.bootstrap.min.css">
        <link rel="stylesheet" href="../bower/datatables.net-buttons-bs/css/buttons.bootstrap.min.css">
        <!-- Code Mirror -->
        <link rel="stylesheet" href="../bower/codemirror/codemirror.css">
        <!-- Fonts -->
        <link href='../fonts/indieflower/indie-flower.css' rel='stylesheet' type='text/css'>
        <link href='../fonts/source-sans-pro/source-sans-pro.css' rel='stylesheet' type='text/css'>

        <!-- Theme style -->
        <link rel="stylesheet" href="../bower/admin-lte/dist/css/AdminLTE.min.css">
        <!-- Salvattore -->
        <link rel="stylesheet" href="../bower/salvattore/salvattore.css">
        <!-- AdminLTE Skins. Choose a skin from the css/skins
           folder instead of downloading all of them to reduce the load. -->
        <link rel="stylesheet" href="../bower/admin-lte/dist/css/skins/_all-skins.min.css">
        <!-- SchemaSpy -->
        <link rel="stylesheet" href="../schemaSpy.css">

        <!-- HTML5 Shim and Respond.js IE8 support of HTML5 elements and media queries -->
        <!-- WARNING: Respond.js doesn't work if you view the page via file:// -->
        <!--[if lt IE 9]>
        <script src="../bower/html5shiv/html5shiv.min.js"></script>
        <script src="../bower/respond/respond.min.js"></script>
        <![endif]-->
    </head>
    <!-- ADD THE CLASS layout-top-nav TO REMOVE THE SIDEBAR. -->
    <body class="hold-transition skin-blue layout-top-nav">
        <div class="wrapper">
            <header class="main-header">
                <nav class="navbar navbar-static-top">
                    <div class="container">
                        <div class="navbar-header">
                            <a href="../index.html" class="navbar-brand"><b>ORCL</b></a><span class="navbar-brand" style="padding-left: 0">.UACPORTAL</span>
                            <button type="button" class="navbar-toggle collapsed" data-toggle="collapse" data-target="#navbar-collapse"><i class="fa fa-bars"></i></button>
                        </div>

                        <!-- Collect the nav links, forms, and other content for toggling -->
                        <div class="collapse navbar-collapse pull-left" id="navbar-collapse">
                            <ul class="nav navbar-nav">
                                <li><a href="../index.html">Tables <span class="sr-only">(current)</span></a></li>
                                <li><a href="../columns.html" title="All of the columns in the schema">Columns</a></li>
                                <li><a href="../constraints.html" title="Useful for diagnosing error messages that just give constraint name or number">Constraints</a></li>
                                <li><a href="../relationships.html" title="Diagram of table relationships">Relationships</a></li>
                                <li><a href="../orphans.html" title="View of tables with neither parents nor children">Orphan&nbsp;Tables</a></li>
                                <li><a href="../anomalies.html" title="Things that might not be quite right">Anomalies</a></li>
                                <li><a href="../routines.html" title="Procedures and functions">Routines</a></li>
                            </ul>
                        </div>
                        <!-- /.navbar-collapse -->
                        <!-- Navbar Right Menu -->
                    </div>
                    <!-- /.container-fluid -->
                </nav>
            </header>
            <!-- Main content -->
            <!-- Full Width Column -->
            <div class="content-wrapper">
                <!-- Content Header (Page header) -->
                <section class="content-header">
                    <h1>UACPORTAL.SP_GET_UACSPONSORS_BY_ARRAY</h1><br />
                </section>
                <!-- Main content -->
                <section class="content">
                    <div class="box box-primary">
                        <div class="box-header with-border">
                            <span class="glyphicon glyphicon-list-alt" aria-hidden="true"></span>
                            <h3 id="Columns" class="box-title">Parameters</h3>
                            <div class="box-tools pull-right">
                                <button type="button" class="btn btn-box-tool" data-widget="collapse"><i class="fa fa-minus"></i></button>
                                <button type="button" class="btn btn-box-tool" data-widget="remove"><i class="fa fa-times"></i></button>
                            </div>
                        </div>
                        <div class="box-body">
                            <table id="standard_table" class="table table-bordered table-striped dataTable" role="grid">
                                <thead align='left'>
                                <tr>
                                    <th>Name</th>
                                    <th>Type</th>
                                    <th>Mode</th>
                                </tr>
                                </thead>
                                <tbody>
                                <tr>
                                    <td>UAC_PROGRAM_ID</td>
                                    <td>NUMBER</td>
                                    <td>IN</td>
                                </tr>
                                <tr>
                                    <td>FIRSTNAME</td>
                                    <td>VARCHAR2</td>
                                    <td>IN</td>
                                </tr>
                                <tr>
                                    <td>LASTNAME</td>
                                    <td>VARCHAR2</td>
                                    <td>IN</td>
                                </tr>
                                <tr>
                                    <td>ALIEN_NO</td>
                                    <td>VARCHAR2</td>
                                    <td>IN</td>
                                </tr>
                                <tr>
                                    <td>ADDRESS</td>
                                    <td>VARCHAR2</td>
                                    <td>IN</td>
                                </tr>
                                <tr>
                                    <td>CITY</td>
                                    <td>VARCHAR2</td>
                                    <td>IN</td>
                                </tr>
                                <tr>
                                    <td>STATEOF</td>
                                    <td>VARCHAR2</td>
                                    <td>IN</td>
                                </tr>
                                <tr>
                                    <td>EMAIL</td>
                                    <td>VARCHAR2</td>
                                    <td>IN</td>
                                </tr>
                                <tr>
                                    <td>HOMEPHONE</td>
                                    <td>VARCHAR2</td>
                                    <td>IN</td>
                                </tr>
                                <tr>
                                    <td>WORKPHONE</td>
                                    <td>VARCHAR2</td>
                                    <td>IN</td>
                                </tr>
                                <tr>
                                    <td>COB</td>
                                    <td>VARCHAR2</td>
                                    <td>IN</td>
                                </tr>
                                <tr>
                                    <td>DOB</td>
                                    <td>VARCHAR2</td>
                                    <td>IN</td>
                                </tr>
                                <tr>
                                    <td>V_PARAM1</td>
                                    <td>VARCHAR2</td>
                                    <td>IN</td>
                                </tr>
                                <tr>
                                    <td>CUR_OUT</td>
                                    <td>REF CURSOR</td>
                                    <td>OUT</td>
                                </tr>
                                </tbody>
                            </table>
                        </div>
                    </div>
                    <div class="box box-primary">
                        <div class="box-header with-border">
                            <i class="fa fa-file-code-o"></i>
                            <h3 id="RoutineDefinition" class="box-title">Definition</h3>
                            <div class="box-tools pull-right">
                                <button type="button" class="btn btn-box-tool" data-widget="collapse"><i class="fa fa-minus"></i></button>
                                <button type="button" class="btn btn-box-tool" data-widget="remove"><i class="fa fa-times"></i></button>
                            </div>
                        </div>
                        <div class="box-body">
                            <textarea id="sql-script-codemirror" name="sql-script-codemirror" rows="" style="display: none;">PROCEDURE SP_GET_UACSPONSORS_BY_ARRAY &#10;(&#10;  UAC_PROGRAM_ID  IN NUMBER&#10;, FIRSTNAME IN VARCHAR2&#10;, LASTNAME IN VARCHAR2&#10;, ALIEN_NO IN VARCHAR2 &#10;, ADDRESS IN VARCHAR2 &#10;, CITY IN VARCHAR2 &#10;, STATEOF IN VARCHAR2 &#10;, EMAIL IN VARCHAR2 &#10;, HOMEPHONE IN VARCHAR2 &#10;, WORKPHONE IN VARCHAR2 &#10;, COB IN VARCHAR2&#10;, DOB IN VARCHAR2&#10;, v_Param1 IN VARCHAR2&#10;,cur_Out  OUT SYS_REFCURSOR&#10;)&#10;AS&#10;&#10;uacProgId_ NUMBER(10) :&#61; UAC_PROGRAM_ID;&#10;dob_ DATE :&#61; NULL;&#10;&#10;fName_  VARCHAR2(300) :&#61; Trim(Upper(nvl(regexp_replace (FIRSTNAME, &#39;\s+&#39;, &#39; &#39;), &#39;xxx&#39;)));&#10;lName_  VARCHAR2(300) :&#61; Trim(Upper(nvl(regexp_replace (LASTNAME, &#39;\s+&#39;, &#39; &#39;),&#39;xxx&#39;)));&#10;&#10;searchnames_ VARCHAR2(500) :&#61; Trim(Upper(nvl(regexp_replace (FIRSTNAME, &#39;\s+&#39;, &#39; &#39;), &#39;&#39;))) || &#39; &#39; || Trim(Upper(nvl(regexp_replace (LASTNAME, &#39;\s+&#39;, &#39; &#39;), &#39;&#39;)));&#10;v_Param_Original VARCHAR2(500) :&#61; Trim(Upper(nvl(regexp_replace (FIRSTNAME, &#39;\s+&#39;, &#39; &#39;), &#39;&#39;))) || &#39; &#39; || Trim(Upper(nvl(regexp_replace (LASTNAME, &#39;\s+&#39;, &#39; &#39;), &#39;&#39;)));&#10;&#10;aNumber_  VARCHAR2(10) :&#61; Trim(Upper(nvl(ALIEN_NO, &#39;xxx&#39;)));&#10;address_  VARCHAR2(500) :&#61; Trim(Upper(nvl(regexp_replace (ADDRESS, &#39;\s+&#39;, &#39; &#39;),&#39;xxx&#39;)));&#10;city_     VARCHAR2(500) :&#61; Trim(Upper(nvl(CITY, &#39;xxx&#39;)));&#10;state_    CHAR(2) :&#61; Trim(Upper(nvl(STATEOF,&#39;xx&#39;)));&#10;email_ VARCHAR2(500) :&#61; Trim(Upper(nvl(EMAIL, &#39;xxx&#39;)));&#10;homephone_ VARCHAR2(22) :&#61; Trim(Upper(nvl(HOMEPHONE,&#39;xxx&#39;)));&#10;workphone_ VARCHAR2(22) :&#61; Trim(Upper(nvl(WORKPHONE,&#39;xxx&#39;)));&#10;cob_      VARCHAR2(500) :&#61; Trim(Upper(nvl(COB,&#39;xxx&#39;)));&#10;&#10;v_wordCount NUMBER(10,0) :&#61; 0;&#10;vSearchResultLimit NUMBER(10,0);&#10;v_count number(10,0);&#10;v_permutations NUMBER(10,0) :&#61; 0;&#10;&#10;step_ VARCHAR2(200) :&#61; NULL;&#10;errors_ VARCHAR2(200) :&#61; NULL;&#10;&#10;v_replacedFirst_ VARCHAR2(200) :&#61; NULL;&#10;v_replacedSecond_ VARCHAR2(200) :&#61; NULL;&#10;v_firstAndSecond VARCHAR2(200) :&#61; NULL;&#10;&#10;v_permutations1_ VARCHAR2(200) :&#61; NULL;&#10;v_permutations2_ VARCHAR2(200) :&#61; NULL;&#10;v_permutations3_ VARCHAR2(200) :&#61; NULL;&#10;v_permutations4_ VARCHAR2(200) :&#61; NULL;&#10;v_FirstName1_ VARCHAR2(200) :&#61; NULL;&#10;v_LastName1_ VARCHAR2(200) :&#61; NULL;&#10;v_FirstName2_ VARCHAR2(200) :&#61; NULL;&#10;v_LastName2_ VARCHAR2(200) :&#61; NULL;&#10;&#10;v_SpecialCharsFirstName_ VARCHAR(2000) :&#61; NULL;&#10;v_SpecialCharsFirstName1_ VARCHAR(2000) :&#61; NULL;&#10;v_SpecialCharsLastName_ VARCHAR(2000) :&#61; NULL;&#10;v_SpecialCharsLastName1_ VARCHAR(2000) :&#61; NULL;&#10;v_SpecialCharsAddress_ VARCHAR(2000) :&#61; NULL;&#10;v_SpecialCharsAddress1_ VARCHAR(2000) :&#61; NULL;&#10;v_SpecialCharsCity_ VARCHAR(2000) :&#61; NULL;&#10;v_SpecialCharsCity1_ VARCHAR(2000) :&#61; NULL;&#10;&#10;v_isSpecialCharsFirstName_ NUMBER(10,0) :&#61;0;&#10;v_isSpecialCharsLastName_ NUMBER(10,0) :&#61;0;&#10;v_isSpecialCharsAddress_ NUMBER(10,0) :&#61;0;&#10;v_isSpecialCharsCity_ NUMBER(10,0) :&#61;0;&#10;&#10;BEGIN&#10;&#10;     IF (EMAIL IS NOT NULL) THEN&#10;        email_ :&#61; REGEXP_REPLACE(TRIM(UPPER(EMAIL)), &#39;[^0-9A-Za-z @.!#$%&amp;*+-/&#61;?^_&#96;{|}~(),:;&lt;&gt;]&#39;, &#39;&#39;);&#10;     END IF;&#10;     IF (v_Param_Original &#61; &#39; &#39;) THEN&#10;        v_Param_Original :&#61; NULL;&#10;&#10;     END IF;&#10;&#10;-- for SoundEx. also SoundEx works better with Lower, not Upper&#10;  IF (FIRSTNAME IS NOT NULL) THEN&#10;   v_isSpecialCharsFirstName_ :&#61; IS_SPECIAL_CHARACTER(fName_);&#10;&#10;   IF (v_isSpecialCharsFirstName_ &#61; 1) THEN&#10;        v_SpecialCharsFirstName_ :&#61; trim(upper(HTML_CHARACTER_TO_SPECIAL_CHARACTERS(fName_)));&#10;        v_SpecialCharsFirstName1_ :&#61; trim(upper(HTML_SPECIAL_CHARACTERS_TO_CHARACTER(UPPER(fName_))));&#10;        --DBMS_OUTPUT.put_line(&#39;firstName - &#39; || v_SpecialCharsFirstName_);  &#10;        --DBMS_OUTPUT.put_line(&#39;firstName - &#39; || v_SpecialCharsFirstName1_);          &#10;   END IF;&#10;&#10;   select REPLACE(LOWER(trim(fName_)), &#39;in&#39;, &#39;&#39;) into v_replacedFirst_ from dual;&#10;   select REPLACE(LOWER(v_replacedFirst_), &#39;and&#39;, &#39;&#39;) into v_replacedFirst_ from dual;&#10;   select REPLACE(LOWER(v_replacedFirst_), &#39;of&#39;, &#39;&#39;) into v_replacedFirst_ from dual;&#10;   select REPLACE(LOWER(v_replacedFirst_), &#39;the&#39;, &#39;&#39;) into v_replacedFirst_ from dual;&#10;   select REPLACE(LOWER(v_replacedFirst_), &#39;to&#39;, &#39;&#39;) into v_replacedFirst_ from dual;&#10;   select REPLACE(LOWER(v_replacedFirst_), &#39;str&#39;, &#39;&#39;) into v_replacedFirst_ from dual;&#10;   select REPLACE(LOWER(v_replacedFirst_), &#39;drv&#39;, &#39;&#39;) into v_replacedFirst_ from dual;&#10;   select REPLACE(LOWER(v_replacedFirst_), &#39;st&#39;, &#39;&#39;) into v_replacedFirst_ from dual;&#10;   select REPLACE(LOWER(v_replacedFirst_), &#39;dr&#39;, &#39;&#39;) into v_replacedFirst_ from dual;&#10;   select REPLACE(LOWER(v_replacedFirst_), &#39;place&#39;, &#39;&#39;) into v_replacedFirst_ from dual;&#10;   select REPLACE(LOWER(v_replacedFirst_), &#39;blvd&#39;, &#39;&#39;) into v_replacedFirst_ from dual;&#10;   select REPLACE(LOWER(v_replacedFirst_), &#39;.&#39;, &#39;&#39;) into v_replacedFirst_ from dual;&#10;   select REPLACE(LOWER(v_replacedFirst_), &#39;#&#39;, &#39;&#39;) into v_replacedFirst_ from dual;&#10;  END IF;&#10;  IF (LASTNAME IS NOT NULL) THEN&#10;   v_isSpecialCharsLastName_ :&#61; IS_SPECIAL_CHARACTER(lName_);&#10;&#10;   IF (v_isSpecialCharsLastName_ &#61; 1) THEN&#10;        v_SpecialCharsLastName_ :&#61; trim(upper(HTML_CHARACTER_TO_SPECIAL_CHARACTERS(lName_)));   &#10;        v_SpecialCharsLastName1_ :&#61; trim(upper(HTML_SPECIAL_CHARACTERS_TO_CHARACTER(UPPER(lName_))));&#10;        --DBMS_OUTPUT.put_line(&#39;lastName - &#39; || v_SpecialCharsLastName_);  &#10;        --DBMS_OUTPUT.put_line(&#39;lastName - &#39; || v_SpecialCharsLastName1_);  &#10;   END IF;&#10;&#10;   select REPLACE(LOWER(trim(lName_)), &#39;in&#39;, &#39;&#39;) into v_replacedSecond_ from dual;&#10;   select REPLACE(LOWER(v_replacedSecond_), &#39;and&#39;, &#39;&#39;) into v_replacedSecond_ from dual;&#10;   select REPLACE(LOWER(v_replacedSecond_), &#39;of&#39;, &#39;&#39;) into v_replacedSecond_ from dual;&#10;   select REPLACE(LOWER(v_replacedSecond_), &#39;the&#39;, &#39;&#39;) into v_replacedSecond_ from dual;&#10;   select REPLACE(LOWER(v_replacedSecond_), &#39;to&#39;, &#39;&#39;) into v_replacedSecond_ from dual;&#10;   select REPLACE(LOWER(v_replacedSecond_), &#39;str&#39;, &#39;&#39;) into v_replacedSecond_ from dual;&#10;   select REPLACE(LOWER(v_replacedSecond_), &#39;drv&#39;, &#39;&#39;) into v_replacedSecond_ from dual;&#10;   select REPLACE(LOWER(v_replacedSecond_), &#39;st&#39;, &#39;&#39;) into v_replacedSecond_ from dual;&#10;   select REPLACE(LOWER(v_replacedSecond_), &#39;dr&#39;, &#39;&#39;) into v_replacedSecond_ from dual;&#10;   select REPLACE(LOWER(v_replacedSecond_), &#39;place&#39;, &#39;&#39;) into v_replacedSecond_ from dual;&#10;   select REPLACE(LOWER(v_replacedSecond_), &#39;blvd&#39;, &#39;&#39;) into v_replacedSecond_ from dual;&#10;   select REPLACE(LOWER(v_replacedSecond_), &#39;.&#39;, &#39;&#39;) into v_replacedSecond_ from dual;&#10;   select REPLACE(LOWER(v_replacedSecond_), &#39;#&#39;, &#39;&#39;) into v_replacedSecond_ from dual;&#10;  END IF;&#10;&#10;  select v_replacedFirst_ || &#39; &#39; || v_replacedSecond_ into v_firstAndSecond from dual;&#10;&#10;    IF (ADDRESS IS NOT NULL) THEN&#10;       v_isSpecialCharsAddress_ :&#61; IS_SPECIAL_CHARACTER(address_);&#10;&#10;       IF (v_isSpecialCharsAddress_ &#61; 1) THEN&#10;            v_SpecialCharsAddress_ :&#61; trim(upper(HTML_CHARACTER_TO_SPECIAL_CHARACTERS(address_)));   &#10;            v_SpecialCharsAddress1_ :&#61; trim(upper(HTML_SPECIAL_CHARACTERS_TO_CHARACTER(UPPER(address_))));&#10;       END IF;        &#10;       address_ :&#61; REGEXP_REPLACE(address_, &#39;/&#39;, &#39; &#39;);&#10;       address_ :&#61; CONCAT(CONCAT(&#39;%&#39;,replace(Trim(UPPER(address_)), &#39; &#39;, &#39;%&#39;)), &#39;%&#39;);&#10;       -- DBMS_OUTPUT.put_line(address_); &#10;    END IF;&#10;&#10;    IF (CITY IS NOT NULL) THEN&#10;       v_isSpecialCharsCity_ :&#61; IS_SPECIAL_CHARACTER(city_);&#10;&#10;       IF (v_isSpecialCharsCity_ &#61; 1) THEN&#10;            v_SpecialCharsCity_ :&#61; trim(upper(HTML_CHARACTER_TO_SPECIAL_CHARACTERS(city_)));   &#10;            v_SpecialCharsCity1_ :&#61; trim(upper(HTML_SPECIAL_CHARACTERS_TO_CHARACTER(UPPER(city_))));&#10;       END IF;&#10;    END IF;&#10;&#10;    IF (DOB IS NOT NULL) THEN&#10;        BEGIN&#10;            Select to_date(DOB,&#39;mm/dd/yyyy&#39;) INTO dob_ from dual;&#10;        EXCEPTION WHEN OTHERS THEN dob_ :&#61; NULL;&#10;        END;&#10;    END IF;&#10;&#10;    select NVL ((SELECT to_number(nvl(PARAM_VALUE, &#39;150&#39;)) --into vSearchResultLimit&#10;                 from UACPORTAL_APP_PARAMS where PARAM_NAME &#61; &#39;SearchResultsLimit1&#39;&#10;                ),&#10;                to_number(&#39;150&#39;)&#10;               ) AS PARAM_VALUE into vSearchResultLimit&#10;    from   dual;&#10;&#10;    select length(v_Param_Original) - length(replace(v_Param_Original,&#39; &#39;,null)) &#10;    INTO v_wordCount from dual;&#10;    --DBMS_OUTPUT.put_line(v_Param_Original);  &#10;    --DBMS_OUTPUT.put_line(v_wordCount);  &#10;    v_wordCount  :&#61; 0;&#10;&#10;    IF (v_Param_Original IS NOT NULL&#10;        AND v_wordCount &gt; 1) THEN&#10;        SELECT REGEXP_SUBSTR(TRIM(v_Param_Original), &#39;[^ ]+&#39;) INTO v_permutations1_ FROM dual;&#10;        SELECT REGEXP_SUBSTR(TRIM(v_Param_Original), &#39;[^ ]+&#39;, 1, 2) INTO v_permutations2_ FROM  dual;&#10;        SELECT REGEXP_SUBSTR(TRIM(v_Param_Original), &#39;[^ ]+&#39;, 1, 3) INTO v_permutations3_ FROM  dual;&#10;        SELECT REGEXP_SUBSTR(TRIM(v_Param_Original), &#39;[^ ]+&#39;, 1, 4) INTO v_permutations4_ FROM  dual;&#10;&#10;        --DBMS_OUTPUT.put_line(v_permutations1_);&#10;        --DBMS_OUTPUT.put_line(v_permutations2_);&#10;        --DBMS_OUTPUT.put_line(v_permutations3_);&#10;        --DBMS_OUTPUT.put_line(v_permutations4_);&#10;        v_FirstName1_ :&#61; &#39;&#39;;&#10;        v_FirstName2_ :&#61; &#39;&#39;;&#10;&#10;        IF (v_permutations1_ IS NOT NULL) THEN&#10;            v_FirstName1_ :&#61; v_permutations1_;&#10;        END IF;&#10;        IF (v_permutations2_ IS NOT NULL) THEN&#10;            v_FirstName2_ :&#61; v_permutations2_;&#10;        END IF;&#10;        IF (v_permutations3_ IS NOT NULL) THEN&#10;            v_FirstName2_ :&#61; v_FirstName2_ || &#39; &#39; || v_permutations3_;&#10;        END IF;&#10;        IF (v_permutations4_ IS NOT NULL) THEN&#10;            v_FirstName2_ :&#61; v_FirstName2_ || &#39; &#39; || v_permutations4_;&#10;        END IF;&#10;&#10;        --DBMS_OUTPUT.put_line(v_FirstName1_);&#10;        --DBMS_OUTPUT.put_line(v_FirstName2_);&#10;&#10;        IF (v_FirstName1_ IS NOT NULL) THEN&#10;            -- creates our list of names by switching multiple words into a temp table&#10;            -- the key is v_Param1 - FIRST PERMUTATION&#10;            INSERT INTO SPONSOR_INFO_PERMUTATIONS (PERMUTATIONS_KEY, FNAME, LNAME) &#10;            WITH words AS&#10;            (   SELECT  v_FirstName1_&#10;                    ,   REGEXP_SUBSTR( v_FirstName2_, &#39;\S+&#39;, 1, LEVEL ) AS word&#10;                    ,   LEVEL                                           AS num&#10;                FROM    DUAL&#10;                CONNECT BY LEVEL &lt;&#61; LENGTH( REGEXP_REPLACE( v_FirstName2_, &#39;\S+\s*&#39;, &#39;X&#39; ) )&#10;            )&#10;            SELECT  TRIM(v_Param1), TRIM(UPPER(v_FirstName1_)),TRIM( UPPER(SYS_CONNECT_BY_PATH( W.word, &#39; &#39; )))&#10;            FROM    words   W&#10;            CONNECT BY NOCYCLE PRIOR W.num !&#61; W.num;&#10;&#10;            -- creates our list of names by switching multiple words into a temp table&#10;            -- the key is v_Param1 - FIRST PERMUTATION&#10;            INSERT INTO SPONSOR_INFO_PERMUTATIONS (PERMUTATIONS_KEY, FNAME, LNAME) &#10;            WITH words AS&#10;            (   SELECT  v_FirstName1_&#10;                    ,   REGEXP_SUBSTR( v_FirstName2_, &#39;\S+&#39;, 1, LEVEL ) AS word&#10;                    ,   LEVEL                                           AS num&#10;                FROM    DUAL&#10;                CONNECT BY LEVEL &lt;&#61; LENGTH( REGEXP_REPLACE( v_FirstName2_, &#39;\S+\s*&#39;, &#39;X&#39; ) )&#10;            )&#10;            SELECT  TRIM(v_Param1), TRIM(UPPER(SYS_CONNECT_BY_PATH( W.word, &#39; &#39; ))), TRIM(UPPER(v_FirstName1_))&#10;            FROM    words   W&#10;            CONNECT BY NOCYCLE PRIOR W.num !&#61; W.num;  &#10;        END IF;&#10;&#10;        v_FirstName1_ :&#61; &#39;&#39;;&#10;        v_FirstName2_ :&#61; &#39;&#39;;&#10;        IF (v_permutations2_ IS NOT NULL) THEN&#10;            v_FirstName1_ :&#61; v_permutations2_;&#10;        END IF;&#10;        IF (v_permutations1_ IS NOT NULL) THEN&#10;            v_FirstName2_ :&#61; v_permutations1_;&#10;        END IF;&#10;        IF (v_permutations3_ IS NOT NULL) THEN&#10;            v_FirstName2_ :&#61; v_FirstName2_ || &#39; &#39; || v_permutations3_;&#10;        END IF;&#10;        IF (v_permutations4_ IS NOT NULL) THEN&#10;            v_FirstName2_ :&#61; v_FirstName2_ || &#39; &#39; || v_permutations4_;&#10;        END IF;&#10;&#10;        --DBMS_OUTPUT.put_line(v_FirstName1_);&#10;        --DBMS_OUTPUT.put_line(v_FirstName2_);&#10;&#10;        IF (v_FirstName1_ IS NOT NULL) THEN&#10;            -- creates our list of names by switching multiple words into a temp table&#10;            -- the key is v_Param1 - FIRST PERMUTATION&#10;            INSERT INTO SPONSOR_INFO_PERMUTATIONS (PERMUTATIONS_KEY, FNAME, LNAME) &#10;            WITH words AS&#10;            (   SELECT  v_FirstName1_&#10;                    ,   REGEXP_SUBSTR( v_FirstName2_, &#39;\S+&#39;, 1, LEVEL ) AS word&#10;                    ,   LEVEL                                           AS num&#10;                FROM    DUAL&#10;                CONNECT BY LEVEL &lt;&#61; LENGTH( REGEXP_REPLACE( v_FirstName2_, &#39;\S+\s*&#39;, &#39;X&#39; ) )&#10;            )&#10;            SELECT  TRIM(v_Param1), TRIM(UPPER(v_FirstName1_)),TRIM( UPPER(SYS_CONNECT_BY_PATH( W.word, &#39; &#39; )))&#10;            FROM    words   W&#10;            CONNECT BY NOCYCLE PRIOR W.num !&#61; W.num;&#10;&#10;            -- creates our list of names by switching multiple words into a temp table&#10;            -- the key is v_Param1 - FIRST PERMUTATION&#10;            INSERT INTO SPONSOR_INFO_PERMUTATIONS (PERMUTATIONS_KEY, FNAME, LNAME) &#10;            WITH words AS&#10;            (   SELECT  v_FirstName1_&#10;                    ,   REGEXP_SUBSTR( v_FirstName2_, &#39;\S+&#39;, 1, LEVEL ) AS word&#10;                    ,   LEVEL                                           AS num&#10;                FROM    DUAL&#10;                CONNECT BY LEVEL &lt;&#61; LENGTH( REGEXP_REPLACE( v_FirstName2_, &#39;\S+\s*&#39;, &#39;X&#39; ) )&#10;            )&#10;            SELECT  TRIM(v_Param1), TRIM(UPPER(SYS_CONNECT_BY_PATH( W.word, &#39; &#39; ))), TRIM(UPPER(v_FirstName1_))&#10;            FROM    words   W&#10;            CONNECT BY NOCYCLE PRIOR W.num !&#61; W.num;  &#10;        END IF;&#10;&#10;        v_FirstName1_ :&#61; &#39;&#39;;&#10;        v_FirstName2_ :&#61; &#39;&#39;;&#10;        IF (v_permutations3_ IS NOT NULL) THEN&#10;            v_FirstName1_ :&#61; v_permutations3_;&#10;        END IF;&#10;        IF (v_permutations1_ IS NOT NULL) THEN&#10;            v_FirstName2_ :&#61; v_permutations1_;&#10;        END IF;&#10;        IF (v_permutations2_ IS NOT NULL) THEN&#10;            v_FirstName2_ :&#61; v_FirstName2_ || &#39; &#39; || v_permutations2_;&#10;        END IF;&#10;        IF (v_permutations4_ IS NOT NULL) THEN&#10;            v_FirstName2_ :&#61; v_FirstName2_ || &#39; &#39; || v_permutations4_;&#10;        END IF;&#10;&#10;        --DBMS_OUTPUT.put_line(v_FirstName1_);&#10;        --DBMS_OUTPUT.put_line(v_FirstName2_);&#10;&#10;        IF (v_FirstName1_ IS NOT NULL) THEN&#10;            -- creates our list of names by switching multiple words into a temp table&#10;            -- the key is v_Param1 - FIRST PERMUTATION&#10;            INSERT INTO SPONSOR_INFO_PERMUTATIONS (PERMUTATIONS_KEY, FNAME, LNAME) &#10;            WITH words AS&#10;            (   SELECT  v_FirstName1_&#10;                    ,   REGEXP_SUBSTR( v_FirstName2_, &#39;\S+&#39;, 1, LEVEL ) AS word&#10;                    ,   LEVEL                                           AS num&#10;                FROM    DUAL&#10;                CONNECT BY LEVEL &lt;&#61; LENGTH( REGEXP_REPLACE( v_FirstName2_, &#39;\S+\s*&#39;, &#39;X&#39; ) )&#10;            )&#10;            SELECT  TRIM(v_Param1), TRIM(UPPER(v_FirstName1_)),TRIM( UPPER(SYS_CONNECT_BY_PATH( W.word, &#39; &#39; )))&#10;            FROM    words   W&#10;            CONNECT BY NOCYCLE PRIOR W.num !&#61; W.num;&#10;&#10;            -- creates our list of names by switching multiple words into a temp table&#10;            -- the key is v_Param1 - FIRST PERMUTATION&#10;            INSERT INTO SPONSOR_INFO_PERMUTATIONS (PERMUTATIONS_KEY, FNAME, LNAME) &#10;            WITH words AS&#10;            (   SELECT  v_FirstName1_&#10;                    ,   REGEXP_SUBSTR( v_FirstName2_, &#39;\S+&#39;, 1, LEVEL ) AS word&#10;                    ,   LEVEL                                           AS num&#10;                FROM    DUAL&#10;                CONNECT BY LEVEL &lt;&#61; LENGTH( REGEXP_REPLACE( v_FirstName2_, &#39;\S+\s*&#39;, &#39;X&#39; ) )&#10;            )&#10;            SELECT  TRIM(v_Param1), TRIM(UPPER(SYS_CONNECT_BY_PATH( W.word, &#39; &#39; ))), TRIM(UPPER(v_FirstName1_))&#10;            FROM    words   W&#10;            CONNECT BY NOCYCLE PRIOR W.num !&#61; W.num;  &#10;        END IF;&#10;&#10;        v_FirstName1_ :&#61; &#39;&#39;;&#10;        v_FirstName2_ :&#61; &#39;&#39;;&#10;        IF (v_permutations4_ IS NOT NULL) THEN&#10;            v_FirstName1_ :&#61; v_permutations4_;&#10;        END IF;&#10;        IF (v_permutations1_ IS NOT NULL) THEN&#10;            v_FirstName2_ :&#61; v_permutations1_;&#10;        END IF;&#10;        IF (v_permutations2_ IS NOT NULL) THEN&#10;            v_FirstName2_ :&#61; v_FirstName2_ || &#39; &#39; || v_permutations2_;&#10;        END IF;&#10;        IF (v_permutations3_ IS NOT NULL) THEN&#10;            v_FirstName2_ :&#61; v_FirstName2_ || &#39; &#39; || v_permutations3_;&#10;        END IF;&#10;        IF (v_permutations4_ IS NOT NULL) THEN&#10;            v_FirstName2_ :&#61; v_FirstName2_ || &#39; &#39; || v_permutations4_;&#10;        END IF;&#10;&#10;        --DBMS_OUTPUT.put_line(v_FirstName1_);&#10;        --DBMS_OUTPUT.put_line(v_FirstName2_);&#10;&#10;        IF (v_FirstName1_ IS NOT NULL) THEN&#10;            -- creates our list of names by switching multiple words into a temp table&#10;            -- the key is v_Param1 - FIRST PERMUTATION&#10;            INSERT INTO SPONSOR_INFO_PERMUTATIONS (PERMUTATIONS_KEY, FNAME, LNAME) &#10;            WITH words AS&#10;            (   SELECT  v_FirstName1_&#10;                    ,   REGEXP_SUBSTR( v_FirstName2_, &#39;\S+&#39;, 1, LEVEL ) AS word&#10;                    ,   LEVEL                                           AS num&#10;                FROM    DUAL&#10;                CONNECT BY LEVEL &lt;&#61; LENGTH( REGEXP_REPLACE( v_FirstName2_, &#39;\S+\s*&#39;, &#39;X&#39; ) )&#10;            )&#10;            SELECT  TRIM(v_Param1), TRIM(UPPER(v_FirstName1_)),TRIM( UPPER(SYS_CONNECT_BY_PATH( W.word, &#39; &#39; )))&#10;            FROM    words   W&#10;            CONNECT BY NOCYCLE PRIOR W.num !&#61; W.num;&#10;&#10;            -- creates our list of names by switching multiple words into a temp table&#10;            -- the key is v_Param1 - FIRST PERMUTATION&#10;            INSERT INTO SPONSOR_INFO_PERMUTATIONS (PERMUTATIONS_KEY, FNAME, LNAME) &#10;            WITH words AS&#10;            (   SELECT  v_FirstName1_&#10;                    ,   REGEXP_SUBSTR( v_FirstName2_, &#39;\S+&#39;, 1, LEVEL ) AS word&#10;                    ,   LEVEL                                           AS num&#10;                FROM    DUAL&#10;                CONNECT BY LEVEL &lt;&#61; LENGTH( REGEXP_REPLACE( v_FirstName2_, &#39;\S+\s*&#39;, &#39;X&#39; ) )&#10;            )&#10;            SELECT  TRIM(v_Param1), TRIM(UPPER(SYS_CONNECT_BY_PATH( W.word, &#39; &#39; ))), TRIM(UPPER(v_FirstName1_))&#10;            FROM    words   W&#10;            CONNECT BY NOCYCLE PRIOR W.num !&#61; W.num;  &#10;        END IF;&#10;&#10;        -- Remove items that are like FNAME :&#61; &#39;JOSE&#39; AND LNAME :&#61; &#39;SMITH&#39;&#10;        -- in both the first and last names&#10;        IF (v_wordCount &#61; 2) THEN&#10;            DELETE FROM SPONSOR_INFO_PERMUTATIONS &#10;            WHERE  PERMUTATIONS_KEY &#61; v_Param1&#10;                AND (length(FNAME) - length(replace(FNAME,&#39; &#39;,null)) &#61; 0)&#10;                AND (length(LNAME) - length(replace(LNAME,&#39; &#39;,null)) &#61; 0);&#10;        ELSIF (v_wordCount &#61; 3) THEN&#10;            DELETE FROM SPONSOR_INFO_PERMUTATIONS &#10;            WHERE  PERMUTATIONS_KEY &#61; &#39;123456789oiuytgb&#39;&#10;                AND (length((FNAME || &#39; &#39; || LNAME)) - length(replace((FNAME || &#39; &#39; || LNAME),&#39; &#39;,null)) &lt; 3);&#10;        END IF;&#10;&#10;    END IF;&#10;&#10;   Select count(*) into v_permutations from SPONSOR_INFO_PERMUTATIONS where PERMUTATIONS_KEY &#61; v_Param1;&#10;&#10;   --select count(*) as countItem into v_count from SPONSOR_INFO_PERMUTATIONS where PERMUTATIONS_KEY &#61; v_Param1;&#10;   --DBMS_OUTPUT.put_line(fName_);   &#10;&#10;   --v_permutations :&#61; 1;&#10;&#10;BEGIN&#10;    IF (DOB IS NULL) THEN&#10;     step_ :&#61; &#39;ROWLEVEL-1, NULL DOB - LAST and FIRST&#39;;&#10;&#10;     --DBMS_OUTPUT.put_line(fName_);&#10;     step_ :&#61; &#39;ROWLEVEL-1, NULL DOB - LAST and FIRST&#39;;&#10;     INSERT INTO SPONSOR_INFO_SEARCH_TEMP&#10;     (Select DISTINCT v_Param1, Count(*) over() as rowC,  A.SPONSOR_ID, A.ALIEN_NO, A.DOB, &#10;          A.FIRST_NAME, --REGEXP_REPLACE(A.FIRST_NAME, &#39;[^0-9A-Za-z ,.#;&amp;-]&#39;, &#39;&#39;) AS FIRST_NAME, &#10;          A.Last_Name,  --REGEXP_REPLACE(A.Last_Name, &#39;[^0-9A-Za-z ,.#;&amp;-]&#39;, &#39;&#39;) AS Last_Name, &#10;          A.Address,--  REGEXP_REPLACE(A.Address, &#39;[^0-9A-Za-z ,.#-&amp;/\]&#39;, &#39;&#39;) AS Address , &#10;          A.City, --REGEXP_REPLACE(A.City, &#39;[^0-9A-Za-z ,.#]&#39;, &#39;&#39;) AS City, &#10;          A.State, NVL(A.P_COUNTER, 0), &#10;         REGEXP_REPLACE(A.HOME_PHONE, &#39;[^0-9]&#39;, &#39;&#39;)  as HOME_PHONE, &#10;         REGEXP_REPLACE(A.WORK_PHONE, &#39;[^0-9]&#39;, &#39;&#39;)  as WORK_PHONE,&#10;          A.EMAIL,&#10;         A.COB,&#10;         NVL(A.A_COUNTER, 0), &#10;         &#10;        CASE &#10;            WHEN UPPER(A.FLAG) IN (&#39;YES&#39;) OR A.FLAG_ADDRESS IN (&#39;1&#39;) &#10;                 OR EXISTS (SELECT 1 FROM SponsorFlag WHERE SPONSORID &#61; A.SPONSOR_ID)&#10;            THEN &#39;Yes&#39;&#10;            ELSE &#39;No&#39;&#10;        END AS Flag,&#10;&#10;        --(CASE WHEN REGEXP_REPLACE(A.FLAG, &#39;[^0-9A-Za-z ,.#]&#39;, &#39;&#39;) &#61; &#39;Yes&#39; OR nvl(A.FLAG_ADDRESS, 0) &#61; 1 THEN &#39;Yes&#39; ELSE &#39;No&#39; END) AS FLAG, &#10;        A.FLAG_NOTE, --REGEXP_REPLACE(A.FLAG_NOTE, &#39;[^0-9A-Za-z ,.#]&#39;, &#39;&#39;) as FLAG_NOTE,&#10;         &#10;         1 AS ROWLEVEL, &#39;&#39; as SPONSOR_STATUS,&#39;Add Sponsor&#39; as ADD_SPONSOR&#10;        From V_SPONSOR_INFO A&#10;&#9;&#9;  Where&#10;            --((CASE WHEN searchNames_ &#61; &#39;XXX XXX&#39; THEN 1 WHEN (TRIM(UPPER(A.first_name)) || &#39; &#39; || TRIM(UPPER(A.last_name)) &#61; searchNames_) THEN 1 ELSE 0 END) &#61; 1&#10;            --  OR (CASE WHEN searchNames_ &#61; &#39;XXX XXX&#39; THEN 1 WHEN (TRIM(UPPER(A.last_name)) || &#39; &#39; || TRIM(UPPER(A.first_name)) &#61; searchNames_) THEN 1 ELSE 0 END) &#61; 1&#10;            --)&#10;            (&#10;            CASE WHEN fName_ &#61; &#39;XXX&#39; THEN 1 WHEN (trim(UPPER(REPLACE(A.LAST_NAME, &#39;&#39;&#39;&#39;, &#39;&#39;))) &#61; REPLACE(trim(fName_), &#39;&#39;&#39;&#39;, &#39;&#39;)) THEN 1 ELSE 0 END) &#61; 1&#10;            AND (CASE WHEN lName_ &#61; &#39;XXX&#39; THEN 1 WHEN (UPPER(REPLACE(nvl(A.FIRST_NAME,&#39;&#39;), &#39;&#39;&#39;&#39;, &#39;&#39;)) &#61; REPLACE(lName_, &#39;&#39;&#39;&#39;, &#39;&#39;)) THEN 1 ELSE 0 END) &#61; 1&#10;            AND (CASE WHEN city_ &#61; &#39;XXX&#39; THEN 1 WHEN (UPPER(nvl(A.CITY,&#39;&#39;)) &#61; city_) THEN 1 ELSE 0 END) &#61; 1&#10;            AND (CASE WHEN address_ &#61; &#39;XXX&#39; THEN 1 WHEN (UPPER(REPLACE(nvl(A.ADDRESS,&#39;&#39;), &#39;&#39;&#39;&#39;, &#39;&#39;)) &#61; REPLACE(address_, &#39;&#39;&#39;&#39;, &#39;&#39;)) THEN 1 ELSE 0 END) &#61; 1&#10;            And (CASE WHEN homephone_ &#61; &#39;XXX&#39; THEN 1 WHEN (UPPER(nvl(A.HOME_PHONE,&#39;&#39;)) &#61; homephone_) THEN 1 ELSE 0 END) &#61; 1&#10;            And (CASE WHEN workphone_ &#61; &#39;XXX&#39; THEN 1 WHEN (UPPER(nvl(A.WORK_PHONE,&#39;&#39;)) &#61; workphone_) THEN 1 ELSE 0 END) &#61; 1&#10;            And (CASE WHEN email_ &#61; &#39;XXX&#39; THEN 1 WHEN (UPPER(nvl(A.EMAIL,&#39;&#39;)) &#61; REPLACE(email_, &#39;&#39;&#39;&#39;, &#39;&#39;)) THEN 1 ELSE 0 END) &#61; 1&#10;            And (CASE WHEN aNumber_ &#61; &#39;XXX&#39; THEN 1 WHEN (UPPER(nvl(A.ALIEN_NO, &#39;&#39;)) &#61; aNumber_) THEN 1 ELSE 0 END) &#61; 1&#10;            And (CASE WHEN state_ &#61; &#39;XX&#39; THEN 1 WHEN (UPPER(nvl(A.&quot;STATE&quot;,&#39;&#39;)) &#61; state_) THEN 1 ELSE 0 END) &#61; 1&#10;            And (CASE WHEN cob_ &#61; &#39;XXX&#39; THEN 1 WHEN (UPPER(nvl(A.COB,&#39;&#39;))&#61; cob_) THEN 1 ELSE 0 END) &#61; 1&#10;&#10;&#9;&#9;    And SPONSOR_ID Not In (Select SPONSOR_ID from UAC_SPONSOR_LIST A Inner Join UAC_PROGRAM_INFO B On A.UAC_ID &#61; B.UAC_ID Where B.UAC_PROGRAM_ID &#61; uacProgId_)&#10;            And NOT EXISTS (Select SPONSOR_ID from SPONSOR_INFO_SEARCH_TEMP Where SPONSOR_ID &#61; A.SPONSOR_ID&#10;            )&#10;&#10;           Order by A.First_Name, A.Last_Name &#10;           FETCH FIRST vSearchResultLimit ROWS ONLY &#10;      );&#10;&#10;     step_ :&#61; &#39;ROWLEVEL-1, NULL DOB - FIRST and LAST&#39;;&#10;     INSERT INTO SPONSOR_INFO_SEARCH_TEMP&#10;     (Select DISTINCT v_Param1, Count(*) over() as rowC,  A.SPONSOR_ID, A.ALIEN_NO, A.DOB, &#10;          A.FIRST_NAME, --REGEXP_REPLACE(A.FIRST_NAME, &#39;[^0-9A-Za-z ,.#;&amp;-]&#39;, &#39;&#39;) AS FIRST_NAME, &#10;          A.Last_Name,  --REGEXP_REPLACE(A.Last_Name, &#39;[^0-9A-Za-z ,.#;&amp;-]&#39;, &#39;&#39;) AS Last_Name, &#10;          A.Address,--  REGEXP_REPLACE(A.Address, &#39;[^0-9A-Za-z ,.#-&amp;/\]&#39;, &#39;&#39;) AS Address , &#10;          A.City, --REGEXP_REPLACE(A.City, &#39;[^0-9A-Za-z ,.#]&#39;, &#39;&#39;) AS City, &#10;          A.State, NVL(A.P_COUNTER, 0),  &#10;         REGEXP_REPLACE(A.HOME_PHONE, &#39;[^0-9]&#39;, &#39;&#39;)  as HOME_PHONE, &#10;         REGEXP_REPLACE(A.WORK_PHONE, &#39;[^0-9]&#39;, &#39;&#39;)  as WORK_PHONE,&#10;          A.EMAIL,&#10;         A.COB,&#10;         NVL(A.A_COUNTER, 0), &#10;         &#10;        CASE &#10;            WHEN UPPER(A.FLAG) IN (&#39;YES&#39;) OR A.FLAG_ADDRESS IN (&#39;1&#39;) &#10;                 OR EXISTS (SELECT 1 FROM SponsorFlag WHERE SPONSORID &#61; A.SPONSOR_ID)&#10;            THEN &#39;Yes&#39;&#10;            ELSE &#39;No&#39;&#10;        END AS Flag,&#10;&#10;        --(CASE WHEN REGEXP_REPLACE(A.FLAG, &#39;[^0-9A-Za-z ,.#]&#39;, &#39;&#39;) &#61; &#39;Yes&#39; OR nvl(A.FLAG_ADDRESS, 0) &#61; 1 THEN &#39;Yes&#39; ELSE &#39;No&#39; END) AS FLAG, &#10;        A.FLAG_NOTE, --REGEXP_REPLACE(A.FLAG_NOTE, &#39;[^0-9A-Za-z ,.#]&#39;, &#39;&#39;) as FLAG_NOTE,&#10;         &#10;         1 AS ROWLEVEL, &#39;&#39; as SPONSOR_STATUS,&#39;Add Sponsor&#39; as ADD_SPONSOR&#10;        From V_SPONSOR_INFO A&#10;&#9;&#9;  Where&#10;            --((CASE WHEN searchNames_ &#61; &#39;XXX XXX&#39; THEN 1 WHEN (TRIM(UPPER(A.first_name)) || &#39; &#39; || TRIM(UPPER(A.last_name)) &#61; searchNames_) THEN 1 ELSE 0 END) &#61; 1&#10;            --  OR (CASE WHEN searchNames_ &#61; &#39;XXX XXX&#39; THEN 1 WHEN (TRIM(UPPER(A.last_name)) || &#39; &#39; || TRIM(UPPER(A.first_name)) &#61; searchNames_) THEN 1 ELSE 0 END) &#61; 1&#10;            --)&#10;            (CASE WHEN fName_ &#61; &#39;XXX&#39; THEN 1 WHEN (trim(UPPER(REPLACE(A.FIRST_NAME, &#39;&#39;&#39;&#39;, &#39;&#39;))) &#61; trim(REPLACE(fName_, &#39;&#39;&#39;&#39;, &#39;&#39;))) THEN 1 ELSE 0 END) &#61; 1&#10;            AND (CASE WHEN lName_ &#61; &#39;XXX&#39; THEN 1 WHEN (UPPER(REPLACE(nvl(A.LAST_NAME,&#39;&#39;), &#39;&#39;&#39;&#39;, &#39;&#39;)) &#61; REPLACE(lName_, &#39;&#39;&#39;&#39;, &#39;&#39;)) THEN 1 ELSE 0 END) &#61; 1&#10;            AND (CASE WHEN city_ &#61; &#39;XXX&#39; THEN 1 WHEN (UPPER(nvl(A.CITY,&#39;&#39;)) &#61; city_) THEN 1 ELSE 0 END) &#61; 1&#10;            AND (CASE WHEN address_ &#61; &#39;XXX&#39; THEN 1 WHEN (UPPER(REPLACE(nvl(A.ADDRESS,&#39;&#39;), &#39;&#39;&#39;&#39;, &#39;&#39;)) &#61; REPLACE(address_, &#39;&#39;&#39;&#39;, &#39;&#39;)) THEN 1 ELSE 0 END) &#61; 1&#10;            And (CASE WHEN homephone_ &#61; &#39;XXX&#39; THEN 1 WHEN (UPPER(nvl(A.HOME_PHONE,&#39;&#39;)) &#61; homephone_) THEN 1 ELSE 0 END) &#61; 1&#10;            And (CASE WHEN workphone_ &#61; &#39;XXX&#39; THEN 1 WHEN (UPPER(nvl(A.WORK_PHONE,&#39;&#39;)) &#61; workphone_) THEN 1 ELSE 0 END) &#61; 1&#10;            And (CASE WHEN email_ &#61; &#39;XXX&#39; THEN 1 WHEN (UPPER(nvl(A.EMAIL,&#39;&#39;)) &#61; REPLACE(email_, &#39;&#39;&#39;&#39;, &#39;&#39;)) THEN 1 ELSE 0 END) &#61; 1&#10;            And (CASE WHEN aNumber_ &#61; &#39;XXX&#39; THEN 1 WHEN (UPPER(nvl(A.ALIEN_NO, &#39;&#39;)) &#61; aNumber_) THEN 1 ELSE 0 END) &#61; 1&#10;            And (CASE WHEN state_ &#61; &#39;XX&#39; THEN 1 WHEN (UPPER(nvl(A.&quot;STATE&quot;,&#39;&#39;)) &#61; state_) THEN 1 ELSE 0 END) &#61; 1&#10;            And (CASE WHEN cob_ &#61; &#39;XXX&#39; THEN 1 WHEN (UPPER(nvl(A.COB,&#39;&#39;))&#61; cob_) THEN 1 ELSE 0 END) &#61; 1&#10;&#10;&#9;&#9;    And SPONSOR_ID Not In (Select SPONSOR_ID from UAC_SPONSOR_LIST A Inner Join UAC_PROGRAM_INFO B On A.UAC_ID &#61; B.UAC_ID Where B.UAC_PROGRAM_ID &#61; uacProgId_)&#10;            And NOT EXISTS (Select SPONSOR_ID from SPONSOR_INFO_SEARCH_TEMP Where SPONSOR_ID &#61; A.SPONSOR_ID) &#10;           Order by A.First_Name, A.Last_Name &#10;           FETCH FIRST vSearchResultLimit ROWS ONLY &#10;      );&#10;&#10;    if (v_isSpecialCharsFirstName_ &#61; 1&#10;        OR v_isSpecialCharsLastName_ &#61; 1&#10;        OR v_isSpecialCharsCity_ &#61; 1&#10;        OR v_isSpecialCharsAddress_ &#61; 1) THEN&#10;&#10;        step_ :&#61; &#39;ROWLEVEL-1, NULL DOB - FIRST and LAST - SPECIAL CHARACTERS&#39;;&#10;        INSERT INTO SPONSOR_INFO_SEARCH_TEMP&#10;         (Select DISTINCT v_Param1, Count(*) over() as rowC,  A.SPONSOR_ID, A.ALIEN_NO, A.DOB, &#10;              A.FIRST_NAME, --REGEXP_REPLACE(A.FIRST_NAME, &#39;[^0-9A-Za-z ,.#;&amp;-]&#39;, &#39;&#39;) AS FIRST_NAME, &#10;              A.Last_Name,  --REGEXP_REPLACE(A.Last_Name, &#39;[^0-9A-Za-z ,.#;&amp;-]&#39;, &#39;&#39;) AS Last_Name, &#10;              A.Address,--  REGEXP_REPLACE(A.Address, &#39;[^0-9A-Za-z ,.#-&amp;/\]&#39;, &#39;&#39;) AS Address , &#10;              A.City, --REGEXP_REPLACE(A.City, &#39;[^0-9A-Za-z ,.#]&#39;, &#39;&#39;) AS City, &#10;              A.State, NVL(A.P_COUNTER, 0), &#10;             REGEXP_REPLACE(A.HOME_PHONE, &#39;[^0-9]&#39;, &#39;&#39;)  as HOME_PHONE, &#10;             REGEXP_REPLACE(A.WORK_PHONE, &#39;[^0-9]&#39;, &#39;&#39;)  as WORK_PHONE,&#10;              A.EMAIL,&#10;             A.COB,&#10;             NVL(A.A_COUNTER, 0), &#10;             &#10;             CASE &#10;                WHEN UPPER(A.FLAG) IN (&#39;YES&#39;) OR A.FLAG_ADDRESS IN (&#39;1&#39;) &#10;                     OR EXISTS (SELECT 1 FROM SponsorFlag WHERE SPONSORID &#61; A.SPONSOR_ID)&#10;                THEN &#39;Yes&#39;&#10;                ELSE &#39;No&#39;&#10;            END AS Flag,&#10;&#10;            --(CASE WHEN REGEXP_REPLACE(A.FLAG, &#39;[^0-9A-Za-z ,.#]&#39;, &#39;&#39;) &#61; &#39;Yes&#39; OR nvl(A.FLAG_ADDRESS, 0) &#61; 1 THEN &#39;Yes&#39; ELSE &#39;No&#39; END) AS FLAG, &#10;            A.FLAG_NOTE, --REGEXP_REPLACE(A.FLAG_NOTE, &#39;[^0-9A-Za-z ,.#]&#39;, &#39;&#39;) as FLAG_NOTE,&#10;            &#10;             1 AS ROWLEVEL, &#39;&#39; as SPONSOR_STATUS,&#39;Add Sponsor&#39; as ADD_SPONSOR&#10;            From V_SPONSOR_INFO A&#10;              Where&#10;                --((CASE WHEN searchNames_ &#61; &#39;XXX XXX&#39; THEN 1 WHEN (TRIM(UPPER(A.first_name)) || &#39; &#39; || TRIM(UPPER(A.last_name)) &#61; searchNames_) THEN 1 ELSE 0 END) &#61; 1&#10;                --  OR (CASE WHEN searchNames_ &#61; &#39;XXX XXX&#39; THEN 1 WHEN (TRIM(UPPER(A.last_name)) || &#39; &#39; || TRIM(UPPER(A.first_name)) &#61; searchNames_) THEN 1 ELSE 0 END) &#61; 1&#10;                --)&#10;                (CASE WHEN v_isSpecialCharsFirstName_ &#61; 0 THEN 1 WHEN (trim(UPPER(A.FIRST_NAME)) &#61; trim(v_SpecialCharsFirstName_)) THEN 1 ELSE 0 END) &#61; 1&#10;                AND (CASE WHEN v_isSpecialCharsLastName_ &#61; 0 THEN 1 WHEN (UPPER(nvl(A.LAST_NAME,&#39;&#39;)) &#61; v_SpecialCharsLastName_) THEN 1 ELSE 0 END) &#61; 1&#10;                AND (CASE WHEN v_isSpecialCharsCity_ &#61; 0 THEN 1 WHEN (UPPER(nvl(A.CITY,&#39;&#39;)) &#61; v_SpecialCharsCity_) THEN 1 ELSE 0 END) &#61; 1&#10;                AND (CASE WHEN v_isSpecialCharsAddress_ &#61; 0 THEN 1 WHEN (UPPER(nvl(A.ADDRESS,&#39;&#39;)) like &#39;%&#39; || v_SpecialCharsAddress_ || &#39;%&#39;) THEN 1 ELSE 0 END) &#61; 1&#10;                And (CASE WHEN homephone_ &#61; &#39;XXX&#39; THEN 1 WHEN (UPPER(nvl(A.HOME_PHONE,&#39;&#39;)) &#61; homephone_) THEN 1 ELSE 0 END) &#61; 1&#10;                And (CASE WHEN workphone_ &#61; &#39;XXX&#39; THEN 1 WHEN (UPPER(nvl(A.WORK_PHONE,&#39;&#39;)) &#61; workphone_) THEN 1 ELSE 0 END) &#61; 1&#10;                And (CASE WHEN email_ &#61; &#39;XXX&#39; THEN 1 WHEN (UPPER(nvl(A.EMAIL,&#39;&#39;)) &#61; REPLACE(email_, &#39;&#39;&#39;&#39;, &#39;&#39;)) THEN 1 ELSE 0 END) &#61; 1&#10;                And (CASE WHEN aNumber_ &#61; &#39;XXX&#39; THEN 1 WHEN (UPPER(nvl(A.ALIEN_NO, &#39;&#39;)) &#61; aNumber_) THEN 1 ELSE 0 END) &#61; 1&#10;                And (CASE WHEN state_ &#61; &#39;XX&#39; THEN 1 WHEN (UPPER(nvl(A.&quot;STATE&quot;,&#39;&#39;)) &#61; state_) THEN 1 ELSE 0 END) &#61; 1&#10;                And (CASE WHEN cob_ &#61; &#39;XXX&#39; THEN 1 WHEN (UPPER(nvl(A.COB,&#39;&#39;))&#61; cob_) THEN 1 ELSE 0 END) &#61; 1&#10;&#10;                And SPONSOR_ID Not In (Select SPONSOR_ID from UAC_SPONSOR_LIST A Inner Join UAC_PROGRAM_INFO B On A.UAC_ID &#61; B.UAC_ID Where B.UAC_PROGRAM_ID &#61; uacProgId_)&#10;                And NOT EXISTS (Select SPONSOR_ID from SPONSOR_INFO_SEARCH_TEMP Where SPONSOR_ID &#61; A.SPONSOR_ID) &#10;               Order by A.First_Name, A.Last_Name &#10;               FETCH FIRST vSearchResultLimit ROWS ONLY &#10;          );&#10;&#10;        step_ :&#61; &#39;ROWLEVEL-1, DOB IS NOT NULL - FIRST and LAST - SPECIAL CHARACTERS&#39;;&#10;        INSERT INTO SPONSOR_INFO_SEARCH_TEMP&#10;         (Select DISTINCT v_Param1, Count(*) over() as rowC,  A.SPONSOR_ID, A.ALIEN_NO, A.DOB, &#10;              A.FIRST_NAME, --REGEXP_REPLACE(A.FIRST_NAME, &#39;[^0-9A-Za-z ,.#;&amp;-]&#39;, &#39;&#39;) AS FIRST_NAME, &#10;              A.Last_Name,  --REGEXP_REPLACE(A.Last_Name, &#39;[^0-9A-Za-z ,.#;&amp;-]&#39;, &#39;&#39;) AS Last_Name, &#10;              A.Address,--  REGEXP_REPLACE(A.Address, &#39;[^0-9A-Za-z ,.#-&amp;/\]&#39;, &#39;&#39;) AS Address , &#10;              A.City, --REGEXP_REPLACE(A.City, &#39;[^0-9A-Za-z ,.#]&#39;, &#39;&#39;) AS City, &#10;              A.State, NVL(A.P_COUNTER, 0),  &#10;             REGEXP_REPLACE(A.HOME_PHONE, &#39;[^0-9]&#39;, &#39;&#39;)  as HOME_PHONE, &#10;             REGEXP_REPLACE(A.WORK_PHONE, &#39;[^0-9]&#39;, &#39;&#39;)  as WORK_PHONE,&#10;              A.EMAIL,&#10;             A.COB,&#10;             NVL(A.A_COUNTER, 0), &#10;             &#10;            CASE &#10;                WHEN UPPER(A.FLAG) IN (&#39;YES&#39;) OR A.FLAG_ADDRESS IN (&#39;1&#39;) &#10;                     OR EXISTS (SELECT 1 FROM SponsorFlag WHERE SPONSORID &#61; A.SPONSOR_ID)&#10;                THEN &#39;Yes&#39;&#10;                ELSE &#39;No&#39;&#10;            END AS Flag,&#10;&#10;            --(CASE WHEN REGEXP_REPLACE(A.FLAG, &#39;[^0-9A-Za-z ,.#]&#39;, &#39;&#39;) &#61; &#39;Yes&#39; OR nvl(A.FLAG_ADDRESS, 0) &#61; 1 THEN &#39;Yes&#39; ELSE &#39;No&#39; END) AS FLAG, &#10;            A.FLAG_NOTE, --REGEXP_REPLACE(A.FLAG_NOTE, &#39;[^0-9A-Za-z ,.#]&#39;, &#39;&#39;) as FLAG_NOTE,&#10;             &#10;             1 AS ROWLEVEL, &#39;&#39; as SPONSOR_STATUS,&#39;Add Sponsor&#39; as ADD_SPONSOR&#10;            From V_SPONSOR_INFO A&#10;              Where&#10;                --((CASE WHEN searchNames_ &#61; &#39;XXX XXX&#39; THEN 1 WHEN (TRIM(UPPER(A.first_name)) || &#39; &#39; || TRIM(UPPER(A.last_name)) &#61; searchNames_) THEN 1 ELSE 0 END) &#61; 1&#10;                --  OR (CASE WHEN searchNames_ &#61; &#39;XXX XXX&#39; THEN 1 WHEN (TRIM(UPPER(A.last_name)) || &#39; &#39; || TRIM(UPPER(A.first_name)) &#61; searchNames_) THEN 1 ELSE 0 END) &#61; 1&#10;                --)&#10;                (CASE WHEN v_isSpecialCharsFirstName_ &#61; 0 THEN 1 WHEN (trim(UPPER(A.FIRST_NAME)) &#61; trim(v_SpecialCharsFirstName1_)) THEN 1 ELSE 0 END) &#61; 1&#10;                AND (CASE WHEN v_isSpecialCharsLastName_ &#61; 0 THEN 1 WHEN (UPPER(nvl(A.LAST_NAME,&#39;&#39;)) &#61; v_SpecialCharsLastName1_) THEN 1 ELSE 0 END) &#61; 1&#10;                AND (CASE WHEN v_isSpecialCharsCity_ &#61; 0 THEN 1 WHEN (UPPER(nvl(A.CITY,&#39;&#39;)) &#61; v_SpecialCharsCity1_) THEN 1 ELSE 0 END) &#61; 1&#10;                AND (CASE WHEN v_isSpecialCharsAddress_ &#61; 0 THEN 1 WHEN (UPPER(nvl(A.ADDRESS,&#39;&#39;)) like &#39;%&#39; || v_SpecialCharsAddress1_ || &#39;%&#39;) THEN 1 ELSE 0 END) &#61; 1&#10;                And (CASE WHEN homephone_ &#61; &#39;XXX&#39; THEN 1 WHEN (UPPER(nvl(A.HOME_PHONE,&#39;&#39;)) &#61; homephone_) THEN 1 ELSE 0 END) &#61; 1&#10;                And (CASE WHEN workphone_ &#61; &#39;XXX&#39; THEN 1 WHEN (UPPER(nvl(A.WORK_PHONE,&#39;&#39;)) &#61; workphone_) THEN 1 ELSE 0 END) &#61; 1&#10;                And (CASE WHEN email_ &#61; &#39;XXX&#39; THEN 1 WHEN (UPPER(nvl(A.EMAIL,&#39;&#39;)) &#61; REPLACE(email_, &#39;&#39;&#39;&#39;, &#39;&#39;)) THEN 1 ELSE 0 END) &#61; 1&#10;                And (CASE WHEN aNumber_ &#61; &#39;XXX&#39; THEN 1 WHEN (UPPER(nvl(A.ALIEN_NO, &#39;&#39;)) &#61; aNumber_) THEN 1 ELSE 0 END) &#61; 1&#10;                And (CASE WHEN state_ &#61; &#39;XX&#39; THEN 1 WHEN (UPPER(nvl(A.&quot;STATE&quot;,&#39;&#39;)) &#61; state_) THEN 1 ELSE 0 END) &#61; 1&#10;                And (CASE WHEN cob_ &#61; &#39;XXX&#39; THEN 1 WHEN (UPPER(nvl(A.COB,&#39;&#39;))&#61; cob_) THEN 1 ELSE 0 END) &#61; 1&#10;&#10;                And SPONSOR_ID Not In (Select SPONSOR_ID from UAC_SPONSOR_LIST A Inner Join UAC_PROGRAM_INFO B On A.UAC_ID &#61; B.UAC_ID Where B.UAC_PROGRAM_ID &#61; uacProgId_)&#10;                And NOT EXISTS (Select SPONSOR_ID from SPONSOR_INFO_SEARCH_TEMP Where SPONSOR_ID &#61; A.SPONSOR_ID) &#10;               Order by A.First_Name, A.Last_Name &#10;               FETCH FIRST vSearchResultLimit ROWS ONLY &#10;          );&#10;        IF (DOB IS NOT NULL) THEN&#10;        step_ :&#61; &#39;ROWLEVEL-1, NULL DOB - FIRST and LAST - SPECIAL CHARACTERS&#39;;&#10;        INSERT INTO SPONSOR_INFO_SEARCH_TEMP&#10;         (Select DISTINCT v_Param1, Count(*) over() as rowC,  A.SPONSOR_ID, A.ALIEN_NO, A.DOB, &#10;              A.FIRST_NAME, --REGEXP_REPLACE(A.FIRST_NAME, &#39;[^0-9A-Za-z ,.#;&amp;-]&#39;, &#39;&#39;) AS FIRST_NAME, &#10;              A.Last_Name,  --REGEXP_REPLACE(A.Last_Name, &#39;[^0-9A-Za-z ,.#;&amp;-]&#39;, &#39;&#39;) AS Last_Name, &#10;              A.Address,--  REGEXP_REPLACE(A.Address, &#39;[^0-9A-Za-z ,.#-&amp;/\]&#39;, &#39;&#39;) AS Address , &#10;              A.City, --REGEXP_REPLACE(A.City, &#39;[^0-9A-Za-z ,.#]&#39;, &#39;&#39;) AS City, &#10;              A.State, NVL(A.P_COUNTER, 0), &#10;             REGEXP_REPLACE(A.HOME_PHONE, &#39;[^0-9]&#39;, &#39;&#39;)  as HOME_PHONE, &#10;             REGEXP_REPLACE(A.WORK_PHONE, &#39;[^0-9]&#39;, &#39;&#39;)  as WORK_PHONE,&#10;              A.EMAIL,&#10;             A.COB,&#10;             NVL(A.A_COUNTER, 0), &#10;             &#10;            CASE &#10;                WHEN UPPER(A.FLAG) IN (&#39;YES&#39;) OR A.FLAG_ADDRESS IN (&#39;1&#39;) &#10;                     OR EXISTS (SELECT 1 FROM SponsorFlag WHERE SPONSORID &#61; A.SPONSOR_ID)&#10;                THEN &#39;Yes&#39;&#10;                ELSE &#39;No&#39;&#10;            END AS Flag,&#10;&#10;            --(CASE WHEN REGEXP_REPLACE(A.FLAG, &#39;[^0-9A-Za-z ,.#]&#39;, &#39;&#39;) &#61; &#39;Yes&#39; OR nvl(A.FLAG_ADDRESS, 0) &#61; 1 THEN &#39;Yes&#39; ELSE &#39;No&#39; END) AS FLAG, &#10;            A.FLAG_NOTE, --REGEXP_REPLACE(A.FLAG_NOTE, &#39;[^0-9A-Za-z ,.#]&#39;, &#39;&#39;) as FLAG_NOTE,&#10;&#10;             &#10;             1 AS ROWLEVEL, &#39;&#39; as SPONSOR_STATUS,&#39;Add Sponsor&#39; as ADD_SPONSOR&#10;            From V_SPONSOR_INFO A&#10;              Where&#10;                --((CASE WHEN searchNames_ &#61; &#39;XXX XXX&#39; THEN 1 WHEN (TRIM(UPPER(A.first_name)) || &#39; &#39; || TRIM(UPPER(A.last_name)) &#61; searchNames_) THEN 1 ELSE 0 END) &#61; 1&#10;                --  OR (CASE WHEN searchNames_ &#61; &#39;XXX XXX&#39; THEN 1 WHEN (TRIM(UPPER(A.last_name)) || &#39; &#39; || TRIM(UPPER(A.first_name)) &#61; searchNames_) THEN 1 ELSE 0 END) &#61; 1&#10;                --)&#10;                (CASE WHEN v_isSpecialCharsFirstName_ &#61; 0 THEN 1 WHEN (trim(UPPER(A.FIRST_NAME)) &#61; trim(v_SpecialCharsFirstName_)) THEN 1 ELSE 0 END) &#61; 1&#10;                AND (CASE WHEN v_isSpecialCharsLastName_ &#61; 0 THEN 1 WHEN (UPPER(nvl(A.LAST_NAME,&#39;&#39;)) &#61; v_SpecialCharsLastName_) THEN 1 ELSE 0 END) &#61; 1&#10;                AND (CASE WHEN v_isSpecialCharsCity_ &#61; 0 THEN 1 WHEN (UPPER(nvl(A.CITY,&#39;&#39;)) &#61; v_SpecialCharsCity_) THEN 1 ELSE 0 END) &#61; 1&#10;                AND (CASE WHEN v_isSpecialCharsAddress_ &#61; 0 THEN 1 WHEN (UPPER(nvl(A.ADDRESS,&#39;&#39;)) like &#39;%&#39; || v_SpecialCharsAddress_ || &#39;%&#39;) THEN 1 ELSE 0 END) &#61; 1&#10;                And (CASE WHEN homephone_ &#61; &#39;XXX&#39; THEN 1 WHEN (UPPER(nvl(A.HOME_PHONE,&#39;&#39;)) &#61; homephone_) THEN 1 ELSE 0 END) &#61; 1&#10;                And (CASE WHEN workphone_ &#61; &#39;XXX&#39; THEN 1 WHEN (UPPER(nvl(A.WORK_PHONE,&#39;&#39;)) &#61; workphone_) THEN 1 ELSE 0 END) &#61; 1&#10;                And (CASE WHEN email_ &#61; &#39;XXX&#39; THEN 1 WHEN (UPPER(nvl(A.EMAIL,&#39;&#39;)) &#61; REPLACE(email_, &#39;&#39;&#39;&#39;, &#39;&#39;)) THEN 1 ELSE 0 END) &#61; 1&#10;                And (CASE WHEN aNumber_ &#61; &#39;XXX&#39; THEN 1 WHEN (UPPER(nvl(A.ALIEN_NO, &#39;&#39;)) &#61; aNumber_) THEN 1 ELSE 0 END) &#61; 1&#10;                And (CASE WHEN state_ &#61; &#39;XX&#39; THEN 1 WHEN (UPPER(nvl(A.&quot;STATE&quot;,&#39;&#39;)) &#61; state_) THEN 1 ELSE 0 END) &#61; 1&#10;                And (CASE WHEN cob_ &#61; &#39;XXX&#39; THEN 1 WHEN (UPPER(nvl(A.COB,&#39;&#39;))&#61; cob_) THEN 1 ELSE 0 END) &#61; 1&#10;                And To_Date(DOB, &#39;DD-MON-RR&#39;) &#61; To_Date(dob_, &#39;DD-MON-RR&#39;)&#10;&#10;                And SPONSOR_ID Not In (Select SPONSOR_ID from UAC_SPONSOR_LIST A Inner Join UAC_PROGRAM_INFO B On A.UAC_ID &#61; B.UAC_ID Where B.UAC_PROGRAM_ID &#61; uacProgId_)&#10;                And NOT EXISTS (Select SPONSOR_ID from SPONSOR_INFO_SEARCH_TEMP Where SPONSOR_ID &#61; A.SPONSOR_ID) &#10;               Order by A.First_Name, A.Last_Name &#10;               FETCH FIRST vSearchResultLimit ROWS ONLY &#10;          );&#10;&#10;        step_ :&#61; &#39;ROWLEVEL-1, DOB NOT NULL - FIRST and LAST - SPECIAL CHARACTERS&#39;;&#10;        INSERT INTO SPONSOR_INFO_SEARCH_TEMP&#10;         (Select DISTINCT v_Param1, Count(*) over() as rowC,  A.SPONSOR_ID, A.ALIEN_NO, A.DOB, &#10;              A.FIRST_NAME, --REGEXP_REPLACE(A.FIRST_NAME, &#39;[^0-9A-Za-z ,.#;&amp;-]&#39;, &#39;&#39;) AS FIRST_NAME, &#10;              A.Last_Name,  --REGEXP_REPLACE(A.Last_Name, &#39;[^0-9A-Za-z ,.#;&amp;-]&#39;, &#39;&#39;) AS Last_Name, &#10;              A.Address,--  REGEXP_REPLACE(A.Address, &#39;[^0-9A-Za-z ,.#-&amp;/\]&#39;, &#39;&#39;) AS Address , &#10;              A.City, --REGEXP_REPLACE(A.City, &#39;[^0-9A-Za-z ,.#]&#39;, &#39;&#39;) AS City, &#10;              A.State, NVL(A.P_COUNTER, 0), &#10;             REGEXP_REPLACE(A.HOME_PHONE, &#39;[^0-9]&#39;, &#39;&#39;)  as HOME_PHONE, &#10;             REGEXP_REPLACE(A.WORK_PHONE, &#39;[^0-9]&#39;, &#39;&#39;)  as WORK_PHONE,&#10;              A.EMAIL,&#10;             A.COB,&#10;             NVL(A.A_COUNTER, 0), &#10;             &#10;            CASE &#10;                WHEN UPPER(A.FLAG) IN (&#39;YES&#39;) OR A.FLAG_ADDRESS IN (&#39;1&#39;) &#10;                     OR EXISTS (SELECT 1 FROM SponsorFlag WHERE SPONSORID &#61; A.SPONSOR_ID)&#10;                THEN &#39;Yes&#39;&#10;                ELSE &#39;No&#39;&#10;            END AS Flag,&#10;&#10;            --(CASE WHEN REGEXP_REPLACE(A.FLAG, &#39;[^0-9A-Za-z ,.#]&#39;, &#39;&#39;) &#61; &#39;Yes&#39; OR nvl(A.FLAG_ADDRESS, 0) &#61; 1 THEN &#39;Yes&#39; ELSE &#39;No&#39; END) AS FLAG, &#10;            A.FLAG_NOTE, --REGEXP_REPLACE(A.FLAG_NOTE, &#39;[^0-9A-Za-z ,.#]&#39;, &#39;&#39;) as FLAG_NOTE,&#10;             &#10;             1 AS ROWLEVEL, &#39;&#39; as SPONSOR_STATUS,&#39;Add Sponsor&#39; as ADD_SPONSOR&#10;            From V_SPONSOR_INFO A&#10;              Where&#10;                --((CASE WHEN searchNames_ &#61; &#39;XXX XXX&#39; THEN 1 WHEN (TRIM(UPPER(A.first_name)) || &#39; &#39; || TRIM(UPPER(A.last_name)) &#61; searchNames_) THEN 1 ELSE 0 END) &#61; 1&#10;                --  OR (CASE WHEN searchNames_ &#61; &#39;XXX XXX&#39; THEN 1 WHEN (TRIM(UPPER(A.last_name)) || &#39; &#39; || TRIM(UPPER(A.first_name)) &#61; searchNames_) THEN 1 ELSE 0 END) &#61; 1&#10;                --)&#10;                (CASE WHEN v_isSpecialCharsFirstName_ &#61; 0 THEN 1 WHEN (trim(UPPER(A.FIRST_NAME)) &#61; trim(v_SpecialCharsFirstName1_)) THEN 1 ELSE 0 END) &#61; 1&#10;                AND (CASE WHEN v_isSpecialCharsLastName_ &#61; 0 THEN 1 WHEN (UPPER(nvl(A.LAST_NAME,&#39;&#39;)) &#61; v_SpecialCharsLastName1_) THEN 1 ELSE 0 END) &#61; 1&#10;                AND (CASE WHEN v_isSpecialCharsCity_ &#61; 0 THEN 1 WHEN (UPPER(nvl(A.CITY,&#39;&#39;)) &#61; v_SpecialCharsCity1_) THEN 1 ELSE 0 END) &#61; 1&#10;                AND (CASE WHEN v_isSpecialCharsAddress_ &#61; 0 THEN 1 WHEN (UPPER(nvl(A.ADDRESS,&#39;&#39;)) like &#39;%&#39; || v_SpecialCharsAddress1_ || &#39;%&#39;) THEN 1 ELSE 0 END) &#61; 1&#10;                And (CASE WHEN homephone_ &#61; &#39;XXX&#39; THEN 1 WHEN (UPPER(nvl(A.HOME_PHONE,&#39;&#39;)) &#61; homephone_) THEN 1 ELSE 0 END) &#61; 1&#10;                And (CASE WHEN workphone_ &#61; &#39;XXX&#39; THEN 1 WHEN (UPPER(nvl(A.WORK_PHONE,&#39;&#39;)) &#61; workphone_) THEN 1 ELSE 0 END) &#61; 1&#10;                And (CASE WHEN email_ &#61; &#39;XXX&#39; THEN 1 WHEN (UPPER(nvl(A.EMAIL,&#39;&#39;)) &#61; REPLACE(email_, &#39;&#39;&#39;&#39;, &#39;&#39;)) THEN 1 ELSE 0 END) &#61; 1&#10;                And (CASE WHEN aNumber_ &#61; &#39;XXX&#39; THEN 1 WHEN (UPPER(nvl(A.ALIEN_NO, &#39;&#39;)) &#61; aNumber_) THEN 1 ELSE 0 END) &#61; 1&#10;                And (CASE WHEN state_ &#61; &#39;XX&#39; THEN 1 WHEN (UPPER(nvl(A.&quot;STATE&quot;,&#39;&#39;)) &#61; state_) THEN 1 ELSE 0 END) &#61; 1&#10;                And (CASE WHEN cob_ &#61; &#39;XXX&#39; THEN 1 WHEN (UPPER(nvl(A.COB,&#39;&#39;))&#61; cob_) THEN 1 ELSE 0 END) &#61; 1&#10;                And To_Date(DOB, &#39;DD-MON-RR&#39;) &#61; To_Date(dob_, &#39;DD-MON-RR&#39;)&#10;&#10;                And SPONSOR_ID Not In (Select SPONSOR_ID from UAC_SPONSOR_LIST A Inner Join UAC_PROGRAM_INFO B On A.UAC_ID &#61; B.UAC_ID Where B.UAC_PROGRAM_ID &#61; uacProgId_)&#10;                And NOT EXISTS (Select SPONSOR_ID from SPONSOR_INFO_SEARCH_TEMP Where SPONSOR_ID &#61; A.SPONSOR_ID) &#10;               Order by A.First_Name, A.Last_Name &#10;               FETCH FIRST vSearchResultLimit ROWS ONLY &#10;          );&#10;&#10;        END IF;&#10;     END IF; &#10;   ELSE&#10;      step_ :&#61; &#39;ROWLEVEL-1, NULL DOB - LAST and FIRST&#39;;&#10;     INSERT INTO SPONSOR_INFO_SEARCH_TEMP&#10;     (Select DISTINCT v_Param1, Count(*) over() as rowC,  A.SPONSOR_ID, A.ALIEN_NO, A.DOB, &#10;          A.FIRST_NAME, --REGEXP_REPLACE(A.FIRST_NAME, &#39;[^0-9A-Za-z ,.#;&amp;-]&#39;, &#39;&#39;) AS FIRST_NAME, &#10;          A.Last_Name,  --REGEXP_REPLACE(A.Last_Name, &#39;[^0-9A-Za-z ,.#;&amp;-]&#39;, &#39;&#39;) AS Last_Name, &#10;          A.Address,--  REGEXP_REPLACE(A.Address, &#39;[^0-9A-Za-z ,.#-&amp;/\]&#39;, &#39;&#39;) AS Address , &#10;          A.City, --REGEXP_REPLACE(A.City, &#39;[^0-9A-Za-z ,.#]&#39;, &#39;&#39;) AS City, &#10;          A.State, NVL(A.P_COUNTER, 0),  &#10;         REGEXP_REPLACE(A.HOME_PHONE, &#39;[^0-9]&#39;, &#39;&#39;)  as HOME_PHONE, &#10;         REGEXP_REPLACE(A.WORK_PHONE, &#39;[^0-9]&#39;, &#39;&#39;)  as WORK_PHONE,&#10;          A.EMAIL,&#10;         A.COB,&#10;         NVL(A.A_COUNTER, 0),&#10;         &#10;        CASE &#10;            WHEN UPPER(A.FLAG) IN (&#39;YES&#39;) OR A.FLAG_ADDRESS IN (&#39;1&#39;) &#10;                 OR EXISTS (SELECT 1 FROM SponsorFlag WHERE SPONSORID &#61; A.SPONSOR_ID)&#10;            THEN &#39;Yes&#39;&#10;            ELSE &#39;No&#39;&#10;        END AS Flag,&#10;&#10;        --(CASE WHEN REGEXP_REPLACE(A.FLAG, &#39;[^0-9A-Za-z ,.#]&#39;, &#39;&#39;) &#61; &#39;Yes&#39; OR nvl(A.FLAG_ADDRESS, 0) &#61; 1 THEN &#39;Yes&#39; ELSE &#39;No&#39; END) AS FLAG, &#10;        A.FLAG_NOTE, --REGEXP_REPLACE(A.FLAG_NOTE, &#39;[^0-9A-Za-z ,.#]&#39;, &#39;&#39;) as FLAG_NOTE,&#10;&#10;         1 AS ROWLEVEL, &#39;&#39; as SPONSOR_STATUS,&#39;Add Sponsor&#39; as ADD_SPONSOR&#10;        From V_SPONSOR_INFO A&#10;&#9;&#9;  Where&#10;           --((CASE WHEN searchNames_ &#61; &#39;XXX XXX&#39; THEN 1 WHEN (TRIM(UPPER(A.first_name)) || &#39; &#39; || TRIM(UPPER(A.last_name)) &#61; searchNames_) THEN 1 ELSE 0 END) &#61; 1&#10;           --  OR (CASE WHEN searchNames_ &#61; &#39;XXX XXX&#39; THEN 1 WHEN (TRIM(UPPER(A.last_name)) || &#39; &#39; || TRIM(UPPER(A.first_name)) &#61; searchNames_) THEN 1 ELSE 0 END) &#61; 1&#10;            --)&#10;            (CASE WHEN fName_ &#61; &#39;XXX&#39; THEN 1 WHEN (UPPER(REPLACE(nvl(A.LAST_NAME,&#39;&#39;), &#39;&#39;&#39;&#39;, &#39;&#39;)) &#61; REPLACE(fName_, &#39;&#39;&#39;&#39;, &#39;&#39;)) THEN 1 ELSE 0 END) &#61; 1&#10;            AND (CASE WHEN lName_ &#61; &#39;XXX&#39; THEN 1 WHEN (UPPER(REPLACE(nvl(A.FIRST_NAME,&#39;&#39;), &#39;&#39;&#39;&#39;, &#39;&#39;)) &#61; REPLACE(lName_, &#39;&#39;&#39;&#39;, &#39;&#39;)) THEN 1 ELSE 0 END) &#61; 1&#10;            And (CASE WHEN city_ &#61; &#39;XXX&#39; THEN 1 WHEN (UPPER(nvl(A.CITY,&#39;&#39;)) &#61; city_) THEN 1 ELSE 0 END) &#61; 1&#10;            AND (CASE WHEN address_ &#61; &#39;XXX&#39; THEN 1 WHEN (UPPER(REPLACE(nvl(A.ADDRESS,&#39;&#39;), &#39;&#39;&#39;&#39;, &#39;&#39;)) &#61; REPLACE(address_, &#39;&#39;&#39;&#39;, &#39;&#39;)) THEN 1 ELSE 0 END) &#61; 1&#10;            And (CASE WHEN homephone_ &#61; &#39;XXX&#39; THEN 1 WHEN (UPPER(nvl(A.HOME_PHONE,&#39;&#39;)) &#61; homephone_) THEN 1 ELSE 0 END) &#61; 1&#10;            And (CASE WHEN workphone_ &#61; &#39;XXX&#39; THEN 1 WHEN (UPPER(nvl(A.WORK_PHONE,&#39;&#39;)) &#61; workphone_) THEN 1 ELSE 0 END) &#61; 1&#10;            And (CASE WHEN email_ &#61; &#39;XXX&#39; THEN 1 WHEN (UPPER(nvl(A.EMAIL,&#39;&#39;)) &#61; REPLACE(email_, &#39;&#39;&#39;&#39;, &#39;&#39;)) THEN 1 ELSE 0 END) &#61; 1&#10;            And (CASE WHEN aNumber_ &#61; &#39;XXX&#39; THEN 1 WHEN (UPPER(nvl(A.ALIEN_NO, &#39;&#39;)) &#61; aNumber_) THEN 1 ELSE 0 END) &#61; 1&#10;            And (CASE WHEN state_ &#61; &#39;XX&#39; THEN 1 WHEN (UPPER(nvl(A.&quot;STATE&quot;,&#39;&#39;)) &#61; state_) THEN 1 ELSE 0 END) &#61; 1&#10;            And (CASE WHEN cob_ &#61; &#39;XXX&#39; THEN 1 WHEN (UPPER(nvl(A.COB,&#39;&#39;))&#61; cob_) THEN 1 ELSE 0 END) &#61; 1&#10;            And To_Date(DOB, &#39;DD-MON-RR&#39;) &#61; To_Date(dob_, &#39;DD-MON-RR&#39;)&#10;&#10;&#9;&#9;    And SPONSOR_ID Not In (Select SPONSOR_ID from UAC_SPONSOR_LIST A Inner Join UAC_PROGRAM_INFO B On A.UAC_ID &#61; B.UAC_ID Where B.UAC_PROGRAM_ID &#61; uacProgId_)&#10;            And NOT EXISTS (Select SPONSOR_ID from SPONSOR_INFO_SEARCH_TEMP Where SPONSOR_ID &#61; A.SPONSOR_ID) &#10;           Order by A.First_Name, A.Last_Name &#10;           FETCH FIRST vSearchResultLimit ROWS ONLY &#10;      );&#10;&#10;     step_ :&#61; &#39;ROWLEVEL-1, NOT NULL DOB - FIRST and LAST&#39;;&#10;     INSERT INTO SPONSOR_INFO_SEARCH_TEMP&#10;     (Select DISTINCT v_Param1, Count(*) over() as rowC,  A.SPONSOR_ID, A.ALIEN_NO, A.DOB, &#10;           A.FIRST_NAME, --REGEXP_REPLACE(A.FIRST_NAME, &#39;[^0-9A-Za-z ,.#;&amp;-]&#39;, &#39;&#39;) AS FIRST_NAME, &#10;          A.Last_Name,  --REGEXP_REPLACE(A.Last_Name, &#39;[^0-9A-Za-z ,.#;&amp;-]&#39;, &#39;&#39;) AS Last_Name, &#10;          A.Address,--  REGEXP_REPLACE(A.Address, &#39;[^0-9A-Za-z ,.#-&amp;/\]&#39;, &#39;&#39;) AS Address , &#10;          A.City, --REGEXP_REPLACE(A.City, &#39;[^0-9A-Za-z ,.#]&#39;, &#39;&#39;) AS City, &#10;          A.State, NVL(A.P_COUNTER, 0),  &#10;         REGEXP_REPLACE(A.HOME_PHONE, &#39;[^0-9]&#39;, &#39;&#39;)  as HOME_PHONE, &#10;         REGEXP_REPLACE(A.WORK_PHONE, &#39;[^0-9]&#39;, &#39;&#39;)  as WORK_PHONE,&#10;          A.EMAIL,&#10;         A.COB,&#10;         NVL(A.A_COUNTER, 0), &#10;         &#10;         CASE &#10;            WHEN UPPER(A.FLAG) IN (&#39;YES&#39;) OR A.FLAG_ADDRESS IN (&#39;1&#39;) &#10;                 OR EXISTS (SELECT 1 FROM SponsorFlag WHERE SPONSORID &#61; A.SPONSOR_ID)&#10;            THEN &#39;Yes&#39;&#10;            ELSE &#39;No&#39;&#10;        END AS Flag,&#10;&#10;        --(CASE WHEN REGEXP_REPLACE(A.FLAG, &#39;[^0-9A-Za-z ,.#]&#39;, &#39;&#39;) &#61; &#39;Yes&#39; OR nvl(A.FLAG_ADDRESS, 0) &#61; 1 THEN &#39;Yes&#39; ELSE &#39;No&#39; END) AS FLAG, &#10;        A.FLAG_NOTE, --REGEXP_REPLACE(A.FLAG_NOTE, &#39;[^0-9A-Za-z ,.#]&#39;, &#39;&#39;) as FLAG_NOTE,&#10;&#10;         1 AS ROWLEVEL, &#39;&#39; as SPONSOR_STATUS,&#39;Add Sponsor&#39; as ADD_SPONSOR&#10;        From V_SPONSOR_INFO A&#10;&#9;&#9;  Where&#10;           --((CASE WHEN searchNames_ &#61; &#39;XXX XXX&#39; THEN 1 WHEN (TRIM(UPPER(A.first_name)) || &#39; &#39; || TRIM(UPPER(A.last_name)) &#61; searchNames_) THEN 1 ELSE 0 END) &#61; 1&#10;           --  OR (CASE WHEN searchNames_ &#61; &#39;XXX XXX&#39; THEN 1 WHEN (TRIM(UPPER(A.last_name)) || &#39; &#39; || TRIM(UPPER(A.first_name)) &#61; searchNames_) THEN 1 ELSE 0 END) &#61; 1&#10;            --)&#10;            (CASE WHEN fName_ &#61; &#39;XXX&#39; THEN 1 WHEN (UPPER(REPLACE(nvl(A.FIRST_NAME,&#39;&#39;), &#39;&#39;&#39;&#39;, &#39;&#39;)) &#61; REPLACE(fName_, &#39;&#39;&#39;&#39;, &#39;&#39;)) THEN 1 ELSE 0 END) &#61; 1&#10;            AND (CASE WHEN lName_ &#61; &#39;XXX&#39; THEN 1 WHEN (UPPER(REPLACE(nvl(A.LAST_NAME,&#39;&#39;), &#39;&#39;&#39;&#39;, &#39;&#39;)) &#61; REPLACE(lName_, &#39;&#39;&#39;&#39;, &#39;&#39;)) THEN 1 ELSE 0 END) &#61; 1&#10;            And (CASE WHEN city_ &#61; &#39;XXX&#39; THEN 1 WHEN (UPPER(nvl(A.CITY,&#39;&#39;)) &#61; city_) THEN 1 ELSE 0 END) &#61; 1&#10;            AND (CASE WHEN address_ &#61; &#39;XXX&#39; THEN 1 WHEN (UPPER(REPLACE(nvl(A.ADDRESS,&#39;&#39;), &#39;&#39;&#39;&#39;, &#39;&#39;)) &#61; REPLACE(address_, &#39;&#39;&#39;&#39;, &#39;&#39;)) THEN 1 ELSE 0 END) &#61; 1&#10;            And (CASE WHEN homephone_ &#61; &#39;XXX&#39; THEN 1 WHEN (UPPER(nvl(A.HOME_PHONE,&#39;&#39;)) &#61; homephone_) THEN 1 ELSE 0 END) &#61; 1&#10;            And (CASE WHEN workphone_ &#61; &#39;XXX&#39; THEN 1 WHEN (UPPER(nvl(A.WORK_PHONE,&#39;&#39;)) &#61; workphone_) THEN 1 ELSE 0 END) &#61; 1&#10;            And (CASE WHEN email_ &#61; &#39;XXX&#39; THEN 1 WHEN (UPPER(nvl(A.EMAIL,&#39;&#39;)) &#61; REPLACE(email_, &#39;&#39;&#39;&#39;, &#39;&#39;)) THEN 1 ELSE 0 END) &#61; 1&#10;            And (CASE WHEN aNumber_ &#61; &#39;XXX&#39; THEN 1 WHEN (UPPER(nvl(A.ALIEN_NO, &#39;&#39;)) &#61; aNumber_) THEN 1 ELSE 0 END) &#61; 1&#10;            And (CASE WHEN state_ &#61; &#39;XX&#39; THEN 1 WHEN (UPPER(nvl(A.&quot;STATE&quot;,&#39;&#39;)) &#61; state_) THEN 1 ELSE 0 END) &#61; 1&#10;            And (CASE WHEN cob_ &#61; &#39;XXX&#39; THEN 1 WHEN (UPPER(nvl(A.COB,&#39;&#39;))&#61; cob_) THEN 1 ELSE 0 END) &#61; 1&#10;            And To_Date(DOB, &#39;DD-MON-RR&#39;) &#61; To_Date(dob_, &#39;DD-MON-RR&#39;)&#10;&#10;&#9;&#9;    And SPONSOR_ID Not In (Select SPONSOR_ID from UAC_SPONSOR_LIST A Inner Join UAC_PROGRAM_INFO B On A.UAC_ID &#61; B.UAC_ID Where B.UAC_PROGRAM_ID &#61; uacProgId_)&#10;            And NOT EXISTS (Select SPONSOR_ID from SPONSOR_INFO_SEARCH_TEMP Where SPONSOR_ID &#61; A.SPONSOR_ID) &#10;           Order by A.First_Name, A.Last_Name &#10;           FETCH FIRST vSearchResultLimit ROWS ONLY &#10;      );&#10;&#10;   END IF;&#10;&#10;  IF (v_permutations &gt; 1) THEN&#10;    IF (v_Param_Original IS NOT NULL&#10;        AND v_wordCount &gt; 1) THEN&#10;     step_ :&#61; &#39;ROWLEVEL-2 - EQUALS first and last name &#39; || v_Param_Original;&#10;     --DBMS_OUTPUT.put_line(step_);&#10;      INSERT INTO SPONSOR_INFO_SEARCH_TEMP&#10;      (Select DISTINCT v_Param1, Count(*) over() as rowC,  A.SPONSOR_ID, A.ALIEN_NO, A.DOB, &#10;          A.FIRST_NAME, --REGEXP_REPLACE(A.FIRST_NAME, &#39;[^0-9A-Za-z ,.#;&amp;-]&#39;, &#39;&#39;) AS FIRST_NAME, &#10;          A.Last_Name,  --REGEXP_REPLACE(A.Last_Name, &#39;[^0-9A-Za-z ,.#;&amp;-]&#39;, &#39;&#39;) AS Last_Name, &#10;          A.Address,--  REGEXP_REPLACE(A.Address, &#39;[^0-9A-Za-z ,.#-&amp;/\]&#39;, &#39;&#39;) AS Address ,&#10;          A.City,--REGEXP_REPLACE(A.City, &#39;[^0-9A-Za-z ,.#]&#39;, &#39;&#39;) AS City, &#10;          A.State, NVL(A.P_COUNTER, 0),  &#10;         REGEXP_REPLACE(A.HOME_PHONE, &#39;[^0-9]&#39;, &#39;&#39;)  as HOME_PHONE, &#10;         REGEXP_REPLACE(A.WORK_PHONE, &#39;[^0-9]&#39;, &#39;&#39;)  as WORK_PHONE,&#10;         A.EMAIL,&#10;         A.COB,&#10;         NVL(A.A_COUNTER, 0),  &#10;        &#10;        CASE &#10;            WHEN UPPER(A.FLAG) IN (&#39;YES&#39;) OR A.FLAG_ADDRESS IN (&#39;1&#39;) &#10;                 OR EXISTS (SELECT 1 FROM SponsorFlag WHERE SPONSORID &#61; A.SPONSOR_ID)&#10;            THEN &#39;Yes&#39;&#10;            ELSE &#39;No&#39;&#10;        END AS Flag,&#10;&#10;        --(CASE WHEN REGEXP_REPLACE(A.FLAG, &#39;[^0-9A-Za-z ,.#]&#39;, &#39;&#39;) &#61; &#39;Yes&#39; OR nvl(A.FLAG_ADDRESS, 0) &#61; 1 THEN &#39;Yes&#39; ELSE &#39;No&#39; END) AS FLAG, &#10;        A.FLAG_NOTE, --REGEXP_REPLACE(A.FLAG_NOTE, &#39;[^0-9A-Za-z ,.#]&#39;, &#39;&#39;) as FLAG_NOTE,&#10;&#10;         2 AS ROWLEVEL, &#39;&#39; as SPONSOR_STATUS,&#39;Add Sponsor&#39; as ADD_SPONSOR&#10;      From V_SPONSOR_INFO A&#10;        join SPONSOR_INFO_PERMUTATIONS P  ON UPPER(TRIM(P.PERMUTATIONS_KEY)) &#61; UPPER(TRIM(v_Param1))&#10;           AND TRIM(UPPER(A.FIRST_NAME)) &#61; UPPER(TRIM(P.FNAME))&#10;           AND TRIM(UPPER(A.LAST_NAME)) &#61; UPPER(TRIM(P.LNAME))&#10;           --AND TRIM(UPPER(A.FIRST_NAME)) || &#39; &#39; || TRIM(UPPER(A.LAST_NAME)) &#61; UPPER(TRIM(P.FNAME)) || &#39; &#39; || UPPER(TRIM(P.LNAME))&#10;      And NOT EXISTS (Select SPONSOR_ID from SPONSOR_INFO_SEARCH_TEMP Where SPONSOR_ID &#61; A.SPONSOR_ID) &#10;      --Order by A.First_Name, A.Last_Name &#10;      FETCH FIRST vSearchResultLimit ROWS ONLY );&#10;&#10;     step_ :&#61; &#39;ROWLEVEL-2 - EQUALS first + last name &#39; || v_Param_Original;&#10;     --DBMS_OUTPUT.put_line(step_);&#10;      INSERT INTO SPONSOR_INFO_SEARCH_TEMP&#10;      (Select DISTINCT v_Param1, Count(*) over() as rowC,  A.SPONSOR_ID, A.ALIEN_NO, A.DOB, &#10;          A.FIRST_NAME, --REGEXP_REPLACE(A.FIRST_NAME, &#39;[^0-9A-Za-z ,.#;&amp;-]&#39;, &#39;&#39;) AS FIRST_NAME, &#10;          A.Last_Name,  --REGEXP_REPLACE(A.Last_Name, &#39;[^0-9A-Za-z ,.#;&amp;-]&#39;, &#39;&#39;) AS Last_Name, &#10;          A.Address,--  REGEXP_REPLACE(A.Address, &#39;[^0-9A-Za-z ,.#-&amp;/\]&#39;, &#39;&#39;) AS Address ,&#10;          A.City,--REGEXP_REPLACE(A.City, &#39;[^0-9A-Za-z ,.#]&#39;, &#39;&#39;) AS City, &#10;          A.State, NVL(A.P_COUNTER, 0),  &#10;         REGEXP_REPLACE(A.HOME_PHONE, &#39;[^0-9]&#39;, &#39;&#39;)  as HOME_PHONE, &#10;         REGEXP_REPLACE(A.WORK_PHONE, &#39;[^0-9]&#39;, &#39;&#39;)  as WORK_PHONE,&#10;         A.EMAIL,&#10;         A.COB,&#10;         NVL(A.A_COUNTER, 0),&#10;         &#10;        CASE &#10;            WHEN UPPER(A.FLAG) IN (&#39;YES&#39;) OR A.FLAG_ADDRESS IN (&#39;1&#39;) &#10;                 OR EXISTS (SELECT 1 FROM SponsorFlag WHERE SPONSORID &#61; A.SPONSOR_ID)&#10;            THEN &#39;Yes&#39;&#10;            ELSE &#39;No&#39;&#10;        END AS Flag,&#10;&#10;        --(CASE WHEN REGEXP_REPLACE(A.FLAG, &#39;[^0-9A-Za-z ,.#]&#39;, &#39;&#39;) &#61; &#39;Yes&#39; OR nvl(A.FLAG_ADDRESS, 0) &#61; 1 THEN &#39;Yes&#39; ELSE &#39;No&#39; END) AS FLAG, &#10;        A.FLAG_NOTE, --REGEXP_REPLACE(A.FLAG_NOTE, &#39;[^0-9A-Za-z ,.#]&#39;, &#39;&#39;) as FLAG_NOTE,&#10; &#10;        2 AS ROWLEVEL, &#39;&#39; as SPONSOR_STATUS,&#39;Add Sponsor&#39; as ADD_SPONSOR&#10;      From V_SPONSOR_INFO A&#10;        join SPONSOR_INFO_PERMUTATIONS P  ON UPPER(TRIM(P.PERMUTATIONS_KEY)) &#61; UPPER(TRIM(v_Param1))&#10;           AND TRIM(UPPER(A.FIRST_NAME)) || &#39; &#39; || TRIM(UPPER(A.LAST_NAME)) &#61; UPPER(TRIM(P.FNAME)) || &#39; &#39; || UPPER(TRIM(P.LNAME))&#10;      And NOT EXISTS (Select SPONSOR_ID from SPONSOR_INFO_SEARCH_TEMP Where SPONSOR_ID &#61; A.SPONSOR_ID) &#10;      --Order by A.First_Name, A.Last_Name &#10;      FETCH FIRST vSearchResultLimit ROWS ONLY );&#10;&#10;&#10;     step_ :&#61; &#39;ROWLEVEL-2 - EQUALS first name &#39; || v_Param_Original;&#10;     --DBMS_OUTPUT.put_line(step_);&#10;      INSERT INTO SPONSOR_INFO_SEARCH_TEMP&#10;      (Select DISTINCT v_Param1, Count(*) over() as rowC,  A.SPONSOR_ID, A.ALIEN_NO, A.DOB, &#10;          A.FIRST_NAME, --REGEXP_REPLACE(A.FIRST_NAME, &#39;[^0-9A-Za-z ,.#;&amp;-]&#39;, &#39;&#39;) AS FIRST_NAME, &#10;          A.Last_Name,  --REGEXP_REPLACE(A.Last_Name, &#39;[^0-9A-Za-z ,.#;&amp;-]&#39;, &#39;&#39;) AS Last_Name, &#10;          A.Address,--  REGEXP_REPLACE(A.Address, &#39;[^0-9A-Za-z ,.#-&amp;/\]&#39;, &#39;&#39;) AS Address ,&#10;          A.City,--REGEXP_REPLACE(A.City, &#39;[^0-9A-Za-z ,.#]&#39;, &#39;&#39;) AS City, &#10;          A.State, NVL(A.P_COUNTER, 0), &#10;         REGEXP_REPLACE(A.HOME_PHONE, &#39;[^0-9]&#39;, &#39;&#39;)  as HOME_PHONE, &#10;         REGEXP_REPLACE(A.WORK_PHONE, &#39;[^0-9]&#39;, &#39;&#39;)  as WORK_PHONE,&#10;         A.EMAIL,&#10;         A.COB,&#10;         NVL(A.A_COUNTER, 0),  &#10;         &#10;         CASE &#10;            WHEN UPPER(A.FLAG) IN (&#39;YES&#39;) OR A.FLAG_ADDRESS IN (&#39;1&#39;) &#10;                 OR EXISTS (SELECT 1 FROM SponsorFlag WHERE SPONSORID &#61; A.SPONSOR_ID)&#10;            THEN &#39;Yes&#39;&#10;            ELSE &#39;No&#39;&#10;        END AS Flag,&#10;&#10;        --(CASE WHEN REGEXP_REPLACE(A.FLAG, &#39;[^0-9A-Za-z ,.#]&#39;, &#39;&#39;) &#61; &#39;Yes&#39; OR nvl(A.FLAG_ADDRESS, 0) &#61; 1 THEN &#39;Yes&#39; ELSE &#39;No&#39; END) AS FLAG, &#10;        A.FLAG_NOTE, --REGEXP_REPLACE(A.FLAG_NOTE, &#39;[^0-9A-Za-z ,.#]&#39;, &#39;&#39;) as FLAG_NOTE,&#10;&#10;         2 AS ROWLEVEL, &#39;&#39; as SPONSOR_STATUS,&#39;Add Sponsor&#39; as ADD_SPONSOR&#10;      From V_SPONSOR_INFO A&#10;        join SPONSOR_INFO_PERMUTATIONS P  ON UPPER(TRIM(P.PERMUTATIONS_KEY)) &#61; UPPER(TRIM(v_Param1))&#10;           AND TRIM(UPPER(A.FIRST_NAME)) &#61; UPPER(TRIM(P.FNAME)) || &#39; &#39; || UPPER(TRIM(P.LNAME))&#10;      And NOT EXISTS (Select SPONSOR_ID from SPONSOR_INFO_SEARCH_TEMP Where SPONSOR_ID &#61; A.SPONSOR_ID) &#10;      --Order by A.First_Name, A.Last_Name &#10;      FETCH FIRST vSearchResultLimit ROWS ONLY );&#10;&#10;     step_ :&#61; &#39;ROWLEVEL-2 - EQUALS last name &#39; || v_Param_Original;&#10;     --DBMS_OUTPUT.put_line(step_);&#10;      INSERT INTO SPONSOR_INFO_SEARCH_TEMP&#10;      (Select DISTINCT v_Param1, Count(*) over() as rowC,  A.SPONSOR_ID, A.ALIEN_NO, A.DOB, &#10;          A.FIRST_NAME, --REGEXP_REPLACE(A.FIRST_NAME, &#39;[^0-9A-Za-z ,.#;&amp;-]&#39;, &#39;&#39;) AS FIRST_NAME, &#10;          A.Last_Name,  --REGEXP_REPLACE(A.Last_Name, &#39;[^0-9A-Za-z ,.#;&amp;-]&#39;, &#39;&#39;) AS Last_Name, &#10;          A.Address,--  REGEXP_REPLACE(A.Address, &#39;[^0-9A-Za-z ,.#-&amp;/\]&#39;, &#39;&#39;) AS Address ,&#10;          A.City,--REGEXP_REPLACE(A.City, &#39;[^0-9A-Za-z ,.#]&#39;, &#39;&#39;) AS City, &#10;          A.State, NVL(A.P_COUNTER, 0),  &#10;         REGEXP_REPLACE(A.HOME_PHONE, &#39;[^0-9]&#39;, &#39;&#39;)  as HOME_PHONE, &#10;         REGEXP_REPLACE(A.WORK_PHONE, &#39;[^0-9]&#39;, &#39;&#39;)  as WORK_PHONE,&#10;         A.EMAIL,&#10;         A.COB,&#10;         NVL(A.A_COUNTER, 0),  &#10;         &#10;        CASE &#10;            WHEN UPPER(A.FLAG) IN (&#39;YES&#39;) OR A.FLAG_ADDRESS IN (&#39;1&#39;) &#10;                 OR EXISTS (SELECT 1 FROM SponsorFlag WHERE SPONSORID &#61; A.SPONSOR_ID)&#10;            THEN &#39;Yes&#39;&#10;            ELSE &#39;No&#39;&#10;        END AS Flag,&#10;&#10;        --(CASE WHEN REGEXP_REPLACE(A.FLAG, &#39;[^0-9A-Za-z ,.#]&#39;, &#39;&#39;) &#61; &#39;Yes&#39; OR nvl(A.FLAG_ADDRESS, 0) &#61; 1 THEN &#39;Yes&#39; ELSE &#39;No&#39; END) AS FLAG, &#10;        A.FLAG_NOTE, --REGEXP_REPLACE(A.FLAG_NOTE, &#39;[^0-9A-Za-z ,.#]&#39;, &#39;&#39;) as FLAG_NOTE,&#10;&#10;         2 AS ROWLEVEL, &#39;&#39; as SPONSOR_STATUS,&#39;Add Sponsor&#39; as ADD_SPONSOR&#10;      From V_SPONSOR_INFO A&#10;        join SPONSOR_INFO_PERMUTATIONS P  ON UPPER(TRIM(P.PERMUTATIONS_KEY)) &#61; UPPER(TRIM(v_Param1))&#10;           AND TRIM(UPPER(A.LAST_NAME)) &#61; UPPER(TRIM(P.FNAME)) || &#39; &#39; || UPPER(TRIM(P.LNAME))&#10;      And NOT EXISTS (Select SPONSOR_ID from SPONSOR_INFO_SEARCH_TEMP Where SPONSOR_ID &#61; A.SPONSOR_ID) &#10;      --Order by A.First_Name, A.Last_Name &#10;      FETCH FIRST vSearchResultLimit ROWS ONLY );&#10;&#10;    END IF;&#10;   END IF;&#10;&#10;   IF (DOB IS NULL) THEN&#10;     step_ :&#61; &#39;ROWLEVEL-3 DOB IS NULL&#39;;&#10;    INSERT INTO SPONSOR_INFO_SEARCH_TEMP&#10;     (Select DISTINCT v_Param1, Count(*) over() as rowC,  A.SPONSOR_ID, A.ALIEN_NO, A.DOB, &#10;          A.FIRST_NAME, --REGEXP_REPLACE(A.FIRST_NAME, &#39;[^0-9A-Za-z ,.#;&amp;-]&#39;, &#39;&#39;) AS FIRST_NAME, &#10;          A.Last_Name,  --REGEXP_REPLACE(A.Last_Name, &#39;[^0-9A-Za-z ,.#;&amp;-]&#39;, &#39;&#39;) AS Last_Name, &#10;          A.Address,--  REGEXP_REPLACE(A.Address, &#39;[^0-9A-Za-z ,.#-&amp;/\]&#39;, &#39;&#39;) AS Address , &#10;          A.City, --REGEXP_REPLACE(A.City, &#39;[^0-9A-Za-z ,.#]&#39;, &#39;&#39;) AS City, &#10;          A.State, NVL(A.P_COUNTER, 0), &#10;         REGEXP_REPLACE(A.HOME_PHONE, &#39;[^0-9]&#39;, &#39;&#39;)  as HOME_PHONE, &#10;         REGEXP_REPLACE(A.WORK_PHONE, &#39;[^0-9]&#39;, &#39;&#39;)  as WORK_PHONE,&#10;          A.EMAIL,&#10;         A.COB,&#10;         NVL(A.A_COUNTER, 0), &#10;         &#10;        CASE &#10;            WHEN UPPER(A.FLAG) IN (&#39;YES&#39;) OR A.FLAG_ADDRESS IN (&#39;1&#39;) &#10;                 OR EXISTS (SELECT 1 FROM SponsorFlag WHERE SPONSORID &#61; A.SPONSOR_ID)&#10;            THEN &#39;Yes&#39;&#10;            ELSE &#39;No&#39;&#10;        END AS Flag,&#10;&#10;        --(CASE WHEN REGEXP_REPLACE(A.FLAG, &#39;[^0-9A-Za-z ,.#]&#39;, &#39;&#39;) &#61; &#39;Yes&#39; OR nvl(A.FLAG_ADDRESS, 0) &#61; 1 THEN &#39;Yes&#39; ELSE &#39;No&#39; END) AS FLAG, &#10;        A.FLAG_NOTE, --REGEXP_REPLACE(A.FLAG_NOTE, &#39;[^0-9A-Za-z ,.#]&#39;, &#39;&#39;) as FLAG_NOTE,&#10;&#10;         3 AS ROWLEVEL, &#39;&#39; as SPONSOR_STATUS,&#39;Add Sponsor&#39; as ADD_SPONSOR&#10;        From V_SPONSOR_INFO A&#10;&#9;&#9;  Where&#10;            --((CASE WHEN searchNames_ &#61; &#39;XXX XXX&#39; THEN 1 WHEN (TRIM(UPPER(A.first_name)) || &#39; &#39; || TRIM(UPPER(A.last_name)) &#61; searchNames_ || &#39;%&#39;) THEN 1 ELSE 0 END) &#61; 1&#10;            -- OR (CASE WHEN searchNames_ &#61; &#39;XXX XXX&#39; THEN 1 WHEN (TRIM(UPPER(A.last_name)) || &#39; &#39; || TRIM(UPPER(A.first_name)) &#61; searchNames_ || &#39;%&#39;) THEN 1 ELSE 0 END) &#61; 1&#10;            --)&#10;            (CASE WHEN fName_ &#61; &#39;XXX&#39; THEN 1 WHEN (UPPER(REPLACE(nvl(A.FIRST_NAME,&#39;&#39;), &#39;&#39;&#39;&#39;, &#39;&#39;)) LIKE REPLACE(fName_ , &#39;&#39;&#39;&#39;, &#39;&#39;)|| &#39;%&#39;) THEN 1 ELSE 0 END) &#61; 1&#10;            AND (CASE WHEN lName_ &#61; &#39;XXX&#39; THEN 1 WHEN (UPPER(REPLACE(nvl(A.LAST_NAME,&#39;&#39;), &#39;&#39;&#39;&#39;, &#39;&#39;)) LIKE REPLACE(lName_, &#39;&#39;&#39;&#39;, &#39;&#39;) || &#39;%&#39;) THEN 1 ELSE 0 END) &#61; 1&#10;            And (CASE WHEN address_ &#61; &#39;XXX&#39; THEN 1 WHEN (UPPER(REPLACE(nvl(A.ADDRESS,&#39;&#39;), &#39;&#39;&#39;&#39;, &#39;&#39;)) LIKE REPLACE(address_, &#39;&#39;&#39;&#39;, &#39;&#39;)) THEN 1 ELSE 0 END) &#61; 1&#10;            And (CASE WHEN homephone_ &#61; &#39;XXX&#39; THEN 1 WHEN (UPPER(nvl(A.HOME_PHONE,&#39;&#39;)) LIKE homephone_ || &#39;%&#39;) THEN 1 ELSE 0 END) &#61; 1&#10;            And (CASE WHEN workphone_ &#61; &#39;XXX&#39; THEN 1 WHEN (UPPER(nvl(A.WORK_PHONE,&#39;&#39;)) LIKE workphone_ || &#39;%&#39;) THEN 1 ELSE 0 END) &#61; 1&#10;            And (CASE WHEN email_ &#61; &#39;XXX&#39; THEN 1 WHEN (UPPER(nvl(A.EMAIL,&#39;&#39;)) LIKE REPLACE(email_, &#39;&#39;&#39;&#39;, &#39;&#39;) || &#39;%&#39;) THEN 1 ELSE 0 END) &#61; 1&#10;            And (CASE WHEN aNumber_ &#61; &#39;XXX&#39; THEN 1 WHEN (UPPER(nvl(A.ALIEN_NO, &#39;&#39;)) LIKE aNumber_ || &#39;%&#39;) THEN 1 ELSE 0 END) &#61; 1&#10;            And (CASE WHEN city_ &#61; &#39;XXX&#39; THEN 1 WHEN (UPPER(nvl(A.CITY,&#39;&#39;)) LIKE city_ || &#39;%&#39;) THEN 1 ELSE 0 END) &#61; 1&#10;            And (CASE WHEN state_ &#61; &#39;XX&#39; THEN 1 WHEN (UPPER(nvl(A.&quot;STATE&quot;,&#39;&#39;)) LIKE state_ || &#39;%&#39;) THEN 1 ELSE 0 END) &#61; 1&#10;            And (CASE WHEN cob_ &#61; &#39;XXX&#39; THEN 1 WHEN (UPPER(nvl(A.COB,&#39;&#39;)) LIKE cob_ || &#39;%&#39;) THEN 1 ELSE 0 END) &#61; 1&#10;&#10;&#9;&#9;    And SPONSOR_ID Not In (Select SPONSOR_ID from UAC_SPONSOR_LIST A Inner Join UAC_PROGRAM_INFO B On A.UAC_ID &#61; B.UAC_ID Where B.UAC_PROGRAM_ID &#61; uacProgId_)&#10;            And NOT EXISTS (Select SPONSOR_ID from SPONSOR_INFO_SEARCH_TEMP Where SPONSOR_ID &#61; A.SPONSOR_ID) &#10;          Order by A.First_Name, A.Last_Name &#10;          FETCH FIRST vSearchResultLimit ROWS ONLY &#10;      );&#10;  ELSE&#10;    step_ :&#61; &#39;ROWLEVEL-3 DOB IS NULL&#39;;&#10;    INSERT INTO SPONSOR_INFO_SEARCH_TEMP&#10;     (Select DISTINCT v_Param1, Count(*) over() as rowC,  A.SPONSOR_ID, A.ALIEN_NO, A.DOB, &#10;          A.FIRST_NAME, --REGEXP_REPLACE(A.FIRST_NAME, &#39;[^0-9A-Za-z ,.#;&amp;-]&#39;, &#39;&#39;) AS FIRST_NAME, &#10;          A.Last_Name,  --REGEXP_REPLACE(A.Last_Name, &#39;[^0-9A-Za-z ,.#;&amp;-]&#39;, &#39;&#39;) AS Last_Name, &#10;          A.Address,--  REGEXP_REPLACE(A.Address, &#39;[^0-9A-Za-z ,.#-&amp;/\]&#39;, &#39;&#39;) AS Address , &#10;          A.City, --REGEXP_REPLACE(A.City, &#39;[^0-9A-Za-z ,.#]&#39;, &#39;&#39;) AS City, &#10;          A.State, NVL(A.P_COUNTER, 0),  &#10;         REGEXP_REPLACE(A.HOME_PHONE, &#39;[^0-9]&#39;, &#39;&#39;)  as HOME_PHONE, &#10;         REGEXP_REPLACE(A.WORK_PHONE, &#39;[^0-9]&#39;, &#39;&#39;)  as WORK_PHONE,&#10;          A.EMAIL,&#10;         A.COB,&#10;         NVL(A.A_COUNTER, 0), &#10;         &#10;        CASE &#10;            WHEN UPPER(A.FLAG) IN (&#39;YES&#39;) OR A.FLAG_ADDRESS IN (&#39;1&#39;) &#10;                 OR EXISTS (SELECT 1 FROM SponsorFlag WHERE SPONSORID &#61; A.SPONSOR_ID)&#10;            THEN &#39;Yes&#39;&#10;            ELSE &#39;No&#39;&#10;        END AS Flag,&#10;&#10;        --(CASE WHEN REGEXP_REPLACE(A.FLAG, &#39;[^0-9A-Za-z ,.#]&#39;, &#39;&#39;) &#61; &#39;Yes&#39; OR nvl(A.FLAG_ADDRESS, 0) &#61; 1 THEN &#39;Yes&#39; ELSE &#39;No&#39; END) AS FLAG, &#10;        A.FLAG_NOTE, --REGEXP_REPLACE(A.FLAG_NOTE, &#39;[^0-9A-Za-z ,.#]&#39;, &#39;&#39;) as FLAG_NOTE,&#10;&#10;         3 AS ROWLEVEL, &#39;&#39; as SPONSOR_STATUS,&#39;Add Sponsor&#39; as ADD_SPONSOR&#10;        From V_SPONSOR_INFO A&#10;&#9;&#9;  Where&#10;            --((CASE WHEN searchNames_ &#61; &#39;XXX XXX&#39; THEN 1 WHEN (TRIM(UPPER(A.first_name)) || &#39; &#39; || TRIM(UPPER(A.last_name)) &#61; searchNames_ || &#39;%&#39;) THEN 1 ELSE 0 END) &#61; 1&#10;            -- OR (CASE WHEN searchNames_ &#61; &#39;XXX XXX&#39; THEN 1 WHEN (TRIM(UPPER(A.last_name)) || &#39; &#39; || TRIM(UPPER(A.first_name)) &#61; searchNames_ || &#39;%&#39;) THEN 1 ELSE 0 END) &#61; 1&#10;            --)&#10;            (CASE WHEN fName_ &#61; &#39;XXX&#39; THEN 1 WHEN (UPPER(REPLACE(nvl(A.FIRST_NAME,&#39;&#39;), &#39;&#39;&#39;&#39;, &#39;&#39;)) LIKE REPLACE(fName_, &#39;&#39;&#39;&#39;, &#39;&#39;) || &#39;%&#39;) THEN 1 ELSE 0 END) &#61; 1&#10;            AND (CASE WHEN lName_ &#61; &#39;XXX&#39; THEN 1 WHEN (UPPER(nvl(A.LAST_NAME,&#39;&#39;)) LIKE lName_ || &#39;%&#39;) THEN 1 ELSE 0 END) &#61; 1&#10;            And (CASE WHEN address_ &#61; &#39;XXX&#39; THEN 1 WHEN (UPPER(REPLACE(nvl(A.ADDRESS,&#39;&#39;), &#39;&#39;&#39;&#39;, &#39;&#39;)) LIKE REPLACE(address_, &#39;&#39;&#39;&#39;, &#39;&#39;)) THEN 1 ELSE 0 END) &#61; 1&#10;            And (CASE WHEN homephone_ &#61; &#39;XXX&#39; THEN 1 WHEN (UPPER(nvl(A.HOME_PHONE,&#39;&#39;)) LIKE homephone_ || &#39;%&#39;) THEN 1 ELSE 0 END) &#61; 1&#10;            And (CASE WHEN workphone_ &#61; &#39;XXX&#39; THEN 1 WHEN (UPPER(nvl(A.WORK_PHONE,&#39;&#39;)) LIKE workphone_ || &#39;%&#39;) THEN 1 ELSE 0 END) &#61; 1&#10;            And (CASE WHEN email_ &#61; &#39;XXX&#39; THEN 1 WHEN (UPPER(nvl(A.EMAIL,&#39;&#39;)) LIKE REPLACE(email_, &#39;&#39;&#39;&#39;, &#39;&#39;) || &#39;%&#39;) THEN 1 ELSE 0 END) &#61; 1&#10;            And (CASE WHEN aNumber_ &#61; &#39;XXX&#39; THEN 1 WHEN (UPPER(nvl(A.ALIEN_NO, &#39;&#39;)) LIKE aNumber_ || &#39;%&#39;) THEN 1 ELSE 0 END) &#61; 1&#10;            And (CASE WHEN city_ &#61; &#39;XXX&#39; THEN 1 WHEN (UPPER(nvl(A.CITY,&#39;&#39;)) LIKE city_ || &#39;%&#39;) THEN 1 ELSE 0 END) &#61; 1&#10;            And (CASE WHEN state_ &#61; &#39;XX&#39; THEN 1 WHEN (UPPER(nvl(A.&quot;STATE&quot;,&#39;&#39;)) LIKE state_ || &#39;%&#39;) THEN 1 ELSE 0 END) &#61; 1&#10;            And (CASE WHEN cob_ &#61; &#39;XXX&#39; THEN 1 WHEN (UPPER(nvl(A.COB,&#39;&#39;)) LIKE cob_ || &#39;%&#39;) THEN 1 ELSE 0 END) &#61; 1&#10;            And To_Date(DOB, &#39;DD-MON-RR&#39;) &#61; To_Date(dob_, &#39;DD-MON-RR&#39;)&#10;&#10;&#9;&#9;    And SPONSOR_ID Not In (Select SPONSOR_ID from UAC_SPONSOR_LIST A Inner Join UAC_PROGRAM_INFO B On A.UAC_ID &#61; B.UAC_ID Where B.UAC_PROGRAM_ID &#61; uacProgId_)&#10;            And NOT EXISTS (Select SPONSOR_ID from SPONSOR_INFO_SEARCH_TEMP Where SPONSOR_ID &#61; A.SPONSOR_ID) &#10;          Order by A.First_Name, A.Last_Name &#10;          FETCH FIRST vSearchResultLimit ROWS ONLY &#10;      );&#10;&#10;  END IF;&#10;&#10;   IF (DOB IS NULL) THEN &#10;&#10;     step_ :&#61; &#39;ROWLEVEL-4 DOB IS NULL&#39;;&#10;     INSERT INTO SPONSOR_INFO_SEARCH_TEMP&#10;     (Select DISTINCT v_Param1, Count(*) over() as rowC,  A.SPONSOR_ID, A.ALIEN_NO, A.DOB, &#10;          A.FIRST_NAME, --REGEXP_REPLACE(A.FIRST_NAME, &#39;[^0-9A-Za-z ,.#;&amp;-]&#39;, &#39;&#39;) AS FIRST_NAME, &#10;          A.Last_Name,  --REGEXP_REPLACE(A.Last_Name, &#39;[^0-9A-Za-z ,.#;&amp;-]&#39;, &#39;&#39;) AS Last_Name, &#10;          A.Address,--  REGEXP_REPLACE(A.Address, &#39;[^0-9A-Za-z ,.#-&amp;/\]&#39;, &#39;&#39;) AS Address , &#10;          A.City, --REGEXP_REPLACE(A.City, &#39;[^0-9A-Za-z ,.#]&#39;, &#39;&#39;) AS City, &#10;          A.State, NVL(A.P_COUNTER, 0),  &#10;         REGEXP_REPLACE(A.HOME_PHONE, &#39;[^0-9]&#39;, &#39;&#39;)  as HOME_PHONE, &#10;         REGEXP_REPLACE(A.WORK_PHONE, &#39;[^0-9]&#39;, &#39;&#39;)  as WORK_PHONE,&#10;          A.EMAIL,&#10;         A.COB,&#10;         NVL(A.A_COUNTER, 0), &#10;         &#10;        CASE &#10;            WHEN UPPER(A.FLAG) IN (&#39;YES&#39;) OR A.FLAG_ADDRESS IN (&#39;1&#39;) &#10;                 OR EXISTS (SELECT 1 FROM SponsorFlag WHERE SPONSORID &#61; A.SPONSOR_ID)&#10;            THEN &#39;Yes&#39;&#10;            ELSE &#39;No&#39;&#10;        END AS Flag,&#10;&#10;        --(CASE WHEN REGEXP_REPLACE(A.FLAG, &#39;[^0-9A-Za-z ,.#]&#39;, &#39;&#39;) &#61; &#39;Yes&#39; OR nvl(A.FLAG_ADDRESS, 0) &#61; 1 THEN &#39;Yes&#39; ELSE &#39;No&#39; END) AS FLAG, &#10;        A.FLAG_NOTE, --REGEXP_REPLACE(A.FLAG_NOTE, &#39;[^0-9A-Za-z ,.#]&#39;, &#39;&#39;) as FLAG_NOTE,&#10;&#10;         4 AS ROWLEVEL, &#39;&#39; as SPONSOR_STATUS,&#39;Add Sponsor&#39; as ADD_SPONSOR&#10;        From V_SPONSOR_INFO A&#10;&#9;&#9;  Where&#10;            --((CASE WHEN searchNames_ &#61; &#39;XXX XXX&#39; THEN 1 WHEN (TRIM(UPPER(A.first_name)) || &#39; &#39; || TRIM(UPPER(A.last_name)) Like &#39; &#39; ||  searchNames_ || &#39;%&#39;) THEN 1 ELSE 0 END) &#61; 1&#10;            -- OR (CASE WHEN searchNames_ &#61; &#39;XXX XXX&#39; THEN 1 WHEN (TRIM(UPPER(A.last_name)) || &#39; &#39; || TRIM(UPPER(A.first_name)) Like &#39; &#39; ||  searchNames_ || &#39;%&#39;) THEN 1 ELSE 0 END) &#61; 1&#10;            --)&#10;            (CASE WHEN fName_ &#61; &#39;XXX&#39; THEN 1 WHEN (UPPER(REPLACE(nvl(A.FIRST_NAME,&#39;&#39;), &#39;&#39;&#39;&#39;, &#39;&#39;)) like &#39;%&#39; || REPLACE(fName_, &#39;&#39;&#39;&#39;, &#39;&#39;) || &#39;%&#39;) THEN 1 ELSE 0 END) &#61; 1&#10;            AND (CASE WHEN lName_ &#61; &#39;XXX&#39; THEN 1 WHEN (UPPER(REPLACE(nvl(A.LAST_NAME,&#39;&#39;), &#39;&#39;&#39;&#39;, &#39;&#39;)) like &#39;%&#39; || REPLACE(lName_, &#39;&#39;&#39;&#39;, &#39;&#39;) || &#39;%&#39;) THEN 1 ELSE 0 END) &#61; 1&#10;            AND (CASE WHEN address_ &#61; &#39;XXX&#39; THEN 1 WHEN (UPPER(REPLACE(nvl(A.ADDRESS,&#39;&#39;), &#39;&#39;&#39;&#39;, &#39;&#39;)) like REPLACE(address_, &#39;&#39;&#39;&#39;, &#39;&#39;)) THEN 1 ELSE 0 END) &#61; 1&#10;&#10;            And (CASE WHEN homephone_ &#61; &#39;XXX&#39; THEN 1 WHEN (UPPER(nvl(A.HOME_PHONE,&#39;&#39;)) like &#39;%&#39; ||  homephone_ || &#39;%&#39;) THEN 1 ELSE 0 END) &#61; 1&#10;            And (CASE WHEN workphone_ &#61; &#39;XXX&#39; THEN 1 WHEN (UPPER(nvl(A.WORK_PHONE,&#39;&#39;)) like &#39;%&#39; ||  workphone_ || &#39;%&#39;) THEN 1 ELSE 0 END) &#61; 1&#10;            And (CASE WHEN email_ &#61; &#39;XXX&#39; THEN 1 WHEN (UPPER(nvl(A.EMAIL,&#39;&#39;)) like &#39;%&#39; ||  REPLACE(email_, &#39;&#39;&#39;&#39;, &#39;&#39;) || &#39;%&#39;) THEN 1 ELSE 0 END) &#61; 1&#10;            And (CASE WHEN aNumber_ &#61; &#39;XXX&#39; THEN 1 WHEN (UPPER(nvl(A.ALIEN_NO, &#39;&#39;)) like &#39;%&#39; ||  aNumber_ || &#39;%&#39;) THEN 1 ELSE 0 END) &#61; 1&#10;            And (CASE WHEN city_ &#61; &#39;XXX&#39; THEN 1 WHEN (UPPER(nvl(A.CITY,&#39;&#39;)) like &#39;%&#39; ||  city_ || &#39;%&#39;) THEN 1 ELSE 0 END) &#61; 1&#10;            And (CASE WHEN state_ &#61; &#39;XX&#39; THEN 1 WHEN (UPPER(nvl(A.&quot;STATE&quot;,&#39;&#39;)) like &#39;%&#39; ||  state_ || &#39;%&#39;) THEN 1 ELSE 0 END) &#61; 1&#10;            And (CASE WHEN cob_ &#61; &#39;XXX&#39; THEN 1 WHEN (UPPER(nvl(A.COB,&#39;&#39;)) like &#39;%&#39; ||  cob_ || &#39;%&#39;) THEN 1 ELSE 0 END) &#61; 1&#10;&#10;&#9;&#9;    And SPONSOR_ID Not In (Select SPONSOR_ID from UAC_SPONSOR_LIST A Inner Join UAC_PROGRAM_INFO B On A.UAC_ID &#61; B.UAC_ID Where B.UAC_PROGRAM_ID &#61; uacProgId_)&#10;            And NOT EXISTS (Select SPONSOR_ID from SPONSOR_INFO_SEARCH_TEMP Where SPONSOR_ID &#61; A.SPONSOR_ID) &#10;          Order by A.First_Name, A.Last_Name &#10;          FETCH FIRST vSearchResultLimit ROWS ONLY &#10;      ); &#10;   ELSE&#10;     step_ :&#61; &#39;ROWLEVEL-4 DOB IS NOT NULL&#39;;&#10;     INSERT INTO SPONSOR_INFO_SEARCH_TEMP&#10;     (Select DISTINCT v_Param1, Count(*) over() as rowC,  A.SPONSOR_ID, A.ALIEN_NO, A.DOB, &#10;          A.FIRST_NAME, --REGEXP_REPLACE(A.FIRST_NAME, &#39;[^0-9A-Za-z ,.#;&amp;-]&#39;, &#39;&#39;) AS FIRST_NAME, &#10;          A.Last_Name,  --REGEXP_REPLACE(A.Last_Name, &#39;[^0-9A-Za-z ,.#;&amp;-]&#39;, &#39;&#39;) AS Last_Name, &#10;         A.Address,--  REGEXP_REPLACE(A.Address, &#39;[^0-9A-Za-z ,.#-&amp;/\]&#39;, &#39;&#39;) AS Address , &#10;          A.City, --REGEXP_REPLACE(A.City, &#39;[^0-9A-Za-z ,.#]&#39;, &#39;&#39;) AS City, &#10;          A.State, NVL(A.P_COUNTER, 0),  &#10;         REGEXP_REPLACE(A.HOME_PHONE, &#39;[^0-9]&#39;, &#39;&#39;)  as HOME_PHONE, &#10;         REGEXP_REPLACE(A.WORK_PHONE, &#39;[^0-9]&#39;, &#39;&#39;)  as WORK_PHONE,&#10;          A.EMAIL,&#10;         A.COB,&#10;         NVL(A.A_COUNTER, 0), &#10;         &#10;        CASE &#10;            WHEN UPPER(A.FLAG) IN (&#39;YES&#39;) OR A.FLAG_ADDRESS IN (&#39;1&#39;) &#10;                 OR EXISTS (SELECT 1 FROM SponsorFlag WHERE SPONSORID &#61; A.SPONSOR_ID)&#10;            THEN &#39;Yes&#39;&#10;            ELSE &#39;No&#39;&#10;        END AS Flag,&#10;&#10;        --(CASE WHEN REGEXP_REPLACE(A.FLAG, &#39;[^0-9A-Za-z ,.#]&#39;, &#39;&#39;) &#61; &#39;Yes&#39; OR nvl(A.FLAG_ADDRESS, 0) &#61; 1 THEN &#39;Yes&#39; ELSE &#39;No&#39; END) AS FLAG, &#10;        A.FLAG_NOTE, --REGEXP_REPLACE(A.FLAG_NOTE, &#39;[^0-9A-Za-z ,.#]&#39;, &#39;&#39;) as FLAG_NOTE,&#10;&#10;         4 AS ROWLEVEL, &#39;&#39; as SPONSOR_STATUS,&#39;Add Sponsor&#39; as ADD_SPONSOR&#10;        From V_SPONSOR_INFO A&#10;&#9;&#9;  Where&#10;            --((CASE WHEN searchNames_ &#61; &#39;XXX XXX&#39; THEN 1 WHEN (TRIM(UPPER(A.first_name)) || &#39; &#39; || TRIM(UPPER(A.last_name)) Like &#39; &#39; ||  searchNames_ || &#39;%&#39;) THEN 1 ELSE 0 END) &#61; 1&#10;            -- OR (CASE WHEN searchNames_ &#61; &#39;XXX XXX&#39; THEN 1 WHEN (TRIM(UPPER(A.last_name)) || &#39; &#39; || TRIM(UPPER(A.first_name)) Like &#39; &#39; ||  searchNames_ || &#39;%&#39;) THEN 1 ELSE 0 END) &#61; 1&#10;            --)&#10;            (CASE WHEN fName_ &#61; &#39;XXX&#39; THEN 1 WHEN (UPPER(REPLACE(nvl(A.FIRST_NAME,&#39;&#39;), &#39;&#39;&#39;&#39;, &#39;&#39;)) like &#39;%&#39; || REPLACE(fName_, &#39;&#39;&#39;&#39;, &#39;&#39;) || &#39;%&#39;) THEN 1 ELSE 0 END) &#61; 1&#10;            AND (CASE WHEN lName_ &#61; &#39;XXX&#39; THEN 1 WHEN (UPPER(REPLACE(nvl(A.LAST_NAME,&#39;&#39;), &#39;&#39;&#39;&#39;, &#39;&#39;)) like &#39;%&#39; || REPLACE(lName_, &#39;&#39;&#39;&#39;, &#39;&#39;) || &#39;%&#39;) THEN 1 ELSE 0 END) &#61; 1&#10;            AND (CASE WHEN address_ &#61; &#39;XXX&#39; THEN 1 WHEN (UPPER(REPLACE(nvl(A.ADDRESS,&#39;&#39;), &#39;&#39;&#39;&#39;, &#39;&#39;)) like REPLACE(address_, &#39;&#39;&#39;&#39;, &#39;&#39;)) THEN 1 ELSE 0 END) &#61; 1&#10;&#10;            And (CASE WHEN homephone_ &#61; &#39;XXX&#39; THEN 1 WHEN (UPPER(nvl(A.HOME_PHONE,&#39;&#39;)) like &#39;%&#39; ||  homephone_ || &#39;%&#39;) THEN 1 ELSE 0 END) &#61; 1&#10;            And (CASE WHEN workphone_ &#61; &#39;XXX&#39; THEN 1 WHEN (UPPER(nvl(A.WORK_PHONE,&#39;&#39;)) like &#39;%&#39; ||  workphone_ || &#39;%&#39;) THEN 1 ELSE 0 END) &#61; 1&#10;            And (CASE WHEN email_ &#61; &#39;XXX&#39; THEN 1 WHEN (UPPER(nvl(A.EMAIL,&#39;&#39;)) like &#39;%&#39; ||  REPLACE(email_, &#39;&#39;&#39;&#39;, &#39;&#39;) || &#39;%&#39;) THEN 1 ELSE 0 END) &#61; 1&#10;            And (CASE WHEN aNumber_ &#61; &#39;XXX&#39; THEN 1 WHEN (UPPER(nvl(A.ALIEN_NO, &#39;&#39;)) like &#39;%&#39; ||  aNumber_ || &#39;%&#39;) THEN 1 ELSE 0 END) &#61; 1&#10;            And (CASE WHEN city_ &#61; &#39;XXX&#39; THEN 1 WHEN (UPPER(nvl(A.CITY,&#39;&#39;)) like &#39;%&#39; ||  city_ || &#39;%&#39;) THEN 1 ELSE 0 END) &#61; 1&#10;            And (CASE WHEN state_ &#61; &#39;XX&#39; THEN 1 WHEN (UPPER(nvl(A.&quot;STATE&quot;,&#39;&#39;)) like &#39;%&#39; ||  state_ || &#39;%&#39;) THEN 1 ELSE 0 END) &#61; 1&#10;            And (CASE WHEN cob_ &#61; &#39;XXX&#39; THEN 1 WHEN (UPPER(nvl(A.COB,&#39;&#39;)) like &#39;%&#39; ||  cob_ || &#39;%&#39;) THEN 1 ELSE 0 END) &#61; 1&#10;            And To_Date(DOB, &#39;DD-MON-RR&#39;) &#61; To_Date(dob_, &#39;DD-MON-RR&#39;)&#10;&#10;&#9;&#9;    And SPONSOR_ID Not In (Select SPONSOR_ID from UAC_SPONSOR_LIST A Inner Join UAC_PROGRAM_INFO B On A.UAC_ID &#61; B.UAC_ID Where B.UAC_PROGRAM_ID &#61; uacProgId_)&#10;            And NOT EXISTS (Select SPONSOR_ID from SPONSOR_INFO_SEARCH_TEMP Where SPONSOR_ID &#61; A.SPONSOR_ID) &#10;          Order by A.First_Name, A.Last_Name &#10;          FETCH FIRST vSearchResultLimit ROWS ONLY &#10;      ); &#10;   END IF;&#10;&#10;   IF (v_firstAndSecond IS NOT NULL) THEN &#10;     step_ :&#61; &#39;ROWLEVEL-5 ane is not null&#39;;&#10;    INSERT INTO SPONSOR_INFO_SEARCH_TEMP&#10;          (Select DISTINCT v_Param1, Count(*) over() as rowC,  A.SPONSOR_ID, A.ALIEN_NO, A.DOB, &#10;          A.FIRST_NAME, --REGEXP_REPLACE(A.FIRST_NAME, &#39;[^0-9A-Za-z ,.#;&amp;-]&#39;, &#39;&#39;) AS FIRST_NAME, &#10;          A.Last_Name,  --REGEXP_REPLACE(A.Last_Name, &#39;[^0-9A-Za-z ,.#;&amp;-]&#39;, &#39;&#39;) AS Last_Name, &#10;          A.Address,--  REGEXP_REPLACE(A.Address, &#39;[^0-9A-Za-z ,.#-&amp;/\]&#39;, &#39;&#39;) AS Address , &#10;          A.City, --REGEXP_REPLACE(A.City, &#39;[^0-9A-Za-z ,.#]&#39;, &#39;&#39;) AS City, &#10;          A.State, NVL(A.P_COUNTER, 0),  &#10;         REGEXP_REPLACE(A.HOME_PHONE, &#39;[^0-9]&#39;, &#39;&#39;)  as HOME_PHONE, &#10;         REGEXP_REPLACE(A.WORK_PHONE, &#39;[^0-9]&#39;, &#39;&#39;)  as WORK_PHONE,&#10;         A.EMAIL,&#10;         A.COB,&#10;         NVL(A.A_COUNTER, 0), &#10;         &#10;        CASE &#10;            WHEN UPPER(A.FLAG) IN (&#39;YES&#39;) OR A.FLAG_ADDRESS IN (&#39;1&#39;) &#10;                 OR EXISTS (SELECT 1 FROM SponsorFlag WHERE SPONSORID &#61; A.SPONSOR_ID)&#10;            THEN &#39;Yes&#39;&#10;            ELSE &#39;No&#39;&#10;        END AS Flag,&#10;&#10;        --(CASE WHEN REGEXP_REPLACE(A.FLAG, &#39;[^0-9A-Za-z ,.#]&#39;, &#39;&#39;) &#61; &#39;Yes&#39; OR nvl(A.FLAG_ADDRESS, 0) &#61; 1 THEN &#39;Yes&#39; ELSE &#39;No&#39; END) AS FLAG, &#10;        A.FLAG_NOTE, --REGEXP_REPLACE(A.FLAG_NOTE, &#39;[^0-9A-Za-z ,.#]&#39;, &#39;&#39;) as FLAG_NOTE,&#10;&#10;         5 AS ROWLEVEL, &#39;&#39; as SPONSOR_STATUS,&#39;Add Sponsor&#39; as ADD_SPONSOR&#10;      From V_SPONSOR_INFO A&#10;      where &#10;          SOUNDEX(LOWER(trim(A.First_Name || &#39; &#39; || A.Last_Name))) &#61; SOUNDEX(LOWER(v_firstAndSecond))&#10;          And SPONSOR_ID Not In (Select SPONSOR_ID from UAC_SPONSOR_LIST A Inner Join UAC_PROGRAM_INFO B On A.UAC_ID &#61; B.UAC_ID Where B.UAC_PROGRAM_ID &#61; uacProgId_)&#10;          And NOT EXISTS (Select SPONSOR_ID from SPONSOR_INFO_SEARCH_TEMP Where SPONSOR_ID &#61; A.SPONSOR_ID) &#10;        Order by A.First_Name, A.Last_Name &#10;        FETCH FIRST vSearchResultLimit ROWS ONLY &#10;       );  &#10;   END IF;&#10;&#10;   EXCEPTION &#10;        WHEN OTHERS THEN errors_ :&#61; &#39;Database error: &#39; || &#39; &#39; || SQLERRM;&#10;   END; &#10;&#10;   --- retrieve all of the records&#10;   IF (errors_ IS NULL) THEN&#10;        Open cur_Out For&#10;          SELECT DISTINCT rowC, SPONSOR_ID, ALIEN_NO, DOB, First_Name, Last_Name,Address, City, State, P_COUNTER, &#10;          HOME_PHONE, WORK_PHONE, EMAIL,COB,&#10;           A_COUNTER, FLAG, FLAG_NOTE, ROWLEVEL, SPONSOR_STATUS, ADD_SPONSOR &#10;          FROM SPONSOR_INFO_SEARCH_TEMP &#10;          WHERE SEARCH_KEY &#61; v_Param1&#10;          ORDER BY ROWLEVEL;&#10;   ELSE&#10;      -- INSERT INTO SPONSOR_INFO_SEARCH_TEMP&#10;      -- Select DISTINCT v_Param1, 0 as rowC,  0 AS SPONSOR_ID, &#39;&#39; AS ALIEN_NO, NULL AS DOB, &#10;          --&#39;Database_Error&#39; AS FIRST_NAME, &#10;       --   &#39;SP_GET_UACSPONSORS_BY_ARRAY&#39; AS Last_Name, &#10;        --  errors_ || &#39; IN &#39; || step_ AS Address, &#10;        --  &#39;&#39; AS City, &#10;        --  &#39;&#39; AS State, 0 AS P_COUNTER, &#10;        --  &#39;0000000000&#39; as HOME_PHONE, &#39;0000000000&#39;  as WORK_PHONE,&#10;        -- &#39;&#39; AS EMAIL,&#10;      --   &#39;&#39; AS COB,&#10;      --   0 AS A_COUNTER, &#39;&#39; AS FLAG, &#39;&#39; as FLAG_NOTE, -1 AS ROWLEVEL, &#39;&#39; as SPONSOR_STATUS,&#39;&#39; as ADD_SPONSOR&#10;     --   FROM DUAL;&#10;&#10;        Open cur_Out For&#10;          SELECT DISTINCT rowC, SPONSOR_ID, ALIEN_NO, DOB, First_Name, Last_Name,Address, City, State, P_COUNTER, &#10;          HOME_PHONE, WORK_PHONE, EMAIL,COB,&#10;           A_COUNTER, FLAG, FLAG_NOTE, ROWLEVEL, SPONSOR_STATUS, ADD_SPONSOR &#10;          FROM SPONSOR_INFO_SEARCH_TEMP &#10;          WHERE SEARCH_KEY &#61; v_Param1&#10;          ORDER BY ROWLEVEL;        &#10;   END IF;&#10;&#10;   -- delete the values from the temp table based on the v_Param1&#10;   DELETE FROM SPONSOR_INFO_SEARCH_TEMP WHERE SEARCH_KEY &#61; v_Param1;&#10;   DELETE FROM SPONSOR_INFO_PERMUTATIONS WHERE PERMUTATIONS_KEY &#61; v_Param1;&#10;&#10;END SP_GET_UACSPONSORS_BY_ARRAY;</textarea>
                        </div>
                    </div>
                </section>
            </div>
            <!-- /.content-wrapper -->
            <footer class="main-footer">
                <div>
                    <div class="pull-right hidden-xs">
                        <a href="https://github.com/schemaspy/schemaspy" title="GitHub for SchemaSpy"><i class="fa fa-github-square fa-2x"></i></a>
                        <a href="http://stackoverflow.com/questions/tagged/schemaspy" title="StackOverflow for SchemaSpy"><i class="fa fa-stack-overflow fa-2x"></i></a>
                    </div>
                    <strong>Generated by <a href="http://schemaspy.org/" class="logo-text"><i class="fa fa-database"></i> SchemaSpy 6.2.4</a></strong>
                </div>
                <!-- /.container -->
            </footer>
        </div>
        <!-- ./wrapper -->

        <!-- jQuery 2.2.3 -->
        <script src="../bower/admin-lte/plugins/jQuery/jquery-2.2.3.min.js"></script>
        <script src="../bower/admin-lte/plugins/jQueryUI/jquery-ui.min.js"></script>
        <!-- Bootstrap 3.3.5 -->
        <script src="../bower/admin-lte/bootstrap/js/bootstrap.min.js"></script>
        <!-- DataTables -->
        <script src="../bower/datatables.net/jquery.dataTables.min.js"></script>
        <script src="../bower/datatables.net-bs/js/dataTables.bootstrap.min.js"></script>
        <script src="../bower/datatables.net-buttons/dataTables.buttons.min.js"></script>
        <script src="../bower/datatables.net-buttons-bs/js/buttons.bootstrap.min.js"></script>
        <script src="../bower/datatables.net-buttons/buttons.html5.min.js"></script>
        <script src="../bower/datatables.net-buttons/buttons.print.min.js"></script>
        <script src="../bower/datatables.net-buttons/buttons.colVis.min.js"></script>
        <!-- SheetJS -->
        <script src="../bower/js-xlsx/xlsx.full.min.js"></script>
        <!-- pdfmake -->
        <script src="../bower/pdfmake/pdfmake.min.js"></script>
        <script src="../bower/pdfmake/vfs_fonts.js"></script>
        <!-- SlimScroll -->
        <script src="../bower/admin-lte/plugins/slimScroll/jquery.slimscroll.min.js"></script>
        <!-- FastClick -->
        <script src="../bower/admin-lte/plugins/fastclick/fastclick.js"></script>
        <!-- Salvattore -->
        <script src="../bower/salvattore/salvattore.min.js"></script>
        <!-- AnchorJS -->
        <script src="../bower/anchor-js/anchor.min.js"></script>
        <!-- CodeMirror -->
        <script src="../bower/codemirror/codemirror.js"></script>
        <script src="../bower/codemirror/sql.js"></script>
        <!-- AdminLTE App -->
        <script src="../bower/admin-lte/dist/js/app.min.js"></script>
        <script src="routine.js"></script>
        <script src="../schemaSpy.js"></script>
    </body>
</html>