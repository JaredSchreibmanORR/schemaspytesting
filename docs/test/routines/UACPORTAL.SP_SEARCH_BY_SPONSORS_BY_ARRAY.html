<!DOCTYPE html>
<html>
    <head>
        <meta charset="utf-8">
        <meta http-equiv="X-UA-Compatible" content="IE=edge">
        <title>ORCL.UACPORTAL</title>
        <!-- Tell the browser to be responsive to screen width -->
        <meta content="width=device-width, initial-scale=1, maximum-scale=1, user-scalable=no" name="viewport">
        <link rel="icon" type="image/png" sizes="16x16" href="../favicon.png">
        <!-- Bootstrap 3.3.5 -->
        <link rel="stylesheet" href="../bower/admin-lte/bootstrap/css/bootstrap.min.css">
        <!-- Font Awesome -->
        <link rel="stylesheet" href="../bower/font-awesome/css/font-awesome.min.css">
        <!-- Ionicons -->
        <link rel="stylesheet" href="../bower/ionicons/css/ionicons.min.css">
        <!-- DataTables -->
        <link rel="stylesheet" href="../bower/datatables.net-bs/css/dataTables.bootstrap.min.css">
        <link rel="stylesheet" href="../bower/datatables.net-buttons-bs/css/buttons.bootstrap.min.css">
        <!-- Code Mirror -->
        <link rel="stylesheet" href="../bower/codemirror/codemirror.css">
        <!-- Fonts -->
        <link href='../fonts/indieflower/indie-flower.css' rel='stylesheet' type='text/css'>
        <link href='../fonts/source-sans-pro/source-sans-pro.css' rel='stylesheet' type='text/css'>

        <!-- Theme style -->
        <link rel="stylesheet" href="../bower/admin-lte/dist/css/AdminLTE.min.css">
        <!-- Salvattore -->
        <link rel="stylesheet" href="../bower/salvattore/salvattore.css">
        <!-- AdminLTE Skins. Choose a skin from the css/skins
           folder instead of downloading all of them to reduce the load. -->
        <link rel="stylesheet" href="../bower/admin-lte/dist/css/skins/_all-skins.min.css">
        <!-- SchemaSpy -->
        <link rel="stylesheet" href="../schemaSpy.css">

        <!-- HTML5 Shim and Respond.js IE8 support of HTML5 elements and media queries -->
        <!-- WARNING: Respond.js doesn't work if you view the page via file:// -->
        <!--[if lt IE 9]>
        <script src="../bower/html5shiv/html5shiv.min.js"></script>
        <script src="../bower/respond/respond.min.js"></script>
        <![endif]-->
    </head>
    <!-- ADD THE CLASS layout-top-nav TO REMOVE THE SIDEBAR. -->
    <body class="hold-transition skin-blue layout-top-nav">
        <div class="wrapper">
            <header class="main-header">
                <nav class="navbar navbar-static-top">
                    <div class="container">
                        <div class="navbar-header">
                            <a href="../index.html" class="navbar-brand"><b>ORCL</b></a><span class="navbar-brand" style="padding-left: 0">.UACPORTAL</span>
                            <button type="button" class="navbar-toggle collapsed" data-toggle="collapse" data-target="#navbar-collapse"><i class="fa fa-bars"></i></button>
                        </div>

                        <!-- Collect the nav links, forms, and other content for toggling -->
                        <div class="collapse navbar-collapse pull-left" id="navbar-collapse">
                            <ul class="nav navbar-nav">
                                <li><a href="../index.html">Tables <span class="sr-only">(current)</span></a></li>
                                <li><a href="../columns.html" title="All of the columns in the schema">Columns</a></li>
                                <li><a href="../constraints.html" title="Useful for diagnosing error messages that just give constraint name or number">Constraints</a></li>
                                <li><a href="../relationships.html" title="Diagram of table relationships">Relationships</a></li>
                                <li><a href="../orphans.html" title="View of tables with neither parents nor children">Orphan&nbsp;Tables</a></li>
                                <li><a href="../anomalies.html" title="Things that might not be quite right">Anomalies</a></li>
                                <li><a href="../routines.html" title="Procedures and functions">Routines</a></li>
                            </ul>
                        </div>
                        <!-- /.navbar-collapse -->
                        <!-- Navbar Right Menu -->
                    </div>
                    <!-- /.container-fluid -->
                </nav>
            </header>
            <!-- Main content -->
            <!-- Full Width Column -->
            <div class="content-wrapper">
                <!-- Content Header (Page header) -->
                <section class="content-header">
                    <h1>UACPORTAL.SP_SEARCH_BY_SPONSORS_BY_ARRAY</h1><br />
                </section>
                <!-- Main content -->
                <section class="content">
                    <div class="box box-primary">
                        <div class="box-header with-border">
                            <span class="glyphicon glyphicon-list-alt" aria-hidden="true"></span>
                            <h3 id="Columns" class="box-title">Parameters</h3>
                            <div class="box-tools pull-right">
                                <button type="button" class="btn btn-box-tool" data-widget="collapse"><i class="fa fa-minus"></i></button>
                                <button type="button" class="btn btn-box-tool" data-widget="remove"><i class="fa fa-times"></i></button>
                            </div>
                        </div>
                        <div class="box-body">
                            <table id="standard_table" class="table table-bordered table-striped dataTable" role="grid">
                                <thead align='left'>
                                <tr>
                                    <th>Name</th>
                                    <th>Type</th>
                                    <th>Mode</th>
                                </tr>
                                </thead>
                                <tbody>
                                <tr>
                                    <td>V_SEARCH_VALUE</td>
                                    <td>VARCHAR2</td>
                                    <td>IN</td>
                                </tr>
                                <tr>
                                    <td>V_PARAM1</td>
                                    <td>VARCHAR2</td>
                                    <td>IN</td>
                                </tr>
                                <tr>
                                    <td>CUR_OUT</td>
                                    <td>REF CURSOR</td>
                                    <td>OUT</td>
                                </tr>
                                </tbody>
                            </table>
                        </div>
                    </div>
                    <div class="box box-primary">
                        <div class="box-header with-border">
                            <i class="fa fa-file-code-o"></i>
                            <h3 id="RoutineDefinition" class="box-title">Definition</h3>
                            <div class="box-tools pull-right">
                                <button type="button" class="btn btn-box-tool" data-widget="collapse"><i class="fa fa-minus"></i></button>
                                <button type="button" class="btn btn-box-tool" data-widget="remove"><i class="fa fa-times"></i></button>
                            </div>
                        </div>
                        <div class="box-body">
                            <textarea id="sql-script-codemirror" name="sql-script-codemirror" rows="" style="display: none;">PROCEDURE SP_SEARCH_BY_SPONSORS_BY_ARRAY &#10;(&#10;v_Search_Value  IN  VARCHAR2,&#10;v_Param1 IN VARCHAR2,&#10;cur_Out  OUT SYS_REFCURSOR&#10;)&#10;AS &#10;&#10;v_Param_Original varchar2(2000);&#10;v_ParmCat varchar(2000);&#10;vSearchResultLimit NUMBER(10,0);&#10;v_count number(10,0);&#10;dob_ DATE :&#61; NULL;&#10;v_permutations NUMBER(10,0) :&#61; 0;&#10;v_wordCount NUMBER(10,0) :&#61; 0;&#10;v_isNumber NUMBER :&#61; 0;&#10;&#10;step_ VARCHAR2(200) :&#61; NULL;&#10;errors_ VARCHAR2(200) :&#61; NULL;&#10;&#10;v_replaced_ VARCHAR2(200) :&#61; NULL;&#10;v_firstOf NUMBER(1,0) :&#61; NULL;&#10;&#10;v_permutations1_ VARCHAR2(200) :&#61; NULL;&#10;v_permutations2_ VARCHAR2(200) :&#61; NULL;&#10;v_permutations3_ VARCHAR2(200) :&#61; NULL;&#10;v_permutations4_ VARCHAR2(200) :&#61; NULL;&#10;v_FirstName1_ VARCHAR2(200) :&#61; NULL;&#10;v_LastName1_ VARCHAR2(200) :&#61; NULL;&#10;v_FirstName2_ VARCHAR2(200) :&#61; NULL;&#10;v_LastName2_ VARCHAR2(200) :&#61; NULL;&#10;&#10;v_SpecialCharacters_ VARCHAR(2000) :&#61; NULL;&#10;v_SpecialCharacters1_ VARCHAR(2000) :&#61; NULL;&#10;&#10;BEGIN&#10;    -- is the input begin with a number... then treat it as an address&#10;    -- no permutations&#10;    SELECT REGEXP_SUBSTR(&#10;             TRIM(v_Search_Value),&#10;             &#39;([0-9]+)\d&#39;,&#10;             1,     -- Start at the first character&#10;             1,     -- Get the first match&#10;             NULL--,  -- Case sensitive&#10;             --1      -- Return the first capture group&#10;           ) INTO v_isNumber&#10;    FROM   dual;&#10;&#10;    -- get rid of multiple spaces between words leaving at least one space if it exists&#10;    v_Param_Original :&#61; Trim(UPPER(regexp_replace (v_Search_Value, &#39;\s+&#39;, &#39; &#39;)));&#10;    v_ParmCat :&#61; CONCAT(CONCAT(&#39;%&#39;,replace(Trim(UPPER(regexp_replace (v_Search_Value, &#39;\s+&#39;, &#39; &#39;))), &#39; &#39;, &#39;%&#39;)), &#39;%&#39;);&#10;&#10;    v_SpecialCharacters_ :&#61; trim(upper(HTML_CHARACTER_TO_SPECIAL_CHARACTERS(v_Param_Original)));&#10;    v_SpecialCharacters1_ :&#61; trim(upper(HTML_SPECIAL_CHARACTERS_TO_CHARACTER(UPPER(v_Param_Original))));&#10;    --DBMS_OUTPUT.put_line(v_SpecialCharacters_);&#10;    --DBMS_OUTPUT.put_line(v_SpecialCharacters1_);&#10;&#10;    -- for SoundEx. also SoundEx works better with Lower, not Upper&#10;    select REPLACE(LOWER(TRIM(regexp_replace (regexp_replace (v_Search_Value, &#39;\s+&#39;, &#39; &#39;), &#39;\s+&#39;, &#39; &#39;))), &#39;in&#39;, &#39;&#39;) into v_replaced_ from dual;&#10;    select REPLACE(LOWER(v_replaced_), &#39;and&#39;, &#39;&#39;) into v_replaced_ from dual;&#10;    select REPLACE(LOWER(v_replaced_), &#39;of&#39;, &#39;&#39;) into v_replaced_ from dual;&#10;    select REPLACE(LOWER(v_replaced_), &#39;the&#39;, &#39;&#39;) into v_replaced_ from dual;&#10;    select REPLACE(LOWER(v_replaced_), &#39;to&#39;, &#39;&#39;) into v_replaced_ from dual;&#10;    select REPLACE(LOWER(v_replaced_), &#39;str&#39;, &#39;&#39;) into v_replaced_ from dual;&#10;    select REPLACE(LOWER(v_replaced_), &#39;drv&#39;, &#39;&#39;) into v_replaced_ from dual;&#10;    select REPLACE(LOWER(v_replaced_), &#39;st&#39;, &#39;&#39;) into v_replaced_ from dual;&#10;    select REPLACE(LOWER(v_replaced_), &#39;dr&#39;, &#39;&#39;) into v_replaced_ from dual;&#10;    select REPLACE(LOWER(v_replaced_), &#39;place&#39;, &#39;&#39;) into v_replaced_ from dual;&#10;    select REPLACE(LOWER(v_replaced_), &#39;blvd&#39;, &#39;&#39;) into v_replaced_ from dual;&#10;    select REPLACE(LOWER(v_replaced_), &#39;.&#39;, &#39;&#39;) into v_replaced_ from dual;&#10;    select REPLACE(LOWER(v_replaced_), &#39;#&#39;, &#39;&#39;) into v_replaced_ from dual;&#10;    select REPLACE(LOWER(v_replaced_), &#39;&#39;&#39;&#39;, &#39;&#39;) into v_replaced_ from dual;&#10;&#10;    BEGIN&#10;        Select to_date(v_Search_Value,&#39;mm/dd/yyyy&#39;) INTO dob_ from dual;&#10;    EXCEPTION WHEN OTHERS THEN dob_ :&#61; NULL;&#10;    END;&#10;&#10;    select NVL ((SELECT to_number(nvl(PARAM_VALUE, &#39;150&#39;)) --into vSearchResultLimit&#10;                 from UACPORTAL_APP_PARAMS where PARAM_NAME &#61; &#39;SearchResultsLimit&#39;&#10;                ),&#10;                to_number(&#39;150&#39;)&#10;               ) AS PARAM_VALUE into vSearchResultLimit&#10;    from   dual;    &#10;    --DBMS_OUTPUT.put_line(v_isNumber);&#10;    --DBMS_OUTPUT.put_line(v_Search_Value);&#10;&#10;    select length(v_Param_Original) - length(replace(v_Param_Original,&#39; &#39;,null)) &#10;    INTO v_wordCount from dual;&#10;    --DBMS_OUTPUT.put_line(v_wordCount);&#10;&#10;    IF (v_wordCount &gt; 0 &#10;        AND v_isNumber IS NULL) THEN&#10;        SELECT REGEXP_SUBSTR(TRIM(v_Param_Original), &#39;[^ ]+&#39;) INTO v_permutations1_ FROM dual;&#10;        SELECT REGEXP_SUBSTR(TRIM(v_Param_Original), &#39;[^ ]+&#39;, 1, 2) INTO v_permutations2_ FROM  dual;&#10;        SELECT REGEXP_SUBSTR(TRIM(v_Param_Original), &#39;[^ ]+&#39;, 1, 3) INTO v_permutations3_ FROM  dual;&#10;        SELECT REGEXP_SUBSTR(TRIM(v_Param_Original), &#39;[^ ]+&#39;, 1, 4) INTO v_permutations4_ FROM  dual;&#10;&#10;        --DBMS_OUTPUT.put_line(v_permutations1_);&#10;        --DBMS_OUTPUT.put_line(v_permutations2_);&#10;        --DBMS_OUTPUT.put_line(v_permutations3_);&#10;        --DBMS_OUTPUT.put_line(v_permutations4_);&#10;        v_FirstName1_ :&#61; &#39;&#39;;&#10;        v_FirstName2_ :&#61; &#39;&#39;;&#10;&#10;        IF (v_permutations1_ IS NOT NULL) THEN&#10;            v_FirstName1_ :&#61; v_permutations1_;&#10;        END IF;&#10;        IF (v_permutations2_ IS NOT NULL) THEN&#10;            v_FirstName2_ :&#61; v_permutations2_;&#10;        END IF;&#10;        IF (v_permutations3_ IS NOT NULL) THEN&#10;            v_FirstName2_ :&#61; v_FirstName2_ || &#39; &#39; || v_permutations3_;&#10;        END IF;&#10;        IF (v_permutations4_ IS NOT NULL) THEN&#10;            v_FirstName2_ :&#61; v_FirstName2_ || &#39; &#39; || v_permutations4_;&#10;        END IF;&#10;&#10;        --DBMS_OUTPUT.put_line(v_FirstName1_);&#10;        --DBMS_OUTPUT.put_line(v_FirstName2_);&#10;&#10;        IF (v_FirstName1_ IS NOT NULL) THEN&#10;            -- creates our list of names by switching multiple words into a temp table&#10;            -- the key is v_Param1 - FIRST PERMUTATION&#10;            INSERT INTO SPONSOR_INFO_PERMUTATIONS (PERMUTATIONS_KEY, FNAME, LNAME) &#10;            WITH words AS&#10;            (   SELECT  v_FirstName1_&#10;                    ,   REGEXP_SUBSTR( v_FirstName2_, &#39;\S+&#39;, 1, LEVEL ) AS word&#10;                    ,   LEVEL                                           AS num&#10;                FROM    DUAL&#10;                CONNECT BY LEVEL &lt;&#61; LENGTH( REGEXP_REPLACE( v_FirstName2_, &#39;\S+\s*&#39;, &#39;X&#39; ) )&#10;            )&#10;            SELECT  TRIM(v_Param1), TRIM(UPPER(v_FirstName1_)),TRIM( UPPER(SYS_CONNECT_BY_PATH( W.word, &#39; &#39; )))&#10;            FROM    words   W&#10;            CONNECT BY NOCYCLE PRIOR W.num !&#61; W.num;&#10;&#10;            -- creates our list of names by switching multiple words into a temp table&#10;            -- the key is v_Param1 - FIRST PERMUTATION&#10;            INSERT INTO SPONSOR_INFO_PERMUTATIONS (PERMUTATIONS_KEY, FNAME, LNAME) &#10;            WITH words AS&#10;            (   SELECT  v_FirstName1_&#10;                    ,   REGEXP_SUBSTR( v_FirstName2_, &#39;\S+&#39;, 1, LEVEL ) AS word&#10;                    ,   LEVEL                                           AS num&#10;                FROM    DUAL&#10;                CONNECT BY LEVEL &lt;&#61; LENGTH( REGEXP_REPLACE( v_FirstName2_, &#39;\S+\s*&#39;, &#39;X&#39; ) )&#10;            )&#10;            SELECT  TRIM(v_Param1), TRIM(UPPER(SYS_CONNECT_BY_PATH( W.word, &#39; &#39; ))), TRIM(UPPER(v_FirstName1_))&#10;            FROM    words   W&#10;            CONNECT BY NOCYCLE PRIOR W.num !&#61; W.num;  &#10;        END IF;&#10;&#10;        v_FirstName1_ :&#61; &#39;&#39;;&#10;        v_FirstName2_ :&#61; &#39;&#39;;&#10;        IF (v_permutations2_ IS NOT NULL) THEN&#10;            v_FirstName1_ :&#61; v_permutations2_;&#10;        END IF;&#10;        IF (v_permutations1_ IS NOT NULL) THEN&#10;            v_FirstName2_ :&#61; v_permutations1_;&#10;        END IF;&#10;        IF (v_permutations3_ IS NOT NULL) THEN&#10;            v_FirstName2_ :&#61; v_FirstName2_ || &#39; &#39; || v_permutations3_;&#10;        END IF;&#10;        IF (v_permutations4_ IS NOT NULL) THEN&#10;            v_FirstName2_ :&#61; v_FirstName2_ || &#39; &#39; || v_permutations4_;&#10;        END IF;&#10;&#10;        --DBMS_OUTPUT.put_line(v_FirstName1_);&#10;        --DBMS_OUTPUT.put_line(v_FirstName2_);&#10;&#10;        IF (v_FirstName1_ IS NOT NULL) THEN&#10;            -- creates our list of names by switching multiple words into a temp table&#10;            -- the key is v_Param1 - FIRST PERMUTATION&#10;            INSERT INTO SPONSOR_INFO_PERMUTATIONS (PERMUTATIONS_KEY, FNAME, LNAME) &#10;            WITH words AS&#10;            (   SELECT  v_FirstName1_&#10;                    ,   REGEXP_SUBSTR( v_FirstName2_, &#39;\S+&#39;, 1, LEVEL ) AS word&#10;                    ,   LEVEL                                           AS num&#10;                FROM    DUAL&#10;                CONNECT BY LEVEL &lt;&#61; LENGTH( REGEXP_REPLACE( v_FirstName2_, &#39;\S+\s*&#39;, &#39;X&#39; ) )&#10;            )&#10;            SELECT  TRIM(v_Param1), TRIM(UPPER(v_FirstName1_)),TRIM( UPPER(SYS_CONNECT_BY_PATH( W.word, &#39; &#39; )))&#10;            FROM    words   W&#10;            CONNECT BY NOCYCLE PRIOR W.num !&#61; W.num;&#10;&#10;            -- creates our list of names by switching multiple words into a temp table&#10;            -- the key is v_Param1 - FIRST PERMUTATION&#10;            INSERT INTO SPONSOR_INFO_PERMUTATIONS (PERMUTATIONS_KEY, FNAME, LNAME) &#10;            WITH words AS&#10;            (   SELECT  v_FirstName1_&#10;                    ,   REGEXP_SUBSTR( v_FirstName2_, &#39;\S+&#39;, 1, LEVEL ) AS word&#10;                    ,   LEVEL                                           AS num&#10;                FROM    DUAL&#10;                CONNECT BY LEVEL &lt;&#61; LENGTH( REGEXP_REPLACE( v_FirstName2_, &#39;\S+\s*&#39;, &#39;X&#39; ) )&#10;            )&#10;            SELECT  TRIM(v_Param1), TRIM(UPPER(SYS_CONNECT_BY_PATH( W.word, &#39; &#39; ))), TRIM(UPPER(v_FirstName1_))&#10;            FROM    words   W&#10;            CONNECT BY NOCYCLE PRIOR W.num !&#61; W.num;  &#10;        END IF;&#10;&#10;        v_FirstName1_ :&#61; &#39;&#39;;&#10;        v_FirstName2_ :&#61; &#39;&#39;;&#10;        IF (v_permutations3_ IS NOT NULL) THEN&#10;            v_FirstName1_ :&#61; v_permutations3_;&#10;        END IF;&#10;        IF (v_permutations1_ IS NOT NULL) THEN&#10;            v_FirstName2_ :&#61; v_permutations1_;&#10;        END IF;&#10;        IF (v_permutations2_ IS NOT NULL) THEN&#10;            v_FirstName2_ :&#61; v_FirstName2_ || &#39; &#39; || v_permutations2_;&#10;        END IF;&#10;        IF (v_permutations4_ IS NOT NULL) THEN&#10;            v_FirstName2_ :&#61; v_FirstName2_ || &#39; &#39; || v_permutations4_;&#10;        END IF;&#10;&#10;        --DBMS_OUTPUT.put_line(v_FirstName1_);&#10;        --DBMS_OUTPUT.put_line(v_FirstName2_);&#10;&#10;        IF (v_FirstName1_ IS NOT NULL) THEN&#10;            -- creates our list of names by switching multiple words into a temp table&#10;            -- the key is v_Param1 - FIRST PERMUTATION&#10;            INSERT INTO SPONSOR_INFO_PERMUTATIONS (PERMUTATIONS_KEY, FNAME, LNAME) &#10;            WITH words AS&#10;            (   SELECT  v_FirstName1_&#10;                    ,   REGEXP_SUBSTR( v_FirstName2_, &#39;\S+&#39;, 1, LEVEL ) AS word&#10;                    ,   LEVEL                                           AS num&#10;                FROM    DUAL&#10;                CONNECT BY LEVEL &lt;&#61; LENGTH( REGEXP_REPLACE( v_FirstName2_, &#39;\S+\s*&#39;, &#39;X&#39; ) )&#10;            )&#10;            SELECT  TRIM(v_Param1), TRIM(UPPER(v_FirstName1_)),TRIM( UPPER(SYS_CONNECT_BY_PATH( W.word, &#39; &#39; )))&#10;            FROM    words   W&#10;            CONNECT BY NOCYCLE PRIOR W.num !&#61; W.num;&#10;&#10;            -- creates our list of names by switching multiple words into a temp table&#10;            -- the key is v_Param1 - FIRST PERMUTATION&#10;            INSERT INTO SPONSOR_INFO_PERMUTATIONS (PERMUTATIONS_KEY, FNAME, LNAME) &#10;            WITH words AS&#10;            (   SELECT  v_FirstName1_&#10;                    ,   REGEXP_SUBSTR( v_FirstName2_, &#39;\S+&#39;, 1, LEVEL ) AS word&#10;                    ,   LEVEL                                           AS num&#10;                FROM    DUAL&#10;                CONNECT BY LEVEL &lt;&#61; LENGTH( REGEXP_REPLACE( v_FirstName2_, &#39;\S+\s*&#39;, &#39;X&#39; ) )&#10;            )&#10;            SELECT  TRIM(v_Param1), TRIM(UPPER(SYS_CONNECT_BY_PATH( W.word, &#39; &#39; ))), TRIM(UPPER(v_FirstName1_))&#10;            FROM    words   W&#10;            CONNECT BY NOCYCLE PRIOR W.num !&#61; W.num;  &#10;        END IF;&#10;&#10;        v_FirstName1_ :&#61; &#39;&#39;;&#10;        v_FirstName2_ :&#61; &#39;&#39;;&#10;        IF (v_permutations4_ IS NOT NULL) THEN&#10;            v_FirstName1_ :&#61; v_permutations4_;&#10;        END IF;&#10;        IF (v_permutations1_ IS NOT NULL) THEN&#10;            v_FirstName2_ :&#61; v_permutations1_;&#10;        END IF;&#10;        IF (v_permutations2_ IS NOT NULL) THEN&#10;            v_FirstName2_ :&#61; v_FirstName2_ || &#39; &#39; || v_permutations2_;&#10;        END IF;&#10;        IF (v_permutations3_ IS NOT NULL) THEN&#10;            v_FirstName2_ :&#61; v_FirstName2_ || &#39; &#39; || v_permutations3_;&#10;        END IF;&#10;        IF (v_permutations4_ IS NOT NULL) THEN&#10;            v_FirstName2_ :&#61; v_FirstName2_ || &#39; &#39; || v_permutations4_;&#10;        END IF;&#10;&#10;        --DBMS_OUTPUT.put_line(v_FirstName1_);&#10;        --DBMS_OUTPUT.put_line(v_FirstName2_);&#10;&#10;        IF (v_FirstName1_ IS NOT NULL) THEN&#10;            -- creates our list of names by switching multiple words into a temp table&#10;            -- the key is v_Param1 - FIRST PERMUTATION&#10;            INSERT INTO SPONSOR_INFO_PERMUTATIONS (PERMUTATIONS_KEY, FNAME, LNAME) &#10;            WITH words AS&#10;            (   SELECT  v_FirstName1_&#10;                    ,   REGEXP_SUBSTR( v_FirstName2_, &#39;\S+&#39;, 1, LEVEL ) AS word&#10;                    ,   LEVEL                                           AS num&#10;                FROM    DUAL&#10;                CONNECT BY LEVEL &lt;&#61; LENGTH( REGEXP_REPLACE( v_FirstName2_, &#39;\S+\s*&#39;, &#39;X&#39; ) )&#10;            )&#10;            SELECT  TRIM(v_Param1), TRIM(UPPER(v_FirstName1_)),TRIM( UPPER(SYS_CONNECT_BY_PATH( W.word, &#39; &#39; )))&#10;            FROM    words   W&#10;            CONNECT BY NOCYCLE PRIOR W.num !&#61; W.num;&#10;&#10;            -- creates our list of names by switching multiple words into a temp table&#10;            -- the key is v_Param1 - FIRST PERMUTATION&#10;            INSERT INTO SPONSOR_INFO_PERMUTATIONS (PERMUTATIONS_KEY, FNAME, LNAME) &#10;            WITH words AS&#10;            (   SELECT  v_FirstName1_&#10;                    ,   REGEXP_SUBSTR( v_FirstName2_, &#39;\S+&#39;, 1, LEVEL ) AS word&#10;                    ,   LEVEL                                           AS num&#10;                FROM    DUAL&#10;                CONNECT BY LEVEL &lt;&#61; LENGTH( REGEXP_REPLACE( v_FirstName2_, &#39;\S+\s*&#39;, &#39;X&#39; ) )&#10;            )&#10;            SELECT  TRIM(v_Param1), TRIM(UPPER(SYS_CONNECT_BY_PATH( W.word, &#39; &#39; ))), TRIM(UPPER(v_FirstName1_))&#10;            FROM    words   W&#10;            CONNECT BY NOCYCLE PRIOR W.num !&#61; W.num;  &#10;        END IF;&#10;&#10;        -- Remove items that are like FNAME :&#61; &#39;JOSE&#39; AND LNAME :&#61; &#39;SMITH&#39;&#10;        -- in both the first and last names&#10;        IF (v_wordCount &#61; 2) THEN&#10;            DELETE FROM SPONSOR_INFO_PERMUTATIONS &#10;            WHERE  PERMUTATIONS_KEY &#61; v_Param1&#10;                AND (length(FNAME) - length(replace(FNAME,&#39; &#39;,null)) &#61; 0)&#10;                AND (length(LNAME) - length(replace(LNAME,&#39; &#39;,null)) &#61; 0);&#10;        ELSIF (v_wordCount &#61; 3) THEN&#10;            DELETE FROM SPONSOR_INFO_PERMUTATIONS &#10;            WHERE  PERMUTATIONS_KEY &#61; v_Param1&#10;                AND (length((FNAME || &#39; &#39; || LNAME)) - length(replace((FNAME || &#39; &#39; || LNAME),&#39; &#39;,null)) &lt; 3);&#10;        END IF;&#10;    END IF;&#10;&#10;    Select count(*) into v_permutations from SPONSOR_INFO_PERMUTATIONS where PERMUTATIONS_KEY &#61; v_Param1;&#10;    --select count(*) as countItem into v_count from SPONSOR_INFO_PERMUTATIONS where PERMUTATIONS_KEY &#61; v_Param1;&#10;    --DBMS_OUTPUT.put_line(v_permutations);&#10;    --DBMS_OUTPUT.put_line(HTML_CHARACTER_TO_SPECIAL_CHARACTERS(v_Param_Original));&#10;   --v_permutations :&#61; 1;&#10;&#10;   IF (v_Search_Value IS NOT NULL) THEN   &#10;   BEGIN&#10;   step_ :&#61; &#39;ROWLEVEL-1&#39;;&#10;    INSERT INTO SPONSOR_INFO_SEARCH_TEMP&#10;     Select DISTINCT * FROM&#10;       (Select DISTINCT v_Param1, Count(*) over() as rowC,  A.SPONSOR_ID, A.ALIEN_NO, A.DOB, &#10;          A.FIRST_NAME, --REGEXP_REPLACE(A.FIRST_NAME, &#39;[^0-9A-Za-z ,.#;&amp;-]&#39;, &#39;&#39;) AS FIRST_NAME, &#10;          A.Last_Name,  --REGEXP_REPLACE(A.Last_Name, &#39;[^0-9A-Za-z ,.#;&amp;-]&#39;, &#39;&#39;) AS Last_Name, &#10;          A.Address,--  REGEXP_REPLACE(A.Address, &#39;[^0-9A-Za-z ,.#-&amp;/\]&#39;, &#39;&#39;) AS Address ,&#10;          A.City,--REGEXP_REPLACE(A.City, &#39;[^0-9A-Za-z ,.#]&#39;, &#39;&#39;) AS City, &#10;          A.State, NVL(A.P_COUNTER, 0), &#10;         REGEXP_REPLACE(A.HOME_PHONE, &#39;[^0-9]&#39;, &#39;&#39;)  as HOME_PHONE, &#10;         REGEXP_REPLACE(A.WORK_PHONE, &#39;[^0-9]&#39;, &#39;&#39;)  as WORK_PHONE,&#10;         A.EMAIL,&#10;         A.COB,&#10;         NVL(A.A_COUNTER, 0),&#10;        &#10;        CASE &#10;            WHEN UPPER(A.FLAG) IN (&#39;YES&#39;) OR A.FLAG_ADDRESS IN (&#39;1&#39;)&#10;                 OR EXISTS (SELECT 1 FROM SponsorFlag WHERE SPONSORID &#61; A.SPONSOR_ID)&#10;            THEN &#39;Yes&#39;&#10;            ELSE &#39;No&#39;&#10;        END AS Flag,&#10;&#10;        --(CASE WHEN REGEXP_REPLACE(A.FLAG, &#39;[^0-9A-Za-z ,.#]&#39;, &#39;&#39;) &#61; &#39;Yes&#39; OR nvl(A.FLAG_ADDRESS, 0) &#61; 1 THEN &#39;Yes&#39; ELSE &#39;No&#39; END) AS FLAG, &#10;        A.FLAG_NOTE, --REGEXP_REPLACE(A.FLAG_NOTE, &#39;[^0-9A-Za-z ,.#]&#39;, &#39;&#39;) as FLAG_NOTE, &#10;        &#10;         1 AS ROWLEVEL, &#39;&#39; as SPONSOR_STATUS,&#39;Add Sponsor&#39; as ADD_SPONSOR&#10;      From V_SPONSOR_INFO A&#10;      where (&#10;            TRIM(UPPER(A.FIRST_NAME)) || &#39; &#39; || TRIM(UPPER(A.LAST_NAME)) &#61; v_Param_Original&#10;            OR TRIM(UPPER(A.LAST_NAME)) || &#39; &#39; || TRIM(UPPER(A.FIRST_NAME)) &#61; v_Param_Original&#10;&#10;            OR TRIM(UPPER(REPLACE(A.FIRST_NAME, &#39;&#39;&#39;&#39;,&#39;&#39;))) &#61; REPLACE(v_Param_Original, &#39;&#39;&#39;&#39;,&#39;&#39;)&#10;            OR TRIM(UPPER(REPLACE(A.LAST_NAME, &#39;&#39;&#39;&#39;,&#39;&#39;))) &#61; REPLACE(v_Param_Original, &#39;&#39;&#39;&#39;,&#39;&#39;)&#10;            OR TRIM(UPPER(REPLACE(A.ADDRESS, &#39;&#39;&#39;&#39;,&#39;&#39;))) &#61; REPLACE(v_Param_Original, &#39;&#39;&#39;&#39;,&#39;&#39;)&#10;            OR TRIM(UPPER(A.EMAIL)) &#61; v_Param_Original&#10;            OR TRIM(UPPER(A.HOME_PHONE)) &#61; v_Param_Original&#10;            OR TRIM(UPPER(A.WORK_PHONE)) &#61; v_Param_Original&#10;&#10;            -- SPECIAL CHARACTERS&#10;            OR TRIM(UPPER(A.FIRST_NAME)) || &#39; &#39; || TRIM(UPPER(A.LAST_NAME)) &#61; v_SpecialCharacters_&#10;            OR TRIM(UPPER(A.LAST_NAME)) || &#39; &#39; || TRIM(UPPER(A.FIRST_NAME)) &#61; v_SpecialCharacters_&#10;&#10;            OR TRIM(UPPER(A.FIRST_NAME)) &#61; v_SpecialCharacters_&#10;            OR TRIM(UPPER(A.LAST_NAME)) &#61; v_SpecialCharacters_&#10;            OR TRIM(UPPER(A.ADDRESS)) &#61; v_SpecialCharacters_&#10;            OR TRIM(UPPER(A.EMAIL)) &#61; v_SpecialCharacters_&#10;            OR TRIM(UPPER(A.HOME_PHONE)) &#61; v_SpecialCharacters_&#10;            OR TRIM(UPPER(A.WORK_PHONE)) &#61; v_SpecialCharacters_&#10;&#10;            OR TRIM(UPPER(A.FIRST_NAME)) || &#39; &#39; || TRIM(UPPER(A.LAST_NAME)) &#61; v_SpecialCharacters1_&#10;            OR TRIM(UPPER(A.LAST_NAME)) || &#39; &#39; || TRIM(UPPER(A.FIRST_NAME)) &#61; v_SpecialCharacters1_&#10;&#10;            OR TRIM(UPPER(A.FIRST_NAME)) &#61; v_SpecialCharacters1_&#10;            OR TRIM(UPPER(A.LAST_NAME)) &#61; v_SpecialCharacters1_&#10;            OR TRIM(UPPER(A.ADDRESS)) &#61; v_SpecialCharacters1_&#10;            OR TRIM(UPPER(A.EMAIL)) &#61; v_SpecialCharacters1_&#10;            OR TRIM(UPPER(A.HOME_PHONE)) &#61; v_SpecialCharacters1_&#10;            OR TRIM(UPPER(A.WORK_PHONE)) &#61; v_SpecialCharacters1_&#10;            )&#10;&#10;            And NOT EXISTS (Select SPONSOR_ID from SPONSOR_INFO_SEARCH_TEMP Where SPONSOR_ID &#61; A.SPONSOR_ID)  &#10;      ) &#10;      --Order by First_Name, Last_Name &#10;      FETCH FIRST vSearchResultLimit ROWS ONLY ;&#10;&#10;    IF (v_permutations &gt; 1) THEN&#10;     step_ :&#61; &#39;ROWLEVEL-2 - EQUALS first and last name &#39; || v_Param_Original;&#10;     --DBMS_OUTPUT.put_line(step_);&#10;      INSERT INTO SPONSOR_INFO_SEARCH_TEMP&#10;      (Select DISTINCT v_Param1, Count(*) over() as rowC,  A.SPONSOR_ID, A.ALIEN_NO, A.DOB, &#10;          A.FIRST_NAME, --REGEXP_REPLACE(A.FIRST_NAME, &#39;[^0-9A-Za-z ,.#;&amp;-]&#39;, &#39;&#39;) AS FIRST_NAME, &#10;          A.Last_Name,  --REGEXP_REPLACE(A.Last_Name, &#39;[^0-9A-Za-z ,.#;&amp;-]&#39;, &#39;&#39;) AS Last_Name, &#10;          A.Address,--  REGEXP_REPLACE(A.Address, &#39;[^0-9A-Za-z ,.#-&amp;/\]&#39;, &#39;&#39;) AS Address ,&#10;          A.City,--REGEXP_REPLACE(A.City, &#39;[^0-9A-Za-z ,.#]&#39;, &#39;&#39;) AS City, &#10;          A.State, NVL(A.P_COUNTER, 0),  &#10;         REGEXP_REPLACE(A.HOME_PHONE, &#39;[^0-9]&#39;, &#39;&#39;)  as HOME_PHONE, &#10;         REGEXP_REPLACE(A.WORK_PHONE, &#39;[^0-9]&#39;, &#39;&#39;)  as WORK_PHONE,&#10;         A.EMAIL,&#10;         A.COB,&#10;         NVL(A.A_COUNTER, 0),&#10;         &#10;         CASE &#10;            WHEN UPPER(A.FLAG) IN (&#39;YES&#39;) OR A.FLAG_ADDRESS IN (&#39;1&#39;)&#10;                 OR EXISTS (SELECT 1 FROM SponsorFlag WHERE SPONSORID &#61; A.SPONSOR_ID)&#10;            THEN &#39;Yes&#39;&#10;            ELSE &#39;No&#39;&#10;        END AS Flag,&#10;&#10;        --(CASE WHEN REGEXP_REPLACE(A.FLAG, &#39;[^0-9A-Za-z ,.#]&#39;, &#39;&#39;) &#61; &#39;Yes&#39; OR nvl(A.FLAG_ADDRESS, 0) &#61; 1 THEN &#39;Yes&#39; ELSE &#39;No&#39; END) AS FLAG, &#10;        A.FLAG_NOTE, --REGEXP_REPLACE(A.FLAG_NOTE, &#39;[^0-9A-Za-z ,.#]&#39;, &#39;&#39;) as FLAG_NOTE, &#10;         &#10;         2 AS ROWLEVEL, &#39;&#39; as SPONSOR_STATUS,&#39;Add Sponsor&#39; as ADD_SPONSOR&#10;      From V_SPONSOR_INFO A&#10;        join SPONSOR_INFO_PERMUTATIONS P  ON UPPER(TRIM(P.PERMUTATIONS_KEY)) &#61; UPPER(TRIM(v_Param1))&#10;           AND TRIM(UPPER(A.FIRST_NAME)) &#61; UPPER(TRIM(P.FNAME))&#10;           AND TRIM(UPPER(A.LAST_NAME)) &#61; UPPER(TRIM(P.LNAME))&#10;           --AND TRIM(UPPER(A.FIRST_NAME)) || &#39; &#39; || TRIM(UPPER(A.LAST_NAME)) &#61; UPPER(TRIM(P.FNAME)) || &#39; &#39; || UPPER(TRIM(P.LNAME))&#10;      And NOT EXISTS (Select SPONSOR_ID from SPONSOR_INFO_SEARCH_TEMP Where SPONSOR_ID &#61; A.SPONSOR_ID) &#10;      --Order by A.First_Name, A.Last_Name &#10;      FETCH FIRST vSearchResultLimit ROWS ONLY );&#10;&#10;     step_ :&#61; &#39;ROWLEVEL-2 - EQUALS first + last name &#39; || v_Param_Original;&#10;     --DBMS_OUTPUT.put_line(step_);&#10;      INSERT INTO SPONSOR_INFO_SEARCH_TEMP&#10;      (Select DISTINCT v_Param1, Count(*) over() as rowC,  A.SPONSOR_ID, A.ALIEN_NO, A.DOB, &#10;          A.FIRST_NAME, --REGEXP_REPLACE(A.FIRST_NAME, &#39;[^0-9A-Za-z ,.#;&amp;-]&#39;, &#39;&#39;) AS FIRST_NAME, &#10;          A.Last_Name,  --REGEXP_REPLACE(A.Last_Name, &#39;[^0-9A-Za-z ,.#;&amp;-]&#39;, &#39;&#39;) AS Last_Name, &#10;          A.Address,--  REGEXP_REPLACE(A.Address, &#39;[^0-9A-Za-z ,.#-&amp;/\]&#39;, &#39;&#39;) AS Address ,&#10;          A.City,--REGEXP_REPLACE(A.City, &#39;[^0-9A-Za-z ,.#]&#39;, &#39;&#39;) AS City, &#10;          A.State, NVL(A.P_COUNTER, 0),  &#10;         REGEXP_REPLACE(A.HOME_PHONE, &#39;[^0-9]&#39;, &#39;&#39;)  as HOME_PHONE, &#10;         REGEXP_REPLACE(A.WORK_PHONE, &#39;[^0-9]&#39;, &#39;&#39;)  as WORK_PHONE,&#10;         A.EMAIL,&#10;         A.COB,&#10;         NVL(A.A_COUNTER, 0),&#10;         &#10;         CASE &#10;            WHEN UPPER(A.FLAG) IN (&#39;YES&#39;) OR A.FLAG_ADDRESS IN (&#39;1&#39;)&#10;                 OR EXISTS (SELECT 1 FROM SponsorFlag WHERE SPONSORID &#61; A.SPONSOR_ID)&#10;            THEN &#39;Yes&#39;&#10;            ELSE &#39;No&#39;&#10;        END AS Flag,&#10;&#10;        --(CASE WHEN REGEXP_REPLACE(A.FLAG, &#39;[^0-9A-Za-z ,.#]&#39;, &#39;&#39;) &#61; &#39;Yes&#39; OR nvl(A.FLAG_ADDRESS, 0) &#61; 1 THEN &#39;Yes&#39; ELSE &#39;No&#39; END) AS FLAG, &#10;        A.FLAG_NOTE, --REGEXP_REPLACE(A.FLAG_NOTE, &#39;[^0-9A-Za-z ,.#]&#39;, &#39;&#39;) as FLAG_NOTE,  &#10;         &#10;         2 AS ROWLEVEL, &#39;&#39; as SPONSOR_STATUS,&#39;Add Sponsor&#39; as ADD_SPONSOR&#10;      From V_SPONSOR_INFO A&#10;        join SPONSOR_INFO_PERMUTATIONS P  ON UPPER(TRIM(P.PERMUTATIONS_KEY)) &#61; UPPER(TRIM(v_Param1))&#10;           AND TRIM(UPPER(A.FIRST_NAME)) || &#39; &#39; || TRIM(UPPER(A.LAST_NAME)) &#61; UPPER(TRIM(P.FNAME)) || &#39; &#39; || UPPER(TRIM(P.LNAME))&#10;      And NOT EXISTS (Select SPONSOR_ID from SPONSOR_INFO_SEARCH_TEMP Where SPONSOR_ID &#61; A.SPONSOR_ID) &#10;      --Order by A.First_Name, A.Last_Name &#10;      FETCH FIRST vSearchResultLimit ROWS ONLY );&#10;&#10;&#10;     step_ :&#61; &#39;ROWLEVEL-2 - EQUALS first name &#39; || v_Param_Original;&#10;     --DBMS_OUTPUT.put_line(step_);&#10;      INSERT INTO SPONSOR_INFO_SEARCH_TEMP&#10;      (Select DISTINCT v_Param1, Count(*) over() as rowC,  A.SPONSOR_ID, A.ALIEN_NO, A.DOB, &#10;          A.FIRST_NAME, --REGEXP_REPLACE(A.FIRST_NAME, &#39;[^0-9A-Za-z ,.#;&amp;-]&#39;, &#39;&#39;) AS FIRST_NAME, &#10;          A.Last_Name,  --REGEXP_REPLACE(A.Last_Name, &#39;[^0-9A-Za-z ,.#;&amp;-]&#39;, &#39;&#39;) AS Last_Name, &#10;          A.Address,--  REGEXP_REPLACE(A.Address, &#39;[^0-9A-Za-z ,.#-&amp;/\]&#39;, &#39;&#39;) AS Address ,&#10;          A.City,--REGEXP_REPLACE(A.City, &#39;[^0-9A-Za-z ,.#]&#39;, &#39;&#39;) AS City, &#10;          A.State, NVL(A.P_COUNTER, 0), &#10;         REGEXP_REPLACE(A.HOME_PHONE, &#39;[^0-9]&#39;, &#39;&#39;)  as HOME_PHONE, &#10;         REGEXP_REPLACE(A.WORK_PHONE, &#39;[^0-9]&#39;, &#39;&#39;)  as WORK_PHONE,&#10;         A.EMAIL,&#10;         A.COB,&#10;         NVL(A.A_COUNTER, 0),&#10;         &#10;        CASE &#10;            WHEN UPPER(A.FLAG) IN (&#39;YES&#39;) OR A.FLAG_ADDRESS IN (&#39;1&#39;)&#10;                 OR EXISTS (SELECT 1 FROM SponsorFlag WHERE SPONSORID &#61; A.SPONSOR_ID)&#10;            THEN &#39;Yes&#39;&#10;            ELSE &#39;No&#39;&#10;        END AS Flag,&#10;&#10;        --(CASE WHEN REGEXP_REPLACE(A.FLAG, &#39;[^0-9A-Za-z ,.#]&#39;, &#39;&#39;) &#61; &#39;Yes&#39; OR nvl(A.FLAG_ADDRESS, 0) &#61; 1 THEN &#39;Yes&#39; ELSE &#39;No&#39; END) AS FLAG, &#10;        A.FLAG_NOTE, --REGEXP_REPLACE(A.FLAG_NOTE, &#39;[^0-9A-Za-z ,.#]&#39;, &#39;&#39;) as FLAG_NOTE, &#10;         &#10;         2 AS ROWLEVEL, &#39;&#39; as SPONSOR_STATUS,&#39;Add Sponsor&#39; as ADD_SPONSOR&#10;      From V_SPONSOR_INFO A&#10;        join SPONSOR_INFO_PERMUTATIONS P  ON UPPER(TRIM(P.PERMUTATIONS_KEY)) &#61; UPPER(TRIM(v_Param1))&#10;           AND TRIM(UPPER(A.FIRST_NAME)) &#61; UPPER(TRIM(P.FNAME)) || &#39; &#39; || UPPER(TRIM(P.LNAME))&#10;      And NOT EXISTS (Select SPONSOR_ID from SPONSOR_INFO_SEARCH_TEMP Where SPONSOR_ID &#61; A.SPONSOR_ID) &#10;      --Order by A.First_Name, A.Last_Name &#10;      FETCH FIRST vSearchResultLimit ROWS ONLY );&#10;&#10;     step_ :&#61; &#39;ROWLEVEL-2 - EQUALS last name &#39; || v_Param_Original;&#10;     --DBMS_OUTPUT.put_line(step_);&#10;      INSERT INTO SPONSOR_INFO_SEARCH_TEMP&#10;      (Select DISTINCT v_Param1, Count(*) over() as rowC,  A.SPONSOR_ID, A.ALIEN_NO, A.DOB, &#10;          A.FIRST_NAME, --REGEXP_REPLACE(A.FIRST_NAME, &#39;[^0-9A-Za-z ,.#;&amp;-]&#39;, &#39;&#39;) AS FIRST_NAME, &#10;          A.Last_Name,  --REGEXP_REPLACE(A.Last_Name, &#39;[^0-9A-Za-z ,.#;&amp;-]&#39;, &#39;&#39;) AS Last_Name, &#10;          A.Address,--  REGEXP_REPLACE(A.Address, &#39;[^0-9A-Za-z ,.#-&amp;/\]&#39;, &#39;&#39;) AS Address ,&#10;          A.City,--REGEXP_REPLACE(A.City, &#39;[^0-9A-Za-z ,.#]&#39;, &#39;&#39;) AS City, &#10;          A.State, NVL(A.P_COUNTER, 0),  &#10;         REGEXP_REPLACE(A.HOME_PHONE, &#39;[^0-9]&#39;, &#39;&#39;)  as HOME_PHONE, &#10;         REGEXP_REPLACE(A.WORK_PHONE, &#39;[^0-9]&#39;, &#39;&#39;)  as WORK_PHONE,&#10;         A.EMAIL,&#10;         A.COB,&#10;         NVL(A.A_COUNTER, 0),&#10;         &#10;        CASE &#10;            WHEN UPPER(A.FLAG) IN (&#39;YES&#39;) OR A.FLAG_ADDRESS IN (&#39;1&#39;)&#10;                 OR EXISTS (SELECT 1 FROM SponsorFlag WHERE SPONSORID &#61; A.SPONSOR_ID)&#10;            THEN &#39;Yes&#39;&#10;            ELSE &#39;No&#39;&#10;        END AS Flag,&#10;&#10;        --(CASE WHEN REGEXP_REPLACE(A.FLAG, &#39;[^0-9A-Za-z ,.#]&#39;, &#39;&#39;) &#61; &#39;Yes&#39; OR nvl(A.FLAG_ADDRESS, 0) &#61; 1 THEN &#39;Yes&#39; ELSE &#39;No&#39; END) AS FLAG, &#10;        A.FLAG_NOTE, --REGEXP_REPLACE(A.FLAG_NOTE, &#39;[^0-9A-Za-z ,.#]&#39;, &#39;&#39;) as FLAG_NOTE, &#10;         &#10;         2 AS ROWLEVEL, &#39;&#39; as SPONSOR_STATUS,&#39;Add Sponsor&#39; as ADD_SPONSOR&#10;      From V_SPONSOR_INFO A&#10;        join SPONSOR_INFO_PERMUTATIONS P  ON UPPER(TRIM(P.PERMUTATIONS_KEY)) &#61; UPPER(TRIM(v_Param1))&#10;           AND TRIM(UPPER(A.LAST_NAME)) &#61; UPPER(TRIM(P.FNAME)) || &#39; &#39; || UPPER(TRIM(P.LNAME))&#10;      And NOT EXISTS (Select SPONSOR_ID from SPONSOR_INFO_SEARCH_TEMP Where SPONSOR_ID &#61; A.SPONSOR_ID) &#10;      --Order by A.First_Name, A.Last_Name &#10;      FETCH FIRST vSearchResultLimit ROWS ONLY );&#10;&#10;    END IF;&#10;&#10;     step_ :&#61; &#39;ROWLEVEL-2 - LIKE &#39; || v_Param_Original;&#10;      INSERT INTO SPONSOR_INFO_SEARCH_TEMP&#10;      (Select DISTINCT v_Param1, Count(*) over() as rowC,  A.SPONSOR_ID, A.ALIEN_NO, A.DOB, &#10;          A.FIRST_NAME, --REGEXP_REPLACE(A.FIRST_NAME, &#39;[^0-9A-Za-z ,.#;&amp;-]&#39;, &#39;&#39;) AS FIRST_NAME, &#10;          A.Last_Name,  --REGEXP_REPLACE(A.Last_Name, &#39;[^0-9A-Za-z ,.#;&amp;-]&#39;, &#39;&#39;) AS Last_Name, &#10;          A.Address,--  REGEXP_REPLACE(A.Address, &#39;[^0-9A-Za-z ,.#-&amp;/\]&#39;, &#39;&#39;) AS Address ,&#10;          A.City,--REGEXP_REPLACE(A.City, &#39;[^0-9A-Za-z ,.#]&#39;, &#39;&#39;) AS City, &#10;          A.State, NVL(A.P_COUNTER, 0),  &#10;         REGEXP_REPLACE(A.HOME_PHONE, &#39;[^0-9]&#39;, &#39;&#39;)  as HOME_PHONE, &#10;         REGEXP_REPLACE(A.WORK_PHONE, &#39;[^0-9]&#39;, &#39;&#39;)  as WORK_PHONE,&#10;         A.EMAIL,&#10;         A.COB,&#10;         NVL(A.A_COUNTER, 0),&#10;         &#10;        CASE &#10;            WHEN UPPER(A.FLAG) IN (&#39;YES&#39;) OR A.FLAG_ADDRESS IN (&#39;1&#39;)&#10;                 OR EXISTS (SELECT 1 FROM SponsorFlag WHERE SPONSORID &#61; A.SPONSOR_ID)&#10;            THEN &#39;Yes&#39;&#10;            ELSE &#39;No&#39;&#10;        END AS Flag,&#10;&#10;        --(CASE WHEN REGEXP_REPLACE(A.FLAG, &#39;[^0-9A-Za-z ,.#]&#39;, &#39;&#39;) &#61; &#39;Yes&#39; OR nvl(A.FLAG_ADDRESS, 0) &#61; 1 THEN &#39;Yes&#39; ELSE &#39;No&#39; END) AS FLAG, &#10;        A.FLAG_NOTE, --REGEXP_REPLACE(A.FLAG_NOTE, &#39;[^0-9A-Za-z ,.#]&#39;, &#39;&#39;) as FLAG_NOTE, &#10;        &#10;         2 AS ROWLEVEL, &#39;&#39; as SPONSOR_STATUS,&#39;Add Sponsor&#39; as ADD_SPONSOR&#10;      From V_SPONSOR_INFO A&#10;        join SPONSOR_INFO_PERMUTATIONS P  ON UPPER(TRIM(P.PERMUTATIONS_KEY)) &#61; UPPER(TRIM(v_Param1))&#10;           AND (&#39;%&#39; || TRIM(UPPER(A.FIRST_NAME)) || &#39;%&#39; like &#39;%&#39; || UPPER(TRIM(P.FNAME)) || &#39;%&#39;&#10;           AND &#39;%&#39; || TRIM(UPPER(A.LAST_NAME)) || &#39;%&#39; like &#39;%&#39; || UPPER(TRIM(P.LNAME)) || &#39;%&#39;)&#10;      And NOT EXISTS (Select SPONSOR_ID from SPONSOR_INFO_SEARCH_TEMP Where SPONSOR_ID &#61; A.SPONSOR_ID) &#10;      --Order by A.First_Name, A.Last_Name &#10;      FETCH FIRST vSearchResultLimit ROWS ONLY );&#10;&#10;    step_ :&#61; &#39;ROWLEVEL-3&#39;;&#10;    INSERT INTO SPONSOR_INFO_SEARCH_TEMP&#10;     Select DISTINCT * FROM&#10;       (Select DISTINCT v_Param1, Count(*) over() as rowC,  A.SPONSOR_ID, A.ALIEN_NO, A.DOB, &#10;          A.FIRST_NAME, --REGEXP_REPLACE(A.FIRST_NAME, &#39;[^0-9A-Za-z ,.#;&amp;-]&#39;, &#39;&#39;) AS FIRST_NAME, &#10;          A.Last_Name,  --REGEXP_REPLACE(A.Last_Name, &#39;[^0-9A-Za-z ,.#;&amp;-]&#39;, &#39;&#39;) AS Last_Name, &#10;          A.Address,--  REGEXP_REPLACE(A.Address, &#39;[^0-9A-Za-z ,.#-&amp;/\]&#39;, &#39;&#39;) AS Address ,&#10;          A.City,--REGEXP_REPLACE(A.City, &#39;[^0-9A-Za-z ,.#]&#39;, &#39;&#39;) AS City, &#10;          A.State, NVL(A.P_COUNTER, 0), &#10;         REGEXP_REPLACE(A.HOME_PHONE, &#39;[^0-9]&#39;, &#39;&#39;)  as HOME_PHONE, &#10;         REGEXP_REPLACE(A.WORK_PHONE, &#39;[^0-9]&#39;, &#39;&#39;)  as WORK_PHONE,&#10;         A.EMAIL,&#10;         A.COB,&#10;         NVL(A.A_COUNTER, 0), &#10;         &#10;        CASE &#10;            WHEN UPPER(A.FLAG) IN (&#39;YES&#39;) OR A.FLAG_ADDRESS IN (&#39;1&#39;)&#10;                 OR EXISTS (SELECT 1 FROM SponsorFlag WHERE SPONSORID &#61; A.SPONSOR_ID)&#10;            THEN &#39;Yes&#39;&#10;            ELSE &#39;No&#39;&#10;        END AS Flag,&#10;&#10;        --(CASE WHEN REGEXP_REPLACE(A.FLAG, &#39;[^0-9A-Za-z ,.#]&#39;, &#39;&#39;) &#61; &#39;Yes&#39; OR nvl(A.FLAG_ADDRESS, 0) &#61; 1 THEN &#39;Yes&#39; ELSE &#39;No&#39; END) AS FLAG, &#10;        A.FLAG_NOTE, --REGEXP_REPLACE(A.FLAG_NOTE, &#39;[^0-9A-Za-z ,.#]&#39;, &#39;&#39;) as FLAG_NOTE, &#10;         &#10;         3 AS ROWLEVEL, &#39;&#39; as SPONSOR_STATUS,&#39;Add Sponsor&#39; as ADD_SPONSOR&#10;      From V_SPONSOR_INFO A&#10;      where (&#10;            TRIM(UPPER(REPLACE(A.FIRST_NAME, &#39;&#39;&#39;&#39;,&#39;&#39;))) Like REPLACE(v_Param_Original, &#39;&#39;&#39;&#39;,&#39;&#39;) || &#39;%&#39;&#10;            OR TRIM(UPPER(REPLACE(A.LAST_NAME, &#39;&#39;&#39;&#39;,&#39;&#39;))) Like REPLACE(v_Param_Original, &#39;&#39;&#39;&#39;,&#39;&#39;) || &#39;%&#39;&#10;            OR TRIM(UPPER(REPLACE(A.ADDRESS, &#39;&#39;&#39;&#39;,&#39;&#39;))) LIKE REPLACE(v_Param_Original, &#39;&#39;&#39;&#39;,&#39;&#39;) || &#39;%&#39;&#10;            OR TRIM(UPPER(A.EMAIL)) Like v_Param_Original || &#39;%&#39;&#10;&#10;            OR TRIM(UPPER(A.HOME_PHONE)) like v_Param_Original || &#39;%&#39;&#10;            OR TRIM(UPPER(A.WORK_PHONE)) like v_Param_Original || &#39;%&#39;&#10;&#10;            OR TRIM(UPPER(A.FIRST_NAME)) || &#39; &#39; || TRIM(UPPER(A.LAST_NAME)) Like v_Param_Original || &#39;%&#39;&#10;            OR TRIM(UPPER(A.LAST_NAME)) || &#39; &#39; || TRIM(UPPER(A.FIRST_NAME)) Like v_Param_Original || &#39;%&#39;&#10;&#10;            -- SPECIAL CHARACTERS&#10;            OR TRIM(UPPER(A.FIRST_NAME)) || &#39; &#39; || TRIM(UPPER(A.LAST_NAME)) &#61; v_SpecialCharacters_ || &#39;%&#39;&#10;            OR TRIM(UPPER(A.LAST_NAME)) || &#39; &#39; || TRIM(UPPER(A.FIRST_NAME)) &#61; v_SpecialCharacters_ || &#39;%&#39;&#10;&#10;            OR TRIM(UPPER(A.FIRST_NAME)) like v_SpecialCharacters_ || &#39;%&#39;&#10;            OR TRIM(UPPER(A.LAST_NAME)) like v_SpecialCharacters_ || &#39;%&#39;&#10;            OR TRIM(UPPER(A.ADDRESS)) like v_SpecialCharacters_ || &#39;%&#39;&#10;            OR TRIM(UPPER(A.EMAIL)) like v_SpecialCharacters_ || &#39;%&#39;&#10;            OR TRIM(UPPER(A.HOME_PHONE)) like v_SpecialCharacters_ || &#39;%&#39;&#10;            OR TRIM(UPPER(A.WORK_PHONE)) like v_SpecialCharacters_ || &#39;%&#39;&#10;&#10;            OR TRIM(UPPER(A.FIRST_NAME)) || &#39; &#39; || TRIM(UPPER(A.LAST_NAME)) like v_SpecialCharacters1_ || &#39;%&#39;&#10;            OR TRIM(UPPER(A.LAST_NAME)) || &#39; &#39; || TRIM(UPPER(A.FIRST_NAME)) like v_SpecialCharacters1_ || &#39;%&#39;&#10;&#10;            OR TRIM(UPPER(A.FIRST_NAME)) &#61; v_SpecialCharacters1_ || &#39;%&#39;&#10;            OR TRIM(UPPER(A.LAST_NAME)) &#61; v_SpecialCharacters1_ || &#39;%&#39;&#10;            OR TRIM(UPPER(A.ADDRESS)) &#61; v_SpecialCharacters1_ || &#39;%&#39;&#10;            OR TRIM(UPPER(A.EMAIL)) &#61; v_SpecialCharacters1_ || &#39;%&#39;&#10;            OR TRIM(UPPER(A.HOME_PHONE)) &#61; v_SpecialCharacters1_ || &#39;%&#39;&#10;            OR TRIM(UPPER(A.WORK_PHONE)) &#61; v_SpecialCharacters1_  || &#39;%&#39;        ) &#10;     And NOT EXISTS (Select SPONSOR_ID from SPONSOR_INFO_SEARCH_TEMP Where SPONSOR_ID &#61; A.SPONSOR_ID)   &#10;     --Order by A.First_Name, A.Last_Name &#10;     FETCH FIRST vSearchResultLimit ROWS ONLY );&#10;&#10;    step_ :&#61; &#39;ROWLEVEL-4&#39;;&#10;    INSERT INTO SPONSOR_INFO_SEARCH_TEMP&#10;     Select DISTINCT * FROM&#10;       (Select DISTINCT v_Param1, Count(*) over() as rowC,  A.SPONSOR_ID, A.ALIEN_NO, A.DOB, &#10;          A.FIRST_NAME, --REGEXP_REPLACE(A.FIRST_NAME, &#39;[^0-9A-Za-z ,.#;&amp;-]&#39;, &#39;&#39;) AS FIRST_NAME, &#10;          A.Last_Name,  --REGEXP_REPLACE(A.Last_Name, &#39;[^0-9A-Za-z ,.#;&amp;-]&#39;, &#39;&#39;) AS Last_Name, &#10;          A.Address,--  REGEXP_REPLACE(A.Address, &#39;[^0-9A-Za-z ,.#-&amp;/\]&#39;, &#39;&#39;) AS Address ,&#10;          A.City,--REGEXP_REPLACE(A.City, &#39;[^0-9A-Za-z ,.#]&#39;, &#39;&#39;) AS City, &#10;          A.State, NVL(A.P_COUNTER, 0),  &#10;         REGEXP_REPLACE(A.HOME_PHONE, &#39;[^0-9]&#39;, &#39;&#39;)  as HOME_PHONE, &#10;         REGEXP_REPLACE(A.WORK_PHONE, &#39;[^0-9]&#39;, &#39;&#39;)  as WORK_PHONE,&#10;         A.EMAIL,&#10;         A.COB,&#10;         NVL(A.A_COUNTER, 0), &#10;         &#10;         CASE &#10;            WHEN UPPER(A.FLAG) IN (&#39;YES&#39;) OR A.FLAG_ADDRESS IN (&#39;1&#39;)&#10;                 OR EXISTS (SELECT 1 FROM SponsorFlag WHERE SPONSORID &#61; A.SPONSOR_ID)&#10;            THEN &#39;Yes&#39;&#10;            ELSE &#39;No&#39;&#10;        END AS Flag,&#10;&#10;        --(CASE WHEN REGEXP_REPLACE(A.FLAG, &#39;[^0-9A-Za-z ,.#]&#39;, &#39;&#39;) &#61; &#39;Yes&#39; OR nvl(A.FLAG_ADDRESS, 0) &#61; 1 THEN &#39;Yes&#39; ELSE &#39;No&#39; END) AS FLAG, &#10;        A.FLAG_NOTE, --REGEXP_REPLACE(A.FLAG_NOTE, &#39;[^0-9A-Za-z ,.#]&#39;, &#39;&#39;) as FLAG_NOTE, &#10;        &#10;         4 AS ROWLEVEL, &#39;&#39; as SPONSOR_STATUS,&#39;Add Sponsor&#39; as ADD_SPONSOR&#10;      From V_SPONSOR_INFO A&#10;      where (&#10;            TRIM(UPPER(REPLACE(A.FIRST_NAME, &#39;&#39;&#39;&#39;,&#39;&#39;))) Like &#39;%&#39; || REPLACE(v_Param_Original, &#39;&#39;&#39;&#39;,&#39;&#39;) || &#39;%&#39;&#10;            OR TRIM(UPPER(REPLACE(A.LAST_NAME, &#39;&#39;&#39;&#39;,&#39;&#39;))) Like &#39;%&#39; || REPLACE(v_Param_Original, &#39;&#39;&#39;&#39;,&#39;&#39;) || &#39;%&#39;&#10;            OR TRIM(UPPER(REPLACE(A.ADDRESS, &#39;&#39;&#39;&#39;,&#39;&#39;))) LIKE &#39;%&#39; || REPLACE(v_Param_Original, &#39;&#39;&#39;&#39;,&#39;&#39;) || &#39;%&#39;&#10;            OR TRIM(UPPER(A.EMAIL)) Like &#39;%&#39; || v_Param_Original || &#39;%&#39;&#10;&#10;            OR TRIM(UPPER(A.HOME_PHONE)) like &#39;%&#39; || v_Param_Original || &#39;%&#39;&#10;            OR TRIM(UPPER(A.WORK_PHONE)) like &#39;%&#39; || v_Param_Original || &#39;%&#39;&#10;&#10;            OR TRIM(UPPER(A.FIRST_NAME)) Like v_ParmCat&#10;            OR TRIM(UPPER(A.LAST_NAME)) Like v_ParmCat&#10;            OR TRIM(UPPER(A.ADDRESS)) Like v_ParmCat&#10;            OR TRIM(UPPER(A.FIRST_NAME)) || &#39; &#39; || TRIM(UPPER(A.LAST_NAME)) Like v_ParmCat&#10;&#10;            OR TRIM(UPPER(A.FIRST_NAME)) || &#39; &#39; || TRIM(UPPER(A.LAST_NAME)) Like &#39;%&#39; || v_Param_Original || &#39;%&#39;&#10;            OR TRIM(UPPER(A.LAST_NAME)) || &#39; &#39; || TRIM(UPPER(A.FIRST_NAME)) Like &#39;%&#39; || v_Param_Original || &#39;%&#39;&#10;&#10;            -- SPECIAL CHARACTERS&#10;            OR TRIM(UPPER(A.FIRST_NAME)) || &#39; &#39; || TRIM(UPPER(A.LAST_NAME)) &#61; &#39;%&#39; || v_SpecialCharacters_ || &#39;%&#39;&#10;            OR TRIM(UPPER(A.LAST_NAME)) || &#39; &#39; || TRIM(UPPER(A.FIRST_NAME)) &#61; &#39;%&#39; || v_SpecialCharacters_ || &#39;%&#39;&#10;&#10;            OR TRIM(UPPER(A.FIRST_NAME)) like &#39;%&#39; || v_SpecialCharacters_ || &#39;%&#39;&#10;            OR TRIM(UPPER(A.LAST_NAME)) like &#39;%&#39; || v_SpecialCharacters_ || &#39;%&#39;&#10;            OR TRIM(UPPER(A.ADDRESS)) like &#39;%&#39; || v_SpecialCharacters_ || &#39;%&#39;&#10;            OR TRIM(UPPER(A.EMAIL)) like &#39;%&#39; || v_SpecialCharacters_ || &#39;%&#39;&#10;            OR TRIM(UPPER(A.HOME_PHONE)) like &#39;%&#39; || v_SpecialCharacters_ || &#39;%&#39;&#10;            OR TRIM(UPPER(A.WORK_PHONE)) like &#39;%&#39; || v_SpecialCharacters_ || &#39;%&#39;&#10;&#10;            OR TRIM(UPPER(A.FIRST_NAME)) || &#39; &#39; || TRIM(UPPER(A.LAST_NAME)) like &#39;%&#39; || v_SpecialCharacters1_ || &#39;%&#39;&#10;            OR TRIM(UPPER(A.LAST_NAME)) || &#39; &#39; || TRIM(UPPER(A.FIRST_NAME)) like &#39;%&#39; || v_SpecialCharacters1_ || &#39;%&#39;&#10;&#10;            OR TRIM(UPPER(A.FIRST_NAME)) like &#39;%&#39; || v_SpecialCharacters1_ || &#39;%&#39;&#10;            OR TRIM(UPPER(A.LAST_NAME)) like &#39;%&#39; || v_SpecialCharacters1_ || &#39;%&#39;&#10;            OR TRIM(UPPER(A.ADDRESS)) like &#39;%&#39; || v_SpecialCharacters1_ || &#39;%&#39;&#10;            OR TRIM(UPPER(A.EMAIL)) like &#39;%&#39; || v_SpecialCharacters1_ || &#39;%&#39;&#10;            OR TRIM(UPPER(A.HOME_PHONE)) like &#39;%&#39; || v_SpecialCharacters1_ || &#39;%&#39;&#10;            OR TRIM(UPPER(A.WORK_PHONE)) like &#39;%&#39; || v_SpecialCharacters1_  || &#39;%&#39;   &#10;      ) &#10;      And NOT EXISTS (Select SPONSOR_ID from SPONSOR_INFO_SEARCH_TEMP Where SPONSOR_ID &#61; A.SPONSOR_ID)    &#10;      --Order by A.First_Name, A.Last_Name &#10;      FETCH FIRST vSearchResultLimit ROWS ONLY );          &#10;&#10;      step_ :&#61; &#39;ROWLEVEL-5&#39;;&#10;      INSERT INTO SPONSOR_INFO_SEARCH_TEMP&#10;       (Select DISTINCT v_Param1, Count(*) over() as rowC,  A.SPONSOR_ID, A.ALIEN_NO, A.DOB, &#10;          A.FIRST_NAME, --REGEXP_REPLACE(A.FIRST_NAME, &#39;[^0-9A-Za-z ,.#;&amp;-]&#39;, &#39;&#39;) AS FIRST_NAME, &#10;          A.Last_Name,  --REGEXP_REPLACE(A.Last_Name, &#39;[^0-9A-Za-z ,.#;&amp;-]&#39;, &#39;&#39;) AS Last_Name, &#10;          A.Address,--  REGEXP_REPLACE(A.Address, &#39;[^0-9A-Za-z ,.#-&amp;/\]&#39;, &#39;&#39;) AS Address ,&#10;          A.City,--REGEXP_REPLACE(A.City, &#39;[^0-9A-Za-z ,.#]&#39;, &#39;&#39;) AS City, &#10;          A.State, NVL(A.P_COUNTER, 0), &#10;         REGEXP_REPLACE(A.HOME_PHONE, &#39;[^0-9]&#39;, &#39;&#39;)  as HOME_PHONE, &#10;         REGEXP_REPLACE(A.WORK_PHONE, &#39;[^0-9]&#39;, &#39;&#39;)  as WORK_PHONE,&#10;         A.EMAIL,&#10;         A.COB,&#10;         NVL(A.A_COUNTER, 0), &#10;         &#10;        CASE &#10;            WHEN UPPER(A.FLAG) IN (&#39;YES&#39;) OR A.FLAG_ADDRESS IN (&#39;1&#39;)&#10;                 OR EXISTS (SELECT 1 FROM SponsorFlag WHERE SPONSORID &#61; A.SPONSOR_ID)&#10;            THEN &#39;Yes&#39;&#10;            ELSE &#39;No&#39;&#10;        END AS Flag,&#10;&#10;        --(CASE WHEN REGEXP_REPLACE(A.FLAG, &#39;[^0-9A-Za-z ,.#]&#39;, &#39;&#39;) &#61; &#39;Yes&#39; OR nvl(A.FLAG_ADDRESS, 0) &#61; 1 THEN &#39;Yes&#39; ELSE &#39;No&#39; END) AS FLAG, &#10;        A.FLAG_NOTE, --REGEXP_REPLACE(A.FLAG_NOTE, &#39;[^0-9A-Za-z ,.#]&#39;, &#39;&#39;) as FLAG_NOTE, &#10;        &#10;        5 AS ROWLEVEL, &#39;&#39; as SPONSOR_STATUS,&#39;Add Sponsor&#39; as ADD_SPONSOR&#10;      From V_SPONSOR_INFO A&#10;      where &#10;          --SOUNDEX(TRIM(UPPER(A.First_Name)) || &#39; &#39; || TRIM(UPPER(A.Last_Name))) &#61; SOUNDEX(TRIM(UPPER(v_Search_Value)))&#10;          --OR SOUNDEX(TRIM(UPPER(A.First_Name))) &#61; SOUNDEX(TRIM(UPPER(v_Search_Value)))&#10;          --OR SOUNDEX(TRIM(UPPER(A.LAST_Name))) &#61; SOUNDEX(TRIM(UPPER(v_Search_Value)))      &#10;          SOUNDEX(LOWER(A.First_Name || &#39; &#39; || A.Last_Name)) &#61; SOUNDEX(LOWER(v_replaced_))&#10;        And NOT EXISTS (Select SPONSOR_ID from SPONSOR_INFO_SEARCH_TEMP Where SPONSOR_ID &#61; A.SPONSOR_ID) &#10;     --Order by  A.First_Name, A.Last_Name &#10;     FETCH FIRST vSearchResultLimit ROWS ONLY );&#10;&#10;    EXCEPTION &#10;       WHEN OTHERS THEN errors_ :&#61; &#39;Database error: &#39; || &#39; &#39; || SQLERRM;&#10;    END;        &#10;   END IF;&#10;&#10;    --- retrieve all of the records&#10;    IF (errors_ IS NULL) THEN&#10;        Open cur_Out For&#10;          SELECT DISTINCT rowC, SPONSOR_ID, ALIEN_NO, DOB, First_Name, Last_Name,Address, City, State, P_COUNTER, &#10;          HOME_PHONE, WORK_PHONE, EMAIL,COB,&#10;           A_COUNTER, FLAG, FLAG_NOTE, ROWLEVEL, SPONSOR_STATUS, ADD_SPONSOR &#10;          FROM SPONSOR_INFO_SEARCH_TEMP &#10;          WHERE SEARCH_KEY &#61; v_Param1&#10;          ORDER BY ROWLEVEL;&#10;    ELSE&#10;       --INSERT INTO SPONSOR_INFO_SEARCH_TEMP&#10;       --Select DISTINCT v_Param1, 0 as rowC,  0 AS SPONSOR_ID, &#39;&#39; AS ALIEN_NO, NULL AS DOB, &#10;          --&#39;Database_Error&#39; AS FIRST_NAME, &#10;          --&#39;SP_SEARCH_BY_SPONSORS_BY_ARRAY&#39; AS Last_Name, &#10;         -- errors_ || &#39; IN &#39; || step_ AS Address, &#10;         -- &#39;&#39; AS City, &#10;         -- &#39;&#39; AS State, 0 AS P_COUNTER, &#10;         -- &#39;0000000000&#39; as HOME_PHONE, &#39;0000000000&#39;  as WORK_PHONE,&#10;         --&#39;&#39; AS EMAIL,&#10;         --&#39;&#39; AS COB,&#10;       -- 0 AS A_COUNTER, &#39;&#39; AS FLAG, &#39;&#39; as FLAG_NOTE, -1 AS ROWLEVEL, &#39;&#39; as SPONSOR_STATUS,&#39;&#39; as ADD_SPONSOR&#10;       -- FROM DUAL;&#10;&#10;        Open cur_Out For&#10;          SELECT DISTINCT rowC, SPONSOR_ID, ALIEN_NO, DOB, First_Name, Last_Name,Address, City, State, P_COUNTER, &#10;          HOME_PHONE, WORK_PHONE, EMAIL,COB,&#10;           A_COUNTER, FLAG, FLAG_NOTE, ROWLEVEL, SPONSOR_STATUS, ADD_SPONSOR &#10;          FROM SPONSOR_INFO_SEARCH_TEMP &#10;          WHERE SEARCH_KEY &#61; v_Param1&#10;          ORDER BY ROWLEVEL;        &#10;    END IF;&#10;&#10;    -- delete the values from the temp table based on the v_Param1&#10;    DELETE FROM SPONSOR_INFO_SEARCH_TEMP WHERE SEARCH_KEY &#61; v_Param1;&#10;    DELETE FROM SPONSOR_INFO_PERMUTATIONS WHERE PERMUTATIONS_KEY &#61; v_Param1;&#10;&#10;END SP_SEARCH_BY_SPONSORS_BY_ARRAY;</textarea>
                        </div>
                    </div>
                </section>
            </div>
            <!-- /.content-wrapper -->
            <footer class="main-footer">
                <div>
                    <div class="pull-right hidden-xs">
                        <a href="https://github.com/schemaspy/schemaspy" title="GitHub for SchemaSpy"><i class="fa fa-github-square fa-2x"></i></a>
                        <a href="http://stackoverflow.com/questions/tagged/schemaspy" title="StackOverflow for SchemaSpy"><i class="fa fa-stack-overflow fa-2x"></i></a>
                    </div>
                    <strong>Generated by <a href="http://schemaspy.org/" class="logo-text"><i class="fa fa-database"></i> SchemaSpy 6.2.4</a></strong>
                </div>
                <!-- /.container -->
            </footer>
        </div>
        <!-- ./wrapper -->

        <!-- jQuery 2.2.3 -->
        <script src="../bower/admin-lte/plugins/jQuery/jquery-2.2.3.min.js"></script>
        <script src="../bower/admin-lte/plugins/jQueryUI/jquery-ui.min.js"></script>
        <!-- Bootstrap 3.3.5 -->
        <script src="../bower/admin-lte/bootstrap/js/bootstrap.min.js"></script>
        <!-- DataTables -->
        <script src="../bower/datatables.net/jquery.dataTables.min.js"></script>
        <script src="../bower/datatables.net-bs/js/dataTables.bootstrap.min.js"></script>
        <script src="../bower/datatables.net-buttons/dataTables.buttons.min.js"></script>
        <script src="../bower/datatables.net-buttons-bs/js/buttons.bootstrap.min.js"></script>
        <script src="../bower/datatables.net-buttons/buttons.html5.min.js"></script>
        <script src="../bower/datatables.net-buttons/buttons.print.min.js"></script>
        <script src="../bower/datatables.net-buttons/buttons.colVis.min.js"></script>
        <!-- SheetJS -->
        <script src="../bower/js-xlsx/xlsx.full.min.js"></script>
        <!-- pdfmake -->
        <script src="../bower/pdfmake/pdfmake.min.js"></script>
        <script src="../bower/pdfmake/vfs_fonts.js"></script>
        <!-- SlimScroll -->
        <script src="../bower/admin-lte/plugins/slimScroll/jquery.slimscroll.min.js"></script>
        <!-- FastClick -->
        <script src="../bower/admin-lte/plugins/fastclick/fastclick.js"></script>
        <!-- Salvattore -->
        <script src="../bower/salvattore/salvattore.min.js"></script>
        <!-- AnchorJS -->
        <script src="../bower/anchor-js/anchor.min.js"></script>
        <!-- CodeMirror -->
        <script src="../bower/codemirror/codemirror.js"></script>
        <script src="../bower/codemirror/sql.js"></script>
        <!-- AdminLTE App -->
        <script src="../bower/admin-lte/dist/js/app.min.js"></script>
        <script src="routine.js"></script>
        <script src="../schemaSpy.js"></script>
    </body>
</html>